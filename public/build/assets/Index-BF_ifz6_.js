import{s as w}from"./index-vJE7RRr3.js";import{aJ as x,bL as U,d as c,C as N,f as _,a as n,b as s,w as m,u as t,F as E,G as d,o as T}from"./app-CBc5Czfh.js";import{_ as A}from"./Datatable-DzjsYz9O.js";import{s as I}from"./index-CfLcSOwv.js";import{_ as R}from"./Modal-DjEk-QB0.js";import{_ as i}from"./Input-BHBpCl1b.js";import"./index-Cvbi2B0M.js";import"./index-s3b0TedI.js";import"./index-lL7pDww9.js";import"./index-BSL7TF0k.js";import"./index-C4LV00zy.js";import"./index-D2qf-IdM.js";import"./index-HkDztY62.js";import"./index-zr4IuVip.js";import"./index-CfsFwtJj.js";import"./index-C6j_e8Ml.js";import"./index-CYsGQbq9.js";import"./index-DgRf8sZN.js";import"./useCommonUtilities-DO03hYfs.js";import"./moment-Cijl8gKs.js";import"./postcss-Cuft-Czo.js";import"./index-BtGyfXK9.js";import"./index-CWnkBldo.js";const S={class:"h-[99vh]"},D={class:"space-y-3"},oe={__name:"Index",props:{users:Array},setup(f){const b=[{header:"Nombre",field:"name",filter:!0},{header:"Correo",field:"email",filter:!0},{header:"Creación",field:"created_at",type:"datetime",filter:!0},{header:"URL Portafolio",field:"url"}],v=x(),V=U(),u=c(!1),a=N({name:"",email:"",password:"",password_confirmation:""}),r=c(!1),y={action:()=>{a.reset(),u.value=!1,r.value=!0}},g=[{action:l=>{r.value=!0,u.value=!0,a.name=l.name,a.email=l.email},severity:"secondary",icon:"fa-solid fa-pencil text-sm"},{action:(l,e)=>{V.require({target:e.currentTarget,message:"Seguro de Eliminar el Usuario "+l.name+"?",icon:"fa-solid fa-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-sm p-button-danger",rejectLabel:"Cancelar",acceptLabel:"Eliminar",accept:()=>{console.log(l),d.delete(route("users.destroy",l.id),{onSuccess:()=>{v.add({severity:"error",icon:"fa-solid fa-trash-can",summary:"¡Accion realizada!",detail:"Usuario eliminado con exito",group:"customTooltipDataTable",life:5e3})}})}})},severity:"danger",icon:"fa-regular fa-trash-can text-sm"}],C=()=>{u.value?d.put(route("users.update",a.id),a):d.post(route("users.store"),a,{onSuccess:()=>{r.value=!1}})};return(l,e)=>{const p=w;return T(),_(E,null,[n("div",S,[s(A,{columnas:b,add:y,data:f.users,routecreate:"services.create",actions:g},null,8,["data"])]),s(R,{visible:r.value,"onUpdate:visible":e[6]||(e[6]=o=>r.value=o)},{title:m(()=>e[7]||(e[7]=[n("span",{class:"text-xl font-bold white-space-nowrap"}," Agregar Usuario",-1)])),icon:m(()=>e[8]||(e[8]=[n("i",{class:"fa-solid fa-plus"},null,-1)])),footer:m(()=>[s(p,{onClick:C,title:"Guardar",severity:"success",label:"Guardar",outlined:"",icon:"fa-solid fa-save",class:"!h-8"}),s(p,{onClick:e[5]||(e[5]=o=>r.value=!1),title:"Cancel",severity:"danger",label:"Cancelar",outlined:"",icon:"fa-solid fa-times",class:"!h-8"})]),default:m(()=>[n("div",D,[s(i,{label:"Nombre",modelValue:t(a).name,"onUpdate:modelValue":e[0]||(e[0]=o=>t(a).name=o)},null,8,["modelValue"]),s(i,{label:"Email",modelValue:t(a).email,"onUpdate:modelValue":e[1]||(e[1]=o=>t(a).email=o)},null,8,["modelValue"]),s(i,{label:"Rol",type:"dropdown",options:["ADMINISTRADOR","VENDEDOR","VISITANTE","SIN ROL"],modelValue:t(a).rol,"onUpdate:modelValue":e[2]||(e[2]=o=>t(a).rol=o)},null,8,["modelValue"]),s(i,{label:"Contraseña",type:"password",modelValue:t(a).password,"onUpdate:modelValue":e[3]||(e[3]=o=>t(a).password=o)},null,8,["modelValue"]),s(i,{label:"Confirmar contraseña",type:"password",modelValue:t(a).password_confirmation,"onUpdate:modelValue":e[4]||(e[4]=o=>t(a).password_confirmation=o)},null,8,["modelValue"])])]),_:1},8,["visible"]),s(t(I))],64)}}};export{oe as default};
