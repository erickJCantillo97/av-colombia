import{d as a,q as S,B as L,fb as T,f as s,o,a as e,b as l,m as z,v as A,eY as y,w as f,g,t as b,F as j,i as V,dX as _,u as k,j as I,r as N,S as U}from"./app-BcuP1crW.js";/* empty css                                                                     */import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{H as F}from"./Header-oxTkbMx_.js";import O from"./FooterSection-HzwRwutc.js";import{_ as P}from"./logo-BHGB3AOv.js";const q={class:"flex"},K={class:"relative"},G={key:0,class:"absolute z-10 mt-2 w-full origin-top-right rounded-xl border border-gray-200 bg-white shadow-2xl"},Q={class:"p-4"},R={key:0,class:"mb-4"},W={class:"mt-2 space-y-1"},X={class:"flex items-center gap-4"},Y={class:"font-medium text-indigo-700"},J={key:1},Z={class:"mt-2 space-y-1"},ee={class:"flex items-center gap-4"},te=["innerHTML"],se={class:"font-medium text-gray-800"},oe={key:0,class:"fixed inset-0 z-[99999999] flex items-center justify-center bg-black bg-opacity-50"},ne={class:"modal-container w-full max-w-2xl rounded-xl bg-white shadow-2xl m-4"},re={class:"p-6"},ae={key:0,class:"mt-4 text-center py-8"},le=["innerHTML"],ie={key:0,class:"flex justify-end gap-2 border-t border-gray-200 bg-gray-50 px-6 py-3 rounded-b-xl"},de={__name:"Experiencias",setup(C){const c=a(!1),d=a(!1),n=a(!1),i=a(""),u=a(""),v=a(null),$=()=>{c.value=!0},m=()=>{c.value=!1},B=()=>{d.value=!0},x=()=>{d.value=!1,u.value=""},h=async()=>{if(!i.value.trim())return;m(),B(),n.value=!0;const p="/get-service";try{const r=(await axios.post(p,{prompt:i.value})).data;u.value=r.recommendation||r.response||"No se recibió una recomendación válida."}catch(t){console.error("Error al contactar el backend:",t),u.value=`Ocurrió un error al buscar el producto: ${t.message}`}finally{n.value=!1}},E=S(()=>{if(!u.value)return"";const t=marked.parse(u.value).replace(/<a href="([^"]+)">/g,(r,M)=>`<a href="/showservice/${M}" target="_blank" rel="noopener noreferrer" class="text-green-600 hover:text-green-800 font-semibold underline">`);return console.log(t),t}),H=a([{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline></svg>',title:"Todos los Tours"},{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line></svg>',title:"Todas las Embarcaciones"}]),w=p=>{v.value&&!v.value.contains(p.target)&&m()};return L(()=>document.addEventListener("mousedown",w)),T(()=>document.removeEventListener("mousedown",w)),(p,t)=>(o(),s("div",q,[e("div",{class:"relative w-full",ref_key:"searchContainer",ref:v},[e("div",K,[t[1]||(t[1]=e("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-4"},[e("svg",{class:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})])],-1)),z(e("input",{type:"text",placeholder:"Describe el servicio que buscas...","onUpdate:modelValue":t[0]||(t[0]=r=>i.value=r),onFocus:$,onKeydown:[y(m,["esc"]),y(h,["enter"])],class:"w-full rounded-lg border border-gray-300 bg-white py-3 pl-11 pr-4 text-gray-800 shadow-sm transition-all duration-200 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50"},null,544),[[A,i.value]])]),l(_,{name:"panel"},{default:f(()=>[c.value?(o(),s("div",G,[e("div",Q,[i.value?(o(),s("div",R,[t[4]||(t[4]=e("h3",{class:"text-xs font-semibold uppercase text-gray-400"},"Acción Inteligente",-1)),e("ul",W,[e("li",{onClick:h,class:"flex cursor-pointer items-center justify-between rounded-lg p-3 hover:bg-indigo-50"},[e("div",X,[t[3]||(t[3]=e("div",{class:"flex h-10 w-10 items-center justify-center rounded-lg bg-indigo-100 text-indigo-600"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"h-5 w-5"},[e("path",{d:"m12 3-1.9 4.8-4.8 1.9 4.8 1.9 1.9 4.8 1.9-4.8 4.8-1.9-4.8-1.9z"})])],-1)),e("div",null,[e("p",Y,'✨ Encontrar Serivicio para: "'+b(i.value)+'"',1),t[2]||(t[2]=e("p",{class:"text-sm text-gray-500"},"Usar IA para buscar en nuestra base de datos.",-1))])])])])])):g("",!0),i.value?g("",!0):(o(),s("div",J,[t[5]||(t[5]=e("h3",{class:"text-xs font-semibold uppercase text-gray-400"},"Acciones rápidas",-1)),e("ul",Z,[(o(!0),s(j,null,V(H.value,r=>(o(),s("li",{key:r.title,class:"flex cursor-pointer items-center justify-between rounded-lg p-3 hover:bg-gray-100"},[e("div",ee,[e("div",{class:"flex h-10 w-10 items-center justify-center rounded-lg bg-gray-100 text-gray-600",innerHTML:r.icon},null,8,te),e("div",null,[e("p",se,b(r.title),1)])])]))),128))])]))]),t[6]||(t[6]=e("div",{class:"flex items-center justify-between border-t border-gray-200 bg-gray-50 px-4 py-2"},[e("div",{class:"flex items-center gap-4 text-xs text-gray-500"},[e("span",null,"↵ Buscar"),e("span",null,"Esc Salir")]),e("a",{href:"#",class:"text-xs font-medium text-indigo-600 hover:underline"},"Editar Acciones")],-1))])):g("",!0)]),_:1})],512),l(_,{name:"modal"},{default:f(()=>[d.value?(o(),s("div",oe,[e("div",ne,[e("div",re,[e("div",{class:"flex items-start justify-between"},[t[7]||(t[7]=e("h2",{class:"text-lg font-semibold text-gray-900"},"✨ Recomendación de Servicio",-1)),e("button",{onClick:x,class:"p-1 leading-none text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100"},"×")]),n.value?(o(),s("div",ae,t[8]||(t[8]=[e("div",{class:"animate-pulse-fast text-gray-500"},"Buscando el mejor Servicio para ti...",-1)]))):(o(),s("div",{key:1,class:"ai-content mt-4 p-4 bg-gray-50 rounded-lg max-h-[60vh] overflow-y-auto text-gray-700 whitespace-pre-wrap",innerHTML:E.value},null,8,le))]),n.value?g("",!0):(o(),s("div",ie,[e("button",{onClick:x,class:"rounded-md bg-indigo-600 px-3 py-1 text-sm font-medium text-white hover:bg-indigo-700"},"Cerrar")]))])])):g("",!0)]),_:1})]))}},ce=D(de,[["__scopeId","data-v-e01d3897"]]),ue={class:""},pe={class:"justify-center w-full h-[60vh] flex flex-col items-center pb-5",style:{"background-image":"url('/images/cartagena.webp')","background-size":"cover","background-position":"center"}},ge={class:"shadow-xl mt-10 flex items-center justify-between rounded-lg px-10 md:px-12 h-full"},ve={class:"py-10 space-y-10 mt-4 w-full"},me={class:"flex justify-between items-center w-full"},fe={"data-aos":"flip-down","data-aos-duration":"1000",class:"rounded-lg bg-white"},je={__name:"GuestLayout",props:{canLogin:{type:Boolean}},setup(C){a(!1);const c=a({name:"Experiencias y Tours",value:1});return(d,n)=>(o(),s(j,null,[l(k(I),{title:"Inicio"}),n[1]||(n[1]=e("div",{class:"absolute top-0 z-[-2] h-screen w-screen bg-white bg-[radial-gradient(ellipse_80%_80%_at_50%_-20%,rgba(120,119,198,0.3),rgba(255,255,255,0))]"},null,-1)),e("div",ue,[e("div",pe,[l(F,{isScrolled:d.isScrolled},null,8,["isScrolled"]),e("div",ge,[e("div",ve,[e("div",me,[l(k(U),{href:"/",class:"hidden md:flex"},{default:f(()=>[l(P)]),_:1}),n[0]||(n[0]=e("div",{class:""},[e("h1",{"data-aos":"zoom-in-down","data-aos-duration":"2000",class:"text-right text-4xl lg:text-6xl text-white font-extrabold"}," AV Colombia "),e("h3",null,[e("p",{"data-aos":"zoom-in-down","data-aos-duration":"2000",class:"text-right text-lg lg:text-3xl text-white font-bold"}," Encuentra las mejores experiencias ")])],-1))]),e("div",fe,[l(ce,{type:c.value.name},null,8,["type"])])])])]),N(d.$slots,"default")]),l(O)],64))}};export{je as _};
