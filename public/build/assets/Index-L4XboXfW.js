import{s as k}from"./index-DWa5oVMb.js";import{_ as u}from"./Input-CATyXCL_.js";import{_ as P}from"./Datatable-B2vdFScb.js";import{_ as S}from"./Modal-CbeNnUAi.js";import{d as m,ac as V,T as j,o as d,f as p,b as o,w as v,a as r,u as i,F as M,L as C,c as w,i as B,n as N,t as U,g as D}from"./app-DJA2TGwp.js";import{a as L}from"./toasts-DRkOXQyQ.js";import{_ as E}from"./AppLayout-CRApBevq.js";import G from"./Index-BOUeMN4w.js";import"./index-t_B80u0p.js";import"./index-QqnVWqsX.js";import"./index-C7SmbnOm.js";import"./postcss-DHWiM0x1.js";import"./index-YU1siHk9.js";import"./index-DbNWCP_7.js";const T={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},F={__name:"PaymentMethods",setup(g){const{toast:s}=L(),l=m(!1),h={action:()=>{l.value=!0}},f=m([]),_=[{header:"Nombre",field:"name",filter:!0},{header:"Porcentaje de Pago",field:"parcent_charge",filter:!0,format:e=>e+"%"}],c=[{action:e=>{V().props.auth.user.rol=="admin"?router.visit(route("services.edit",e.id)):(l.value=!0,service.value=e,a.service_id=e.id,a.adult_tarifa=e.adult_tarifa,a.boys_tarifa=e.boy_tarifa)},severity:"secondary",icon:"fa-solid fa-pencil text-sm"},{action:(e,t)=>{confirm.require({target:t.currentTarget,message:"Seguro de Eliminar el Metodo de pago "+e.name+"?",icon:"fa-solid fa-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-sm p-button-danger",rejectLabel:"Cancelar",acceptLabel:"Eliminar",accept:()=>{console.log(e),router.delete(route("services.destroy",e.id),{onSuccess:()=>{s("success","Servicio eliminado con exito")}})}})},show:V().props.auth.user.rol=="admin",severity:"danger",icon:"fa-regular fa-trash-can text-sm"}],a=j({name:"",parcent_charge:0,description:"",method:""}),b=m([]),y=()=>{C.get(route("paymentMethods.index")).then(e=>{b.value=e.data}).catch(e=>{console.log(e)})};y();const $=()=>{a.post(route("paymentMethods.store"),{onSuccess:()=>{l.value=!1,y(),s("success","Metodo de pago creado correctamente")}})};return(()=>{C.get(route("paymentMethods.index")).then(e=>{f.value=e.data}).catch(e=>{console.log(e)})})(),(e,t)=>{const x=k;return d(),p(M,null,[o(P,{add:h,data:b.value,columnas:_,actions:c},null,8,["data"]),o(S,{modelValue:l.value,"onUpdate:modelValue":t[4]||(t[4]=n=>l.value=n),title:"Crear Metodo de Pago","close-on-escape":!0},{footer:v(()=>[o(x,{onClick:$,title:"Save",severity:"success",label:"Save",outlined:"",icon:"fa-solid fa-save",class:"!h-8"}),o(x,{onClick:t[3]||(t[3]=n=>l.value=!1),title:"Cancel",severity:"danger",label:"Cancel",outlined:"",icon:"fa-solid fa-times",class:"!h-8"})]),default:v(()=>[r("div",T,[o(u,{label:"Nombre",modelValue:i(a).name,"onUpdate:modelValue":t[0]||(t[0]=n=>i(a).name=n)},null,8,["modelValue"]),o(u,{label:"Porcentaje de pago",type:"number",modelValue:i(a).parcent_charge,"onUpdate:modelValue":t[1]||(t[1]=n=>i(a).parcent_charge=n)},null,8,["modelValue"]),o(u,{class:"w-full",min:"0",type:"dropdown","option-label":"name","option-value":"id",options:f.value,modelValue:i(a).method,"onUpdate:modelValue":t[2]||(t[2]=n=>i(a).method=n)},null,8,["options","modelValue"])])]),_:1},8,["modelValue"])],64)}}},q={class:"p-4"},z=r("h1",{class:"text-xl font-extrabold"}," Configuración General ",-1),A={"data-aos":"flip-down","data-aos-duration":"1000",class:"bg-white p-2 rounded-lg shadow-lg"},I={class:"w-full bg-gray-200 rounded-md p-2 grid grid-cols-2 divide-y-2 md:flex space-x-2"},Q=["onClick"],H={key:1,class:"p-4"},J=r("h1",{class:"text-xl font-extrabold"}," Dolar ",-1),K={class:"flex justify-end mt-4"},O={key:2},ce={__name:"Index",props:{users:{type:Array,default:[]}},setup(g){const s=m(1),l=[{name:"Métodos de Pago",value:1},{name:"Usuarios",value:2},{name:"Plataformas",value:4},{name:"Tasas",value:3}];return(h,f)=>{const _=k;return d(),w(E,{title:"Configuración General"},{default:v(()=>[r("div",q,[z,r("div",A,[r("div",I,[(d(),p(M,null,B(l,c=>r("div",{onClick:a=>s.value=c.value,class:N(["w-full rounded-lg text-center py-2 text-sm md:text-md cursor-pointer",s.value==c.value?"bg-white":"hover:bg-white/30"])},U(c.name),11,Q)),64))]),s.value==1?(d(),w(F,{key:0})):s.value==3?(d(),p("div",H,[J,o(u,{type:"number",label:"Valor del Dolar"}),r("div",K,[o(_,{label:"Guardar",severity:"success",class:"!h-9 justify-end"})])])):s.value==2?(d(),p("div",O,[o(G,{users:g.users},null,8,["users"])])):D("",!0)])])]),_:1})}}};export{ce as default};
