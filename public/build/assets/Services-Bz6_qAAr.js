import{d as i,A as _,p as E,C as M,c as u,o as s,w as T,a as t,i as H,t as w,E as L,G as j,f as m,g as y,F as b,j as k}from"./app-C5I5Ygl_.js";import{G as B}from"./GuestLayout-LqFxhqUF.js";import C from"./Product-DGpBTjP3.js";import{_ as N,A as V}from"./AccommodationCard-DGC6ztx6.js";import{L as D}from"./Loading-5uzx81hj.js";import{S as F}from"./Service-By3UaVUo.js";import{s as G}from"./searchStore-CuaogzV0.js";import"./GuestLayout.vue_vue_type_style_index_0_scoped_106c70c4_lang-D_dVdiNi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useCommonUtilities-BgDhORlD.js";import"./index-Bpx1FRRG.js";import"./index-D59IvZpX.js";import"./index-UkGQbA5H.js";import"./index-BZuTmECJ.js";import"./index-uNUjO5kc.js";import"./index-CaTPrnG-.js";import"./index-6qNCIbiJ.js";import"./index-1eW1M3vj.js";import"./index-DRFgEt2J.js";import"./index-BcvHALy3.js";import"./index-pYSHISes.js";import"./index-Dhb-lOP8.js";import"./index-CEYZLRCy.js";import"./logo-DJ1Er6EM.js";import"./FooterSection-9gBijjfS.js";import"./GeneralService-BR7aY-1z.js";import"./Toats-CRqRGqmn.js";import"./sweetalert2.esm.all-Y6IUEg8t.js";const I={class:"sticky top-16 z-20 bg-gradient-to-r from-gray-900 via-black to-gray-900 border-b border-gray-800 shadow-2xl"},P={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},Y={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},O={class:"flex items-center gap-3"},U={class:"text-2xl font-bold text-white"},$={class:"text-base font-normal text-gray-400"},q={class:"flex-1 max-w-md"},z={class:"relative"},J={class:"min-h-screen bg-gradient-to-b from-gray-50 to-white py-8"},R={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},K={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},Q={key:0,class:"flex items-center justify-center py-12"},W={class:"flex flex-col items-center gap-4"},X={key:1,class:"flex flex-col items-center justify-center py-20"},Te={__name:"Services",setup(Z){const p=i(""),l=i([]),d=i(1),n=i(!0),a=i(!1),f=i(0),v=_(()=>G.type.value.value==="HOSPEDAJE");async function g(r=!1){if(!(a.value||!n.value&&!r)){a.value=!0,r&&(l.value=[],d.value=1,n.value=!0);try{let e;const o=p.value.trim();v.value?e=await new V().getAccommodationPagination(d.value,10,o):e=await new F().getServicePagination(d.value,10,o),console.log(e),e&&Array.isArray(e.data)?(r?l.value=e.data:l.value.push(...e.data),n.value=!!e.next_page_url,e.total!==void 0&&(f.value=e.total)):Array.isArray(e)&&(r?l.value=e:l.value.push(...e),n.value=!1,f.value=e.length),d.value++}finally{a.value=!1}}}function h(){if(a.value||!n.value)return;const r=window.scrollY||window.pageYOffset,e=window.innerHeight,o=document.documentElement.offsetHeight;r+e+800>=o&&g()}let c=null;const A=()=>{c&&clearTimeout(c),c=setTimeout(()=>{g(!0)},500)},x=_(()=>l.value);return E(()=>{g(!0),window.addEventListener("scroll",h)}),M(()=>{window.removeEventListener("scroll",h),c&&clearTimeout(c)}),(r,e)=>(s(),u(B,null,{default:T(()=>[t("div",I,[t("div",P,[t("div",Y,[t("div",O,[e[2]||(e[2]=t("div",{class:"h-10 w-1 bg-gradient-to-b from-gray-800 to-black rounded-full"},null,-1)),t("div",null,[e[1]||(e[1]=t("p",{class:"text-sm text-gray-400"},"Resultados",-1)),t("p",U,[H(w(f.value)+" ",1),t("span",$,w(v.value?"alojamientos":"experiencias"),1)])])]),t("div",q,[t("div",z,[e[3]||(e[3]=t("div",{class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"},[t("i",{class:"fas fa-search text-gray-500"})],-1)),L(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>p.value=o),onInput:A,type:"text",placeholder:"Buscar experiencias...",class:"w-full pl-12 pr-4 py-3 bg-white/5 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-black focus:ring-2 focus:ring-gray-800/40 transition-all duration-200 backdrop-blur-sm"},null,544),[[j,p.value]])])])])])]),t("div",J,[t("div",R,[t("div",K,[v.value?(s(!0),m(b,{key:0},k(x.value,o=>(s(),u(N,{accommodation:o,key:o.id},null,8,["accommodation"]))),128)):(s(!0),m(b,{key:1},k(x.value,o=>(s(),u(C,{service:o,key:o.id},null,8,["service"]))),128))]),a.value?(s(),m("div",Q,[t("div",W,[a.value?(s(),u(D,{key:0})):y("",!0),e[4]||(e[4]=t("p",{class:"text-gray-500 text-sm"},"Cargando más experiencias...",-1))])])):y("",!0),!a.value&&x.value.length===0?(s(),m("div",X,[...e[5]||(e[5]=[t("div",{class:"text-center"},[t("i",{class:"fas fa-search text-6xl text-gray-300 mb-4"}),t("h3",{class:"text-2xl font-bold text-gray-900 mb-2"},"No se encontraron resultados"),t("p",{class:"text-gray-500"},"Intenta con otros términos de búsqueda")],-1)])])):y("",!0)])])]),_:1}))}};export{Te as default};
