import{u as f,a0 as x,c as p,o as s,w as y,a as t,f as c,h as l,b as v,E as b,g as m,i as w,t as r,T as _,F as k,j as A,X as M}from"./app-Bd4kg2on.js";import{_ as P}from"./logo-Db5woyrY.js";import{G as j}from"./GeneralService-C95aIgQI.js";import"./Toats-CRqRGqmn.js";import{s as d}from"./searchStore-DP-G0Bm1.js";import{u as S}from"./useCommonUtilities-BgDhORlD.js";class C extends j{loading=!1;accommodation=[];form=f({name:"",description:"",type:"",address_line_1:"",city:"",state:"",country:"",postal_code:"",latitude:0,longitude:0,star_rating:0,contact_email:"",contact_phone:"",status:"publicado"});constructor(a){super(),this.accommodation=a,this.url="accommodations",a&&this.assignMatchingKeys(a,this.form)}async getAccommodationPagination(a=1,i=10){const n={page:a,location:d.location.value,type:"HOSPEDAJE",checkin:d.checkin.value,checkout:d.checkout.value,guests:d.guests.value,perPage:i},{data:g}=await x.get(route("services.get.paginated"),{params:n});return g}getMinPrice(){if(!this.accommodation.rooms||!this.accommodation.rooms.length)return 0;const a=this.accommodation.rooms.filter(i=>i.is_available);return a.length?Math.min(...a.map(i=>i.price_per_night)):0}getAverageRating(){return!this.accommodation.reviews||!this.accommodation.reviews.length?0:(this.accommodation.reviews.reduce((i,n)=>i+n.rating,0)/this.accommodation.reviews.length).toFixed(1)}getMainPhoto(){return!this.accommodation.photos||!this.accommodation.photos.length?"https://avcolombia.net/images/logo.webp":this.accommodation.photos[0].filepath||"https://avcolombia.net/images/logo.webp"}}const F={class:"w-full h-60 overflow-hidden rounded-xl p-2"},V=["src","alt"],B={key:1,class:"w-full h-full flex items-center justify-center bg-gray-200 rounded-xl py-4"},D={class:"p-5 flex flex-col gap-2"},E={class:"text-lg font-bold leading-tight line-clamp-2"},N={class:"flex items-center gap-2 text-sm text-gray-600"},O={class:"text-gray-700"},R={class:"flex items-center gap-4 mt-2"},T={key:0,class:"flex items-center gap-2 text-sm text-gray-600"},G={class:"text-gray-900 font-medium"},$={key:1,class:"flex items-center gap-2 text-sm text-gray-600"},z={class:"text-gray-900 font-medium"},H={class:"flex items-center gap-2 mt-3"},J={class:"text-xl font-bold text-gray-900"},K={key:0,class:"flex items-center gap-2 mt-2 flex-wrap"},L={key:0,class:"text-xs text-gray-500"},U={__name:"AccommodationCard",props:{accommodation:Object},setup(e){const{currencyFormat:a}=S(),i=e,n=new C(i.accommodation);return(g,o)=>{const h=_;return s(),p(l(M),{href:g.route("accommodations.show",e.accommodation.id),class:"relative flex flex-col bg-white justify-between rounded-xl overflow-hidden transition-transform transform hover:scale-[1.02] w-full max-w-sm mx-auto shadow-md"},{default:y(()=>[t("div",F,[l(n).getMainPhoto()!=="https://avcolombia.net/images/logo.webp"?(s(),c("img",{key:0,src:l(n).getMainPhoto(),alt:e.accommodation.name,class:"w-full h-full object-cover rounded-xl"},null,8,V)):(s(),c("div",B,[v(P)]))]),t("div",D,[b((s(),c("h3",E,[w(r(e.accommodation.name),1)])),[[h,`${e.accommodation.name}`]]),t("div",N,[o[0]||(o[0]=t("i",{class:"fa-solid fa-location-dot text-gray-400"},null,-1)),t("span",O,r(e.accommodation.city)+", "+r(e.accommodation.country),1)]),t("div",R,[e.accommodation.star_rating?(s(),c("div",T,[o[1]||(o[1]=t("i",{class:"fa-solid fa-star text-yellow-400"},null,-1)),t("span",G,r(e.accommodation.star_rating)+" estrellas",1)])):m("",!0),l(n).getAverageRating()>0?(s(),c("div",$,[o[2]||(o[2]=t("i",{class:"fa-solid fa-heart text-red-400"},null,-1)),t("span",z,r(l(n).getAverageRating())+"/5",1)])):m("",!0)]),t("div",H,[o[3]||(o[3]=t("span",{class:"text-sm text-gray-600"},"Desde",-1)),t("span",J,r(l(a)(l(n).getMinPrice())),1),o[4]||(o[4]=t("span",{class:"text-sm text-gray-600"},"por noche",-1))]),e.accommodation.amenities&&e.accommodation.amenities.length?(s(),c("div",K,[(s(!0),c(k,null,A(e.accommodation.amenities.slice(0,3),u=>(s(),c("span",{key:u.id,class:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded-full"},r(u.name),1))),128)),e.accommodation.amenities.length>3?(s(),c("span",L," +"+r(e.accommodation.amenities.length-3)+" m√°s ",1)):m("",!0)])):m("",!0),o[5]||(o[5]=t("div",{class:"mt-4 flex items-center gap-3"},[t("button",{class:"flex-1 bg-black text-white rounded-full py-3 px-5 text-center font-medium hover:opacity-95 transition"}," Ver disponibilidad "),t("button",{type:"button",class:"w-12 h-12 rounded-full bg-white shadow flex items-center justify-center border border-gray-100 hover:bg-gray-50"},[t("i",{class:"fa-regular fa-heart text-red-400"})])],-1))])]),_:1},8,["href"])}}},Z=Object.freeze(Object.defineProperty({__proto__:null,default:U},Symbol.toStringTag,{value:"Module"}));export{C as A,U as _,Z as a};
