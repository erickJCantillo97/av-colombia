import{s as _}from"./index-CzyUtpBw.js";import{Q as V,O as j,d as m,u as E,f as U,o as S,a as s,b as l,w as c,h as n,n as k,t as w,F as B,a0 as D,I as d}from"./app-h8VW5kjQ.js";import"./marked.esm-BPgSS2IS.js";import{_ as N}from"./Datatable-61OL6Hky.js";import{s as T}from"./index-BAHrsXSb.js";import{M as $}from"./Modal-gj1Di7rm.js";import{_ as p}from"./Input-Cm0rZDiy.js";import"./index-DuPz4sQm.js";import"./index-BFP3_o6R.js";import"./index-CnsOlY05.js";import"./index-B0sKGDAV.js";import"./index-CV1YAWkB.js";import"./index-BQ9Vyj_K.js";import"./index-E25orQan.js";import"./index-BDU6Rs2F.js";import"./index-uVeM5mmn.js";import"./index-DxeF40dr.js";import"./index-BdiZNvB5.js";import"./index-uJYowjy7.js";import"./index-BXHrh_ns.js";import"./index-f9DFqp2-.js";import"./index-B7CERVA0.js";import"./index-ubim0lvt.js";import"./useCommonUtilities-BgDhORlD.js";import"./postcss-BVLoOpE9.js";import"./postcss-CrzR7lct.js";import"./index-D8QXrfaZ.js";import"./index-u6E6W8Vs.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CWd-UN8n.js";import"./index-CmJSe1UP.js";import"./index-BLFeK4ZE.js";import"./index-BVx6dU9d.js";const z={class:"bg-white rounded-xl"},F={class:"text-xl font-bold"},A={class:"space-y-4 p-2"},G={class:"bg-gray-50 rounded-xl p-4 space-y-4"},Ce={__name:"Channels",setup(I){const v=[{header:"Nombre",field:"name",filter:!0},{header:"iniciales ",field:"abreviacion",filter:!0},{header:"Porcentaje",field:"percent",filter:!0,format:t=>t+"%"},{header:"Creación",field:"created_at",type:"datetime",filter:!0}],g=V(),x=j(),o=m(!1),a=E({name:"",abreviacion:"",percent:""}),i=m(!1),C={action:()=>{a.reset(),o.value=!1,i.value=!0}},h=[{action:t=>{i.value=!0,o.value=t.id,a.name=t.name,a.abreviacion=t.abreviacion,a.percent=t.percent},severity:"secondary",icon:"fa-solid fa-pencil text-sm"},{action:(t,e)=>{x.require({target:e.currentTarget,message:"Seguro de Eliminar el Usuario "+t.name+"?",icon:"fa-solid fa-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-sm p-button-danger",rejectLabel:"Cancelar",acceptLabel:"Eliminar",accept:()=>{d.delete(route("users.destroy",t.id),{onSuccess:()=>{g.add({severity:"error",icon:"fa-solid fa-trash-can",summary:"¡Accion realizada!",detail:"Usuario eliminado con exito",group:"customTooltipDataTable",life:5e3})}})}})},severity:"danger",icon:"fa-regular fa-trash-can text-sm"}],y=()=>{o.value?d.put(route("channels.update",o.value),a,{onSuccess:()=>{i.value=!1,u(),o.value=!1}}):d.post(route("channels.store"),a,{onSuccess:()=>{i.value=!1,u(),o.value=!1}})},f=m([]),u=()=>{D.get(route("channels.index")).then(t=>{f.value=t.data})};return u(),(t,e)=>{const b=_;return S(),U(B,null,[s("div",z,[l(N,{columnas:v,add:C,data:f.value,routecreate:"services.create",actions:h},null,8,["data"])]),l($,{visible:i.value,"onUpdate:visible":e[4]||(e[4]=r=>i.value=r),"close-on-escape":!0,width:"500px"},{title:c(()=>[s("span",F,w(o.value?"Editar":"Agregar")+" Canal",1)]),icon:c(()=>[s("i",{class:k(o.value?"fa-solid fa-pencil":"fa-solid fa-plus")},null,2)]),footer:c(()=>[l(b,{onClick:y,title:"Guardar",severity:"success",label:"Guardar",outlined:"",icon:"fa-solid fa-save",class:"!h-9"}),l(b,{onClick:e[3]||(e[3]=r=>i.value=!1),title:"Cancelar",severity:"danger",label:"Cancelar",outlined:"",icon:"fa-solid fa-times",class:"!h-9"})]),default:c(()=>[s("div",A,[s("div",G,[l(p,{label:"Nombre del Canal",modelValue:n(a).name,"onUpdate:modelValue":e[0]||(e[0]=r=>n(a).name=r),placeholder:"Ej: Canal Directo"},null,8,["modelValue"]),l(p,{label:"Iniciales",modelValue:n(a).abreviacion,"onUpdate:modelValue":e[1]||(e[1]=r=>n(a).abreviacion=r),placeholder:"Ej: CD"},null,8,["modelValue"]),l(p,{type:"number",label:"Porcentaje de Comisión",modelValue:n(a).percent,"onUpdate:modelValue":e[2]||(e[2]=r=>n(a).percent=r),suffix:" %","min-fraction-digits":"2","max-fraction-digits":"2",placeholder:"0.00"},null,8,["modelValue"])]),e[5]||(e[5]=s("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-3 flex items-start gap-2"},[s("i",{class:"fa-solid fa-circle-info text-blue-600 mt-0.5"}),s("p",{class:"text-sm text-blue-800"},"El porcentaje se aplicará como comisión sobre las ventas realizadas por este canal.")],-1))])]),_:1},8,["visible"]),l(n(T))],64)}}};export{Ce as default};
