import{s as w}from"./index-BB6i1Waf.js";import{M as C,az as x,d as p,T as U,o as N,f as T,a as u,b as s,w as n,u as t,F as E,x as m}from"./app-BjQxgt76.js";import{_ as A}from"./Datatable-CGGfCsDX.js";import{s as I}from"./index-CHEBgW6C.js";import{_ as R}from"./Modal-DoVXvTCX.js";import{_ as i}from"./Input-CHg_ZT2b.js";import"./index-CvEgGASB.js";import"./index-CURIeJe8.js";import"./index-B0pO4e-s.js";import"./index-BGRK7rW5.js";import"./index-L9qNUbfG.js";import"./index-CNv0Ol1d.js";import"./useCommonUtilities-DO03hYfs.js";import"./moment-Cijl8gKs.js";import"./postcss-CiRp0AwD.js";const S={class:"h-[99vh]"},D=u("span",{class:"text-xl font-bold white-space-nowrap"}," Agregar Usuario",-1),$=u("i",{class:"fa-solid fa-plus"},null,-1),k={class:"space-y-3"},W={__name:"Index",props:{users:Array},setup(f){const b=[{header:"Nombre",field:"name",filter:!0},{header:"Correo",field:"email",filter:!0},{header:"Creación",field:"created_at",type:"datetime",filter:!0},{header:"URL Portafolio",field:"url"}],v=C(),V=x(),d=p(!1),e=U({name:"",email:"",password:"",password_confirmation:""}),r=p(!1),_={action:()=>{e.reset(),d.value=!1,r.value=!0}},y=[{action:l=>{r.value=!0,d.value=!0,e.name=l.name,e.email=l.email},severity:"secondary",icon:"fa-solid fa-pencil text-sm"},{action:(l,a)=>{V.require({target:a.currentTarget,message:"Seguro de Eliminar el Usuario "+l.name+"?",icon:"fa-solid fa-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-sm p-button-danger",rejectLabel:"Cancelar",acceptLabel:"Eliminar",accept:()=>{console.log(l),m.delete(route("users.destroy",l.id),{onSuccess:()=>{v.add({severity:"error",icon:"fa-solid fa-trash-can",summary:"¡Accion realizada!",detail:"Usuario eliminado con exito",group:"customTooltipDataTable",life:5e3})}})}})},severity:"danger",icon:"fa-regular fa-trash-can text-sm"}],g=()=>{d.value?m.put(route("users.update",e.id),e):m.post(route("users.store"),e,{onSuccess:()=>{r.value=!1}})};return(l,a)=>{const c=w;return N(),T(E,null,[u("div",S,[s(A,{columnas:b,add:_,data:f.users,routecreate:"services.create",actions:y},null,8,["data"])]),s(R,{visible:r.value,"onUpdate:visible":a[6]||(a[6]=o=>r.value=o)},{title:n(()=>[D]),icon:n(()=>[$]),footer:n(()=>[s(c,{onClick:g,title:"Guardar",severity:"success",label:"Guardar",outlined:"",icon:"fa-solid fa-save",class:"!h-8"}),s(c,{onClick:a[5]||(a[5]=o=>r.value=!1),title:"Cancel",severity:"danger",label:"Cancelar",outlined:"",icon:"fa-solid fa-times",class:"!h-8"})]),default:n(()=>[u("div",k,[s(i,{label:"Nombre",modelValue:t(e).name,"onUpdate:modelValue":a[0]||(a[0]=o=>t(e).name=o)},null,8,["modelValue"]),s(i,{label:"Email",modelValue:t(e).email,"onUpdate:modelValue":a[1]||(a[1]=o=>t(e).email=o)},null,8,["modelValue"]),s(i,{label:"Rol",type:"dropdown",options:["ADMINISTRADOR","VENDEDOR","VISITANTE","SIN ROL"],modelValue:t(e).rol,"onUpdate:modelValue":a[2]||(a[2]=o=>t(e).rol=o)},null,8,["modelValue"]),s(i,{label:"Contraseña",type:"password",modelValue:t(e).password,"onUpdate:modelValue":a[3]||(a[3]=o=>t(e).password=o)},null,8,["modelValue"]),s(i,{label:"Confirmar contraseña",type:"password",modelValue:t(e).password_confirmation,"onUpdate:modelValue":a[4]||(a[4]=o=>t(e).password_confirmation=o)},null,8,["modelValue"])])]),_:1},8,["visible"]),s(t(I))],64)}}};export{W as default};
