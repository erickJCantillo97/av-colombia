import{s as ce}from"./index-CO7zzWHY.js";import{a as ee,s as te}from"./index-B2WCKuMe.js";import{J as pe,e as me,f as r,o,r as ve,b as $,M as K,aU as ge,aV as fe,d as v,A as U,u as be,B as L,s as ye,c as H,w as q,a as e,i as N,t as n,g as h,h as b,F as k,j as A,n as P,E as W,G as X,Y as xe,a6 as he,k as Z,a7 as _e,a0 as ke}from"./app-BFBmFvSp.js";import{_ as we}from"./AppLayout-DJ5edPYd.js";import{V as Ce,N as $e}from"./Notas-BmBq7bMv.js";import{M as Ve}from"./Modal-jxj6kewV.js";import{_ as z}from"./Input-D_ZoqJx5.js";import{u as Ae}from"./Auth-PpVcSne1.js";import{_ as Oe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-wz5vc55-.js";import"./index-tLPItV72.js";import"./index-CKv1yqXN.js";import"./index-DpPOcL-e.js";import"./index-58XVUzA3.js";import"./index-vVEOPqCj.js";import"./index-J2C8XZi-.js";import"./index-DY02-XOG.js";import"./index-CspaNIF0.js";import"./index-BiC-DexQ.js";import"./index-BafYpS7D.js";import"./marked.esm-BPgSS2IS.js";/* empty css                                                             */import"./index-CsGTqzuY.js";import"./index-BC1sg2gZ.js";import"./index-DO2IfxX0.js";import"./index-Dme6x_C4.js";import"./index-B4twgbVc.js";import"./sweetalert2.esm.all-Y6IUEg8t.js";import"./toasts-CAnEIL5D.js";import"./Service-CkvEV-QX.js";import"./GeneralService-uGmGEKAa.js";import"./Toats-CRqRGqmn.js";import"./searchStore-Db0wWUkg.js";import"./Loading-CUB9_trl.js";import"./logo-B2U6CNWv.js";import"./index-BZ2B09kh.js";import"./index-BWeArCtu.js";import"./index-DSLY7C-G.js";import"./index-CcK5NqkA.js";import"./index-BlP7I0cZ.js";import"./index-BsxeDVoA.js";import"./index-BUzR038f.js";import"./index-HtZdNHHC.js";import"./useCommonUtilities-BgDhORlD.js";import"./postcss-CeBPnvY2.js";import"./postcss-BoOT1hMj.js";var Se=`
    .p-overlaybadge {
        position: relative;
    }

    .p-overlaybadge .p-badge {
        position: absolute;
        inset-block-start: 0;
        inset-inline-end: 0;
        transform: translate(50%, -50%);
        transform-origin: 100% 0;
        margin: 0;
        outline-width: dt('overlaybadge.outline.width');
        outline-style: solid;
        outline-color: dt('overlaybadge.outline.color');
    }

    .p-overlaybadge .p-badge:dir(rtl) {
        transform: translate(-50%, -50%);
    }
`,Ee={root:"p-overlaybadge"},Ne=pe.extend({name:"overlaybadge",style:Se,classes:Ee}),Be={name:"OverlayBadge",extends:ee,style:Ne,provide:function(){return{$pcOverlayBadge:this,$parentInstance:this}}},J={name:"OverlayBadge",extends:Be,inheritAttrs:!1,components:{Badge:ee}};function De(g,B,D,O,M,w){var V=me("Badge");return o(),r("div",K({class:g.cx("root")},g.ptmi("root")),[ve(g.$slots,"default"),$(V,K(g.$props,{pt:g.ptm("pcBadge")}),null,16,["pt"])],16)}J.render=De;const Me={class:"flex items-center gap-4 p-6 border-b dark:border-gray-700"},Fe={class:"text-sm text-gray-600 dark:text-gray-400"},Re={class:"font-semibold uppercase"},Pe={class:"p-6 space-y-6"},Ue={key:0},je={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ie={class:"bg-gray-50 dark:bg-gray-900/30 p-4 rounded-lg"},Te={class:"flex items-center justify-between mb-3"},Le={class:"text-lg font-bold text-gray-800 dark:text-gray-100"},He={class:"space-y-3"},ze={class:"flex-1"},We={class:"text-sm font-medium text-gray-700 dark:text-gray-200"},qe={class:"w-48"},Ge={key:0,class:"mt-3 p-3 rounded bg-red-50 text-sm text-red-700"},Je={key:1,class:"space-y-3"},Qe={class:"col-span-2"},Ye={class:"col-span-6"},Ke={class:"col-span-2"},Xe={class:"col-span-2 text-right"},Ze={class:"p-4 rounded-lg bg-white dark:bg-gray-900/40 border border-gray-100 dark:border-gray-800"},et={class:"flex justify-between gap-4 text-sm"},tt={class:"font-medium"},st={class:"flex justify-between gap-4 text-sm mt-1"},lt={class:"font-medium"},ot={class:"flex justify-between gap-4 text-sm mt-2 pt-2 border-t"},at={class:"text-gray-800 font-semibold"},rt={class:"px-6 py-4 bg-gray-50 dark:bg-gray-900/40 border-t dark:border-gray-700 flex justify-end gap-3"},it={__name:"Completar",props:ge({service:Object},{modelValue:!0,modelModifiers:{}}),emits:["update:modelValue"],setup(g){const B=g,D=fe(g,"modelValue",!0),O=v(null),M=`completar-heading-${B.service?.id??Math.random().toString(36).slice(2)}`,w=v("COMPLETADA"),V=v([]),S=U(()=>V.value.reduce((m,a)=>m+(Number(a.amount)||0),0)),j=U(()=>(u.extras||[]).reduce((m,a)=>m+(Number(a.unit_cost)||0)*(Number(a.cantidad)||0),0)),I=U(()=>S.value+j.value),c=U(()=>{const m=Number(B.service?.saldo||0);return S.value<=m});L(D,async m=>{if(m){await ye();try{const a=O.value;if(a){const E=a.querySelector&&a.querySelector('input[type="text"], input[type="number"], textarea');E&&E.focus&&E.focus()}}catch{}}});const u=be({saldoPagado:"AV COLOMBIA",status:"COMPLETADA",service_id:B.service.id,conductor:"",placa:"",value:"",saldos:[],extras:[]}),_=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0});function x(){u.extras=B.service.extras.map(m=>({id:m.id,cantidad:m.cantidad,description:m.description,unit_cost:m.unit_cost}))}x();const C=()=>{c.value&&(u.saldos=V.value,u.status=w.value,u.post(route("completar.reserva"),{onSuccess:()=>{u.reset(),D.value=!1}}))};function F(){V.value=B.service.proveedors.map(m=>({id:m.id,name:m.proveedor.proveedor.nombre,amount:0}))}return F(),(m,a)=>{const E=te;return o(),H(Ve,{modelValue:D.value,"onUpdate:modelValue":a[4]||(a[4]=i=>D.value=i),title:"","close-on-escape":""},{default:q(()=>[e("div",{ref_key:"modalRoot",ref:O,class:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm rounded-lg shadow-lg overflow-hidden",role:"dialog","aria-labelledby":M},[e("div",Me,[a[5]||(a[5]=e("div",{class:"flex items-center justify-center w-12 h-12 rounded-full bg-gradient-to-br from-green-500 to-emerald-600 text-white text-xl shadow"},[e("i",{class:"fa-solid fa-check","aria-hidden":"true"})],-1)),e("div",null,[e("h3",{id:M,class:"text-lg font-bold text-gray-900 dark:text-gray-100"},"Completar servicio"),e("p",Fe,[N(n(g.service.cliente_name)+" · ",1),e("span",Re,n(g.service.service),1)])]),a[6]||(a[6]=e("div",{class:"ml-auto text-sm text-gray-500 dark:text-gray-400"},"Sin novedad",-1))]),e("div",Pe,[g.service.service_type=="TRANSFER"||g.service.proveedors.find(i=>i.proveedor_id==="9e602dc8-08e0-42f4-bbb2-1eed02652372")?(o(),r("div",Ue,[e("div",je,[$(z,{label:"Conductor",modelValue:b(u).conductor,"onUpdate:modelValue":a[0]||(a[0]=i=>b(u).conductor=i),type:"text",placeholder:"Nombre del conductor",class:"w-full"},null,8,["modelValue"]),$(z,{label:"Placa",modelValue:b(u).placa,"onUpdate:modelValue":a[1]||(a[1]=i=>b(u).placa=i),type:"text",placeholder:"Placa del Vehiculo",class:"w-full"},null,8,["modelValue"]),$(z,{label:"Valor del servicio",modelValue:b(u).value,"onUpdate:modelValue":a[2]||(a[2]=i=>b(u).value=i),type:"text",placeholder:"Valor del Servicio",class:"w-full"},null,8,["modelValue"])])])):h("",!0),e("div",Ie,[e("div",Te,[e("div",null,[a[7]||(a[7]=e("p",{class:"text-sm text-gray-600 dark:text-gray-300"},"Saldo restante",-1)),e("p",Le,n(b(_).format(g.service.saldo-S.value)),1)]),a[8]||(a[8]=e("div",{class:"text-sm text-gray-500"},"Distribuye el pago entre proveedores",-1))]),e("div",He,[(o(!0),r(k,null,A(V.value,i=>(o(),r("div",{key:i.id,class:"flex items-center gap-4"},[e("div",ze,[e("div",We,n(i.name),1)]),e("div",qe,[$(z,{class:"w-full",type:"number",mode:"currency",modelValue:i.amount,"onUpdate:modelValue":T=>i.amount=T,"aria-label":"Monto para {{ proveedor.name }}"},null,8,["modelValue","onUpdate:modelValue"])])]))),128))]),c.value?h("",!0):(o(),r("div",Ge," La suma de los pagos excede el saldo. Ajusta los montos antes de continuar. "))]),g.service.extras&&g.service.extras.length>0?(o(),r("div",Je,[a[9]||(a[9]=e("h4",{class:"text-md font-semibold"},"Servicios extras",-1)),a[10]||(a[10]=e("div",{class:"grid grid-cols-12 gap-3 items-center font-semibold text-sm text-gray-600 dark:text-gray-300"},[e("div",{class:"col-span-2"},"Cantidad"),e("div",{class:"col-span-6"},"Descripción"),e("div",{class:"col-span-2 text-right"},"Costo Unitario"),e("div",{class:"col-span-2 text-right"},"Total")],-1)),(o(!0),r(k,null,A(b(u).extras,i=>(o(),r("div",{key:i.id,class:"grid grid-cols-12 gap-3 items-center py-2 border-b border-dashed border-gray-200 dark:border-gray-700"},[e("div",Qe,n(i.cantidad),1),e("div",Ye,n(i.description),1),e("div",Ke,[$(z,{type:"number",modelValue:i.unit_cost,"onUpdate:modelValue":T=>i.unit_cost=T,mode:"currency","aria-label":"Costo unitario {{ extra.description }}"},null,8,["modelValue","onUpdate:modelValue"])]),e("div",Xe,n(b(_).format(i.cantidad*i.unit_cost)),1)]))),128))])):h("",!0),e("div",Ze,[e("div",et,[a[11]||(a[11]=e("div",{class:"text-gray-600"},"Total pagos",-1)),e("div",tt,n(b(_).format(S.value)),1)]),e("div",st,[a[12]||(a[12]=e("div",{class:"text-gray-600"},"Total extras",-1)),e("div",lt,n(b(_).format(j.value)),1)]),e("div",ot,[a[13]||(a[13]=e("div",{class:"text-gray-800 font-semibold"},"Total final",-1)),e("div",at,n(b(_).format(I.value)),1)])])]),e("div",rt,[$(E,{label:"Cancelar",severity:"danger",icon:"fa-solid fa-xmark",class:"bg-white/60 hover:bg-white/80 dark:bg-gray-800/50",onClick:a[3]||(a[3]=i=>D.value=!1),"aria-label":"Cancelar completar servicio"}),$(E,{disabled:!c.value||b(u).processing,label:"Completar Servicio",severity:"success",onClick:C,icon:"fa-solid fa-save",class:"px-5 py-3","aria-disabled":!c.value||b(u).processing},null,8,["disabled","aria-disabled"])])],512)]),_:1},8,["modelValue"])}}},nt={class:"py-4 h-[92vh]"},dt={class:"w-full mx-auto sm:px-1 lg:px-4 space-y-2"},ut={class:"bg-white overflow-hidden sm:rounded-lg flex justify-between items-center px-4 py-3 shadow-sm border border-gray-200"},ct={class:"text-lg"},pt={class:"uppercase text-blue-600"},mt=["href"],vt={key:0,class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},gt={class:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-gray-200"},ft={class:"flex items-center gap-2 flex-wrap mb-3"},bt=["onClick"],yt={class:"flex flex-col md:flex-row gap-3 items-center justify-between"},xt={class:"flex-1 w-full md:w-auto"},ht={class:"relative"},_t={key:0,class:"mt-2 flex items-center gap-2 flex-wrap"},kt={class:"font-medium"},wt=["onClick"],Ct={class:"flex items-center gap-2"},$t={class:"overflow-x-auto",style:{"max-height":"calc(92vh - 280px)"}},Vt={class:"min-w-full divide-y divide-gray-200"},At={class:"bg-gray-50 sticky top-0 z-10"},Ot={class:"flex flex-col gap-2"},St={key:0,class:"relative"},Et=["onUpdate:modelValue","placeholder"],Nt=["onClick"],Bt={class:"px-4 py-3 text-center text-xs font-bold text-gray-700 uppercase tracking-wider"},Dt={class:"flex flex-col gap-2"},Mt={class:"bg-white divide-y divide-gray-200"},Ft={key:1},Rt=["colspan"],Pt=["href"],Ut={key:2,class:"text-gray-900"},jt={class:"px-4 py-3"},It={class:"flex items-center justify-center gap-1"},Tt=["onClick"],Lt=["onClick"],Ht=["onClick"],zt=["onClick"],Wt=["onClick"],qt={key:0,class:"bg-gray-50 sticky bottom-0"},Gt={class:"font-semibold"},Jt={class:"px-4 py-3 text-sm text-center text-gray-900"},Qt={class:"px-4 py-3 text-sm text-center text-gray-900"},Yt=["colspan"],Kt={key:0,class:"px-4 py-3 bg-gray-50 border-t border-gray-200"},Xt={class:"flex flex-col sm:flex-row items-center justify-between gap-3"},Zt={class:"text-sm text-gray-700"},es={class:"font-semibold text-gray-900"},ts={class:"font-semibold text-gray-900"},ss={class:"font-semibold text-gray-900"},ls={class:"inline-flex rounded-md shadow-sm -space-x-px"},os=["disabled"],as=["disabled"],rs=["onClick"],is={key:1,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700"},ns=["disabled"],ds=["disabled"],us={__name:"Dashboard",setup(g){const B=v([]),D=v(""),O=v(!1),M=v(!1),w=v({}),V=v(!1),S=v([new Date,new Date]),j=v(!1),I=v(""),c=v(1),u=v(100),_=v(null),x=v({}),C=v({current_page:1,last_page:1,per_page:100,total:0,from:0,to:0}),F=v([]),m=(l,t)=>{let p;return function(...s){const f=()=>{clearTimeout(p),l(...s)};clearTimeout(p),p=setTimeout(f,t)}},a=async()=>{j.value=!0;try{const l=Object.entries(x.value).filter(([d,s])=>s&&s.trim()!=="").reduce((d,[s,f])=>({...d,[s]:f}),{}),t={dates:S.value,search:I.value||void 0,per_page:u.value,page:c.value,column_filters:Object.keys(l).length>0?l:void 0,status:_.value||void 0},{data:p}=await ke.get(route("get.all.booking.services.dates",t));F.value=p.bookingServices.data||[],C.value={current_page:p.bookingServices.current_page,last_page:p.bookingServices.last_page,per_page:p.bookingServices.per_page,total:p.bookingServices.total,from:p.bookingServices.from,to:p.bookingServices.to}}finally{j.value=!1}},E=m(()=>{a()},500);L(I,()=>{c.value=1,E()}),L(u,()=>{c.value=1,a()}),L(S,()=>{c.value=1,a()}),L(x,()=>{c.value=1,E()},{deep:!0}),L(_,()=>{c.value=1,a()});const i=l=>{c.value=l,a()},T=l=>{w.value=l,V.value=!0},Q=l=>{x.value[l]=""},se=()=>{Object.keys(x.value).forEach(l=>{x.value[l]=""})},le=l=>{_.value=l},{hasRole:Y}=Ae();a();const oe=[{field:"cliente_name",header:"Nombre del pasajero",class:"min-w-[200px]",filter:!0},{field:"adults",header:"Adultos",class:"text-center",filter:!0},{field:"boys",header:"Niños",class:"text-center",filter:!0},{field:"service",header:"Actividad",class:"min-w-[150px]",filter:!0},{field:"proveedors_names",header:"Proveedores",class:"text-center",filter:!0,visible:l=>!l("vendedor")},{field:"cliente_building",header:"Edificio",filter:!0},{field:"cliente_phone",header:"Teléfono",filter:!0},{field:"hour",header:"Hora",class:"text-center",filter:!0},{field:"status",header:"Estado",type:"tag",class:"text-center",filter:!0}],R=U(()=>oe.filter(l=>typeof l.visible=="function"?l.visible(Y):l.visible!==!1));R.value.forEach(l=>{l.filter&&(x.value[l.field]="")});const ae=[{text:"RESERVADO",color:"blue"},{text:"CAMBIO DE FECHA",color:"gray"},{text:"NO SHOW",color:"amber"},{text:"REUBICADO",color:"orange"},{text:"CANCELADA",color:"green"},{text:"SIN CONFIRMAR",color:"red"}],re=()=>{const l=[],t=C.value.last_page,p=c.value;if(t<=7)for(let d=1;d<=t;d++)l.push(d);else if(p<=3){for(let d=1;d<=5;d++)l.push(d);l.push("..."),l.push(t)}else if(p>=t-2){l.push(1),l.push("...");for(let d=t-4;d<=t;d++)l.push(d)}else{l.push(1),l.push("...");for(let d=p-1;d<=p+1;d++)l.push(d);l.push("..."),l.push(t)}return l},G=(l,t)=>t.split(".").reduce((p,d)=>p?.[d],l),ie=l=>l.problematic?"bg-red-100":{"CAMBIO DE FECHA":"bg-gray-50",COMPLETADA:"bg-green-50","NO SHOW":"bg-yellow-50",REUBICADO:"bg-orange-50",PROBLEMATICA:"bg-red-100","SIN CONFIRMAR":"bg-purple-50",RESERVADO:"bg-blue-50",CANCELADA:"bg-green-50"}[l.status]||"",ne=l=>({RESERVADO:"bg-blue-100 text-blue-800","CAMBIO DE FECHA":"bg-gray-100 text-gray-800",COMPLETADA:"bg-green-100 text-green-800","NO SHOW":"bg-yellow-100 text-yellow-800",REUBICADO:"bg-orange-100 text-orange-800",CANCELADA:"bg-green-100 text-green-800",PROBLEMATICA:"bg-red-200 text-red-900 animate-pulse","SIN CONFIRMAR":"bg-purple-100 text-purple-800"})[l]||"bg-gray-100 text-gray-800",de=U(()=>F.value.reduce((l,t)=>l+(t.adults||0),0)),ue=U(()=>F.value.reduce((l,t)=>l+(t.boys||0),0));return(l,t)=>{const p=te,d=ce;return o(),r(k,null,[$(we,{title:"Dashboard"},{default:q(()=>[e("div",nt,[e("div",dt,[e("div",ut,[e("h1",ct,[t[12]||(t[12]=N(" Hola ",-1)),e("strong",pt,n(l.$page.props.auth.user.name),1),t[13]||(t[13]=N(", Bienvenido a tu panel de control ",-1))]),e("a",{target:"_blank",href:`https://tourscolombia.online/${l.$page.props.auth.user.id}`},[$(p,{label:"Ver Portafolio",class:"text-sm"})],8,mt)]),b(Y)("vendedor")?h("",!0):(o(),r("div",vt,[e("div",gt,[e("div",ft,[t[15]||(t[15]=e("span",{class:"text-xs font-medium text-gray-600"},"Filtrar por estado:",-1)),(o(),r(k,null,A(ae,s=>e("button",{key:s.text,onClick:f=>le(s.text),class:P([_.value===s.text?`bg-${s.color}-600 text-white ring-2 ring-${s.color}-400`:`bg-${s.color}-100 text-${s.color}-700 hover:bg-${s.color}-200`,"px-3 py-1 rounded-md text-xs font-medium transition-all duration-200 shadow-sm"])},n(s.text),11,bt)),64)),_.value?(o(),r("button",{key:0,onClick:t[0]||(t[0]=s=>_.value=null),class:"px-3 py-1 rounded-md text-xs font-medium bg-red-100 text-red-700 hover:bg-red-200 transition-colors"},[...t[14]||(t[14]=[e("i",{class:"fa-solid fa-times mr-1"},null,-1),N(" Limpiar filtro ",-1)])])):h("",!0)]),e("div",yt,[e("div",xt,[e("div",ht,[t[16]||(t[16]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("i",{class:"fa-solid fa-magnifying-glass text-gray-400"})],-1)),W(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>I.value=s),type:"text",placeholder:"Buscar por nombre, teléfono, servicio, estado...",class:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"},null,512),[[X,I.value]])]),Object.values(x.value).some(s=>s)?(o(),r("div",_t,[t[18]||(t[18]=e("span",{class:"text-xs text-gray-600 font-medium"},"Filtros activos:",-1)),(o(!0),r(k,null,A(x.value,(s,f)=>W((o(),r("span",{key:f,class:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 rounded-md text-xs"},[e("span",kt,n(R.value.find(y=>y.field===f)?.header)+":",1),e("span",null,n(s),1),e("button",{onClick:y=>Q(f),class:"ml-1 hover:text-blue-900"},[...t[17]||(t[17]=[e("i",{class:"fa-solid fa-times text-xs"},null,-1)])],8,wt)])),[[xe,s]])),128))])):h("",!0)]),e("div",Ct,[$(d,{modelValue:S.value,"onUpdate:modelValue":t[2]||(t[2]=s=>S.value=s),selectionMode:"range",dateFormat:"dd/mm/yy",manualInput:!1,class:"text-sm"},null,8,["modelValue"]),W(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>u.value=s),class:"px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white transition-all duration-200"},[...t[19]||(t[19]=[e("option",{value:10},"10",-1),e("option",{value:50},"50",-1),e("option",{value:100},"100",-1),e("option",{value:200},"200",-1),e("option",{value:500},"500",-1)])],512),[[he,u.value]])])])]),e("div",$t,[e("table",Vt,[e("thead",At,[e("tr",null,[(o(!0),r(k,null,A(R.value,s=>(o(),r("th",{key:s.field,class:P(["px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",s.class])},[e("div",Ot,[e("span",null,n(s.header),1),s.filter?(o(),r("div",St,[W(e("input",{"onUpdate:modelValue":f=>x.value[s.field]=f,type:"text",placeholder:`Filtrar ${s.header.toLowerCase()}...`,class:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 normal-case font-normal",onClick:t[4]||(t[4]=Z(()=>{},["stop"]))},null,8,Et),[[X,x.value[s.field]]]),x.value[s.field]?(o(),r("button",{key:0,onClick:Z(f=>Q(s.field),["stop"]),class:"absolute right-1 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",title:"Limpiar filtro"},[...t[20]||(t[20]=[e("i",{class:"fa-solid fa-times text-xs"},null,-1)])],8,Nt)):h("",!0)])):h("",!0)])],2))),128)),e("th",Bt,[e("div",Dt,[t[22]||(t[22]=e("span",null,"Acciones",-1)),Object.values(x.value).some(s=>s)?(o(),r("button",{key:0,onClick:se,class:"px-2 py-1 text-xs bg-red-100 text-red-700 hover:bg-red-200 rounded font-normal normal-case transition-colors"},[...t[21]||(t[21]=[e("i",{class:"fa-solid fa-filter-circle-xmark mr-1"},null,-1),N(" Limpiar filtros ",-1)])])):h("",!0)])])])]),e("tbody",Mt,[j.value?(o(!0),r(k,{key:0},A(u.value,s=>(o(),r("tr",{key:`skeleton-${s}`,class:"animate-pulse"},[(o(!0),r(k,null,A(R.value,f=>(o(),r("td",{key:`skeleton-col-${f.field}`,class:P(["px-4 py-3",f.class])},[...t[23]||(t[23]=[e("div",{class:"h-4 bg-gray-200 rounded w-3/4"},null,-1)])],2))),128)),t[24]||(t[24]=e("td",{class:"px-4 py-3"},[e("div",{class:"flex items-center justify-center gap-1"},[e("div",{class:"h-8 w-8 bg-gray-200 rounded-md"})])],-1))]))),128)):F.value.length===0?(o(),r("tr",Ft,[e("td",{colspan:R.value.length+1,class:"px-4 py-8 text-center text-gray-500"},[...t[25]||(t[25]=[e("i",{class:"fa-solid fa-inbox text-4xl mb-2 text-gray-300 animate-bounce"},null,-1),e("p",{class:"font-medium"},"No se encontraron resultados",-1)])],8,Rt)])):(o(!0),r(k,{key:2},A(F.value,(s,f)=>(o(),r("tr",{key:s.id,class:P([ie(s),"hover:bg-gray-50 transition-all duration-200 animate-fade-in"]),style:_e({animationDelay:`${f*30}ms`})},[(o(!0),r(k,null,A(R.value,y=>(o(),r("td",{key:y.field,class:P(["px-4 py-3 text-sm",y.class])},[y.type==="tag"?(o(),r("span",{key:0,class:P([ne(G(s,y.field)),"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},n(G(s,y.field)),3)):y.field==="cliente_phone"?(o(),r("a",{key:1,target:"_blank",href:`https://wa.me/${s.cliente_phone}?text=Hola mucho gusto yo soy Sandra la coordinadora de su actividad`,class:"text-blue-600 hover:text-blue-800 hover:underline"},n(s.cliente_phone),9,Pt)):(o(),r("span",Ut,n(G(s,y.field)||"-"),1))],2))),128)),e("td",jt,[e("div",It,[s.extras&&s.extras.length>0?(o(),H(b(J),{key:0,severity:"danger"},{default:q(()=>[e("button",{onClick:y=>T(s),class:"p-2 rounded-md transition-all duration-200 hover:scale-110 text-blue-600 hover:bg-blue-100",title:"Ver Detalles"},[...t[26]||(t[26]=[e("i",{class:"fa-solid fa-circle-info text-sm"},null,-1)])],8,Tt)]),_:2},1024)):(o(),r("button",{key:1,onClick:y=>T(s),class:"p-2 rounded-md transition-all duration-200 hover:scale-110 text-blue-600 hover:bg-blue-100",title:"Ver Detalles"},[...t[27]||(t[27]=[e("i",{class:"fa-solid fa-circle-info text-sm"},null,-1)])],8,Lt)),e("button",{onClick:y=>{w.value=s,M.value=!0},class:"p-2 rounded-md transition-all duration-200 hover:scale-110 text-green-600 hover:bg-green-100",title:"Completar Servicio"},[...t[28]||(t[28]=[e("i",{class:"fa-solid fa-circle-check text-sm"},null,-1)])],8,Ht),s.notes&&s.notes.length>0?(o(),H(b(J),{key:2,value:s.notes.length,severity:"info"},{default:q(()=>[e("button",{onClick:y=>{w.value=s,O.value=!0},class:"p-2 rounded-md transition-all duration-200 hover:scale-110 text-gray-600 hover:bg-gray-100",title:"Notas"},[...t[29]||(t[29]=[e("i",{class:"fa-solid fa-note-sticky text-sm"},null,-1)])],8,zt)]),_:2},1032,["value"])):(o(),r("button",{key:3,onClick:y=>{w.value=s,O.value=!0},class:"p-2 rounded-md transition-all duration-200 hover:scale-110 text-gray-600 hover:bg-gray-100",title:"Notas"},[...t[30]||(t[30]=[e("i",{class:"fa-solid fa-note-sticky text-sm"},null,-1)])],8,Wt))])])],6))),128))]),F.value.length>0?(o(),r("tfoot",qt,[e("tr",Gt,[t[31]||(t[31]=e("td",{class:"px-4 py-3 text-sm text-gray-900"},"Totales:",-1)),e("td",Jt,n(de.value),1),e("td",Qt,n(ue.value),1),e("td",{colspan:R.value.length-2,class:"px-4 py-3"},null,8,Yt)])])):h("",!0)])]),C.value.total>0?(o(),r("div",Kt,[e("div",Xt,[e("div",Zt,[t[32]||(t[32]=N(" Mostrando ",-1)),e("span",es,n(C.value.from),1),t[33]||(t[33]=N(" a ",-1)),e("span",ts,n(C.value.to),1),t[34]||(t[34]=N(" de ",-1)),e("span",ss,n(C.value.total),1),t[35]||(t[35]=N(" resultados ",-1))]),e("nav",ls,[e("button",{onClick:t[5]||(t[5]=s=>i(1)),disabled:c.value===1,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"},[...t[36]||(t[36]=[e("i",{class:"fa-solid fa-angles-left"},null,-1)])],8,os),e("button",{onClick:t[6]||(t[6]=s=>i(c.value-1)),disabled:c.value===1,class:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"},[...t[37]||(t[37]=[e("i",{class:"fa-solid fa-angle-left"},null,-1)])],8,as),(o(!0),r(k,null,A(re(),s=>(o(),r(k,{key:s},[s!=="..."?(o(),r("button",{key:0,onClick:f=>i(s),class:P([s===c.value?"z-10 bg-blue-600 border-blue-600 text-white":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50","relative inline-flex items-center px-4 py-2 border text-sm font-medium transition-colors duration-200"])},n(s),11,rs)):(o(),r("span",is," ... "))],64))),128)),e("button",{onClick:t[7]||(t[7]=s=>i(c.value+1)),disabled:c.value===C.value.last_page,class:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"},[...t[38]||(t[38]=[e("i",{class:"fa-solid fa-angle-right"},null,-1)])],8,ns),e("button",{onClick:t[8]||(t[8]=s=>i(C.value.last_page)),disabled:c.value===C.value.last_page,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"},[...t[39]||(t[39]=[e("i",{class:"fa-solid fa-angles-right"},null,-1)])],8,ds)])])])):h("",!0)]))])])]),_:1}),w.value?(o(),H(Ce,{key:0,modelValue:V.value,"onUpdate:modelValue":t[9]||(t[9]=s=>V.value=s),service:w.value},null,8,["modelValue","service"])):h("",!0),O.value?(o(),H($e,{key:1,modelValue:O.value,"onUpdate:modelValue":t[10]||(t[10]=s=>O.value=s),notes:B.value,note:D.value,service:w.value},null,8,["modelValue","notes","note","service"])):h("",!0),M.value?(o(),H(it,{key:2,modelValue:M.value,"onUpdate:modelValue":t[11]||(t[11]=s=>M.value=s),service:w.value},null,8,["modelValue","service"])):h("",!0)],64)}}},ll=Oe(us,[["__scopeId","data-v-ea6a4cb1"]]);export{ll as default};
