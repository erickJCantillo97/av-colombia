import{s as h}from"./index-Dr8cmIQ0.js";import{Q as _,O as U,d as c,u as j,f as k,o as w,a as n,b as r,w as m,h as s,F as B,a0 as N,I as p}from"./app-B8m0nNYc.js";import"./marked.esm-BPgSS2IS.js";import{_ as S}from"./Datatable-Dh3w8uY7.js";import{s as T}from"./index-BjXbKqwh.js";import{M as $}from"./Modal-l5bxqxph.js";import{_ as d}from"./Input-C3s4g0tj.js";import"./index-BYPyNz6W.js";import"./index-D0ZItSoF.js";import"./index-BC9WllNl.js";import"./index-CEGAZWTK.js";import"./index-DAGH-nF_.js";import"./index-DNDlol-m.js";import"./index-CJX1Y8eb.js";import"./index-Zq11piMN.js";import"./index-BV8QaNMJ.js";import"./index-BDfQAeee.js";import"./index-CpCYixKq.js";import"./index-CstxKFuQ.js";import"./index-DxyWWUVO.js";import"./index-BglhNePU.js";import"./index-DFvRsSh3.js";import"./index-8otDII8u.js";import"./useCommonUtilities-BgDhORlD.js";import"./postcss-BvsocDeF.js";import"./postcss-DW3B03dX.js";import"./index-DQYm0Si2.js";import"./index-Dsq7Vfvu.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-B7GjwrnR.js";import"./index-XcQ6uK0N.js";import"./index-AlClQI3H.js";import"./index-BzDCOY73.js";const E={class:"h-[80vh]"},F={class:"space-y-3"},ve={__name:"Channels",setup(A){const b=[{header:"Nombre",field:"name",filter:!0},{header:"iniciales ",field:"abreviacion",filter:!0},{header:"Porcentaje",field:"percent",filter:!0,format:t=>t+"%"},{header:"Creación",field:"created_at",type:"datetime",filter:!0}],g=_(),C=U(),l=c(!1),a=j({name:"",abreviacion:"",percent:""}),i=c(!1),x={action:()=>{a.reset(),l.value=!1,i.value=!0}},y=[{action:t=>{i.value=!0,l.value=t.id,a.name=t.name,a.abreviacion=t.abreviacion,a.percent=t.percent},severity:"secondary",icon:"fa-solid fa-pencil text-sm"},{action:(t,e)=>{C.require({target:e.currentTarget,message:"Seguro de Eliminar el Usuario "+t.name+"?",icon:"fa-solid fa-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-sm p-button-danger",rejectLabel:"Cancelar",acceptLabel:"Eliminar",accept:()=>{p.delete(route("users.destroy",t.id),{onSuccess:()=>{g.add({severity:"error",icon:"fa-solid fa-trash-can",summary:"¡Accion realizada!",detail:"Usuario eliminado con exito",group:"customTooltipDataTable",life:5e3})}})}})},severity:"danger",icon:"fa-regular fa-trash-can text-sm"}],V=()=>{l.value?p.put(route("channels.update",l.value),a,{onSuccess:()=>{i.value=!1,u(),l.value=!1}}):p.post(route("channels.store"),a,{onSuccess:()=>{i.value=!1,u(),l.value=!1}})},f=c([]),u=()=>{N.get(route("channels.index")).then(t=>{f.value=t.data})};return u(),(t,e)=>{const v=h;return w(),k(B,null,[n("div",E,[r(S,{columnas:b,add:x,data:f.value,routecreate:"services.create",actions:y},null,8,["data"])]),r($,{visible:i.value,"onUpdate:visible":e[4]||(e[4]=o=>i.value=o),"close-on-escape":!0},{title:m(()=>[...e[5]||(e[5]=[n("span",{class:"text-xl font-bold white-space-nowrap"}," Agregar Canal",-1)])]),icon:m(()=>[...e[6]||(e[6]=[n("i",{class:"fa-solid fa-plus"},null,-1)])]),footer:m(()=>[r(v,{onClick:V,title:"Guardar",severity:"success",label:"Guardar",outlined:"",icon:"fa-solid fa-save",class:"!h-8"}),r(v,{onClick:e[3]||(e[3]=o=>i.value=!1),title:"Cancel",severity:"danger",label:"Cancelar",outlined:"",icon:"fa-solid fa-times",class:"!h-8"})]),default:m(()=>[n("div",F,[r(d,{label:"Nombre del Canal",modelValue:s(a).name,"onUpdate:modelValue":e[0]||(e[0]=o=>s(a).name=o)},null,8,["modelValue"]),r(d,{label:"Iniciales",modelValue:s(a).abreviacion,"onUpdate:modelValue":e[1]||(e[1]=o=>s(a).abreviacion=o)},null,8,["modelValue"]),r(d,{type:"number",label:"Porcentaje",modelValue:s(a).percent,"onUpdate:modelValue":e[2]||(e[2]=o=>s(a).percent=o),suffix:" %","min-fraction-digits":"2","max-fraction-digits":"2"},null,8,["modelValue"])])]),_:1},8,["visible"]),r(s(T))],64)}}};export{ve as default};
