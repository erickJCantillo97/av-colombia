import{s as y}from"./index-D9igsEyI.js";import{M as V,aA as U,d as m,T,o as $,f as j,a as c,b as s,w as i,u as n,F as k,x as d,G as w}from"./app-B4LtWy9z.js";import{_ as B}from"./Datatable-D0_aiz_g.js";import{s as N}from"./index-CI6hLwVf.js";import{_ as S}from"./Modal-dhyNSGzO.js";import{_ as p}from"./Input-DGVluiY_.js";import"./index-DpjUf-uF.js";import"./index-CZ1y0e8c.js";import"./index-OrUnEsXG.js";import"./index-Bfq7ykGm.js";import"./index-Dm7wfXRK.js";import"./index-DGl-TvrN.js";import"./index-C0EZSl-o.js";import"./index-Da7nnwUe.js";import"./index-DSrK58aM.js";import"./index-Yzwjl0fx.js";import"./useCommonUtilities-NbiuDOAU.js";import"./postcss-1K20g_Xw.js";const A={class:"h-[80vh]"},E=c("span",{class:"text-xl font-bold white-space-nowrap"}," Agregar Canal",-1),F=c("i",{class:"fa-solid fa-plus"},null,-1),G={class:"space-y-3"},te={__name:"Channels",setup(L){const b=[{header:"Nombre",field:"name",filter:!0},{header:"iniciales ",field:"abreviacion",filter:!0},{header:"Porcentaje",field:"percent",filter:!0,format:e=>e+"%"},{header:"Creación",field:"created_at",type:"datetime",filter:!0}],_=V(),g=U(),r=m(!1),a=T({name:"",abreviacion:"",percent:""}),l=m(!1),h={action:()=>{a.reset(),r.value=!1,l.value=!0}},x=[{action:e=>{l.value=!0,r.value=e.id,a.name=e.name,a.abreviacion=e.abreviacion,a.percent=e.percent},severity:"secondary",icon:"fa-solid fa-pencil text-sm"},{action:(e,t)=>{g.require({target:t.currentTarget,message:"Seguro de Eliminar el Usuario "+e.name+"?",icon:"fa-solid fa-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-sm p-button-danger",rejectLabel:"Cancelar",acceptLabel:"Eliminar",accept:()=>{console.log(e),d.delete(route("users.destroy",e.id),{onSuccess:()=>{_.add({severity:"error",icon:"fa-solid fa-trash-can",summary:"¡Accion realizada!",detail:"Usuario eliminado con exito",group:"customTooltipDataTable",life:5e3})}})}})},severity:"danger",icon:"fa-regular fa-trash-can text-sm"}],C=()=>{r.value?d.put(route("channels.update",r.value),a,{onSuccess:()=>{l.value=!1,u(),r.value=!1}}):d.post(route("channels.store"),a,{onSuccess:()=>{l.value=!1,u(),r.value=!1}})},f=m([]),u=()=>{w.get(route("channels.index")).then(e=>{f.value=e.data})};return u(),(e,t)=>{const v=y;return $(),j(k,null,[c("div",A,[s(B,{columnas:b,add:h,data:f.value,routecreate:"services.create",actions:x},null,8,["data"])]),s(S,{visible:l.value,"onUpdate:visible":t[4]||(t[4]=o=>l.value=o),"close-on-escape":!0},{title:i(()=>[E]),icon:i(()=>[F]),footer:i(()=>[s(v,{onClick:C,title:"Guardar",severity:"success",label:"Guardar",outlined:"",icon:"fa-solid fa-save",class:"!h-8"}),s(v,{onClick:t[3]||(t[3]=o=>l.value=!1),title:"Cancel",severity:"danger",label:"Cancelar",outlined:"",icon:"fa-solid fa-times",class:"!h-8"})]),default:i(()=>[c("div",G,[s(p,{label:"Nombre del Canal",modelValue:n(a).name,"onUpdate:modelValue":t[0]||(t[0]=o=>n(a).name=o)},null,8,["modelValue"]),s(p,{label:"Iniciales",modelValue:n(a).abreviacion,"onUpdate:modelValue":t[1]||(t[1]=o=>n(a).abreviacion=o)},null,8,["modelValue"]),s(p,{type:"number",label:"Porcentaje",modelValue:n(a).percent,"onUpdate:modelValue":t[2]||(t[2]=o=>n(a).percent=o),suffix:" %","min-fraction-digits":"2","max-fraction-digits":"2"},null,8,["modelValue"])])]),_:1},8,["visible"]),s(n(N))],64)}}};export{te as default};
