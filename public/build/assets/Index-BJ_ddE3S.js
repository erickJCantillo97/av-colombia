import{_ as y}from"./Datatable-CBkrN3zw.js";import{M as _}from"./Modal-a8bOfqIe.js";import k from"./Form-CD0O6_3d.js";import{_ as P}from"./AppLayout-NO9-HEhr.js";import{d as p,A as u,c as C,o as F,w as c,a as t,b as i,t as l,I as M}from"./app-BmHNQmxM.js";import{S as V}from"./sweetalert2.esm.all-Y6IUEg8t.js";import{a as B}from"./toasts-CAnEIL5D.js";import"./index-DbDmNiUv.js";import"./index-CMNYEZoN.js";import"./index-_tyHtWSK.js";import"./index-BRc1YXQ8.js";import"./index-u0EgE3gV.js";import"./index-DEGaYQBi.js";import"./index-KjJ3nmk_.js";import"./index-CJ4TPkHI.js";import"./index-BJDIQaGd.js";import"./index-Jq7k8Nd5.js";import"./index-DvPk8Vm8.js";import"./index-B4C167o5.js";import"./index-XhT6nKNX.js";import"./index-BIj_m8pQ.js";import"./index-Bek_Da1G.js";import"./index-nhGZyJit.js";import"./index-BZ9Tcpon.js";import"./useCommonUtilities-BgDhORlD.js";import"./postcss-CJH3kmL9.js";import"./postcss-BaoVHyTv.js";import"./index-pGzjpmVz.js";import"./index-CdfUJJek.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-BVSIf7cn.js";import"./index-BFcz1mAv.js";import"./index-vcwQlnPH.js";import"./Input-C7SEwENl.js";import"./index-BFTKtjr-.js";import"./index-CVmNizNX.js";import"./index-CgKBEIrc.js";import"./index-yC0k9b2I.js";import"./DetailsTypeReserva-Dmq5RMQg.js";import"./index-janBokcf.js";import"./ItemDetailTypeReserva-DoR1yafv.js";import"./marked.esm-BPgSS2IS.js";import"./Auth-Brt-17UM.js";/* empty css                                                             */const D={class:"mb-6"},S={class:"relative overflow-hidden bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 rounded-2xl p-8 shadow-lg border border-slate-200/50"},A={class:"relative z-10"},I={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6"},N={class:"bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-slate-200/50 hover:shadow-md transition-all duration-300"},j={class:"flex items-center justify-between"},E={class:"text-2xl font-bold text-slate-800 mt-1"},T={class:"bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-slate-200/50 hover:shadow-md transition-all duration-300"},Y={class:"flex items-center justify-between"},$={class:"text-2xl font-bold text-green-600 mt-1"},G={class:"bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-slate-200/50 hover:shadow-md transition-all duration-300"},O={class:"flex items-center justify-between"},z={class:"text-2xl font-bold text-indigo-600 mt-1"},U={class:"bg-white rounded-2xl shadow-lg border border-slate-200/50 overflow-hidden"},Nt={__name:"Index",props:{payments:Array},setup(s){const r=p(!1),{toast:f}=B(),n=s,b=u(()=>n.payments.reduce((o,e)=>o+(e.amount||0),0)),g=u(()=>{const o=new Date,e=o.getMonth(),a=o.getFullYear();return n.payments.filter(w=>{const m=new Date(w.date);return m.getMonth()===e&&m.getFullYear()===a}).length}),d=p(null),x={action:()=>{r.value=!0}},v=[{name:"Ver",icon:"fa-solid fa-pencil",severity:"info",action:o=>{r.value=!0,d.value=o}},{name:"Eliminar",icon:"fa-solid fa-trash",severity:"danger",action:o=>{V.fire({title:"¿Estás seguro?",text:"¡No podrás revertir esto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, eliminarlo"}).then(e=>{e.isConfirmed&&M.delete(route("paymentProveedors.destroy",o.id),{onSuccess:()=>{f("success","Pago eliminado con éxito")}})})}}],h=[{header:"Proveedor",field:"proveedor.nombre",filter:!0},{header:"Fecha de Pago",field:"date",type:"date",filter:!0},{header:"Valor",field:"amount",type:"currency"},{header:"Fecha Inicio",field:"startDate",type:"date",filter:!0},{header:"Fecha Fin",field:"endDate",type:"date",filter:!0},{header:"Comprobante",field:"comprobante",type:"html-custom",renderer:o=>`<a href="${o.comprobante}" class="text-sky-600 underline" target="_blank">Ver Comprobante</a>`}];return(o,e)=>(F(),C(P,{title:"Pagos"},{default:c(()=>[t("div",D,[t("div",S,[e[8]||(e[8]=t("div",{class:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-blue-400/10 to-indigo-400/10 rounded-full blur-3xl"},null,-1)),e[9]||(e[9]=t("div",{class:"absolute bottom-0 left-0 w-48 h-48 bg-gradient-to-tr from-slate-400/10 to-blue-400/10 rounded-full blur-2xl"},null,-1)),t("div",A,[e[7]||(e[7]=t("div",{class:"flex items-center gap-3 mb-4"},[t("div",{class:"p-3 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl shadow-lg"},[t("i",{class:"fa-solid fa-money-bill-transfer text-white text-2xl"})]),t("div",null,[t("h1",{class:"text-3xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 bg-clip-text text-transparent"}," Gestión de Pagos "),t("p",{class:"text-slate-600 text-sm mt-1"},"Administra los pagos a proveedores")])],-1)),t("div",I,[t("div",N,[t("div",j,[t("div",null,[e[1]||(e[1]=t("p",{class:"text-xs font-semibold text-slate-500 uppercase tracking-wide"},"Total Pagos",-1)),t("p",E,l(s.payments.length),1)]),e[2]||(e[2]=t("div",{class:"p-3 bg-blue-100 rounded-lg"},[t("i",{class:"fa-solid fa-file-invoice-dollar text-blue-600 text-xl"})],-1))])]),t("div",T,[t("div",Y,[t("div",null,[e[3]||(e[3]=t("p",{class:"text-xs font-semibold text-slate-500 uppercase tracking-wide"},"Monto Total",-1)),t("p",$,l(new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(b.value)),1)]),e[4]||(e[4]=t("div",{class:"p-3 bg-green-100 rounded-lg"},[t("i",{class:"fa-solid fa-sack-dollar text-green-600 text-xl"})],-1))])]),t("div",G,[t("div",O,[t("div",null,[e[5]||(e[5]=t("p",{class:"text-xs font-semibold text-slate-500 uppercase tracking-wide"},"Este Mes",-1)),t("p",z,l(g.value),1)]),e[6]||(e[6]=t("div",{class:"p-3 bg-indigo-100 rounded-lg"},[t("i",{class:"fa-solid fa-calendar-days text-indigo-600 text-xl"})],-1))])])])])])]),t("div",U,[i(y,{add:x,columnas:h,data:s.payments,actions:v,title:"Pagos"},null,8,["data"])]),i(_,{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=a=>r.value=a),title:"Gestión de Pagos",width:"80vw"},{default:c(()=>[i(k,{payment:d.value},null,8,["payment"])]),_:1},8,["modelValue"])]),_:1}))}};export{Nt as default};
