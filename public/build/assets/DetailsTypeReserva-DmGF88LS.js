import{s as C}from"./index-BHb_zmzG.js";import{c as f}from"./useCommonUtilities-BgDhORlD.js";import N from"./ItemDetailTypeReserva-CueZViFv.js";import{d as u,f as l,o as r,a as s,b as B,F as i,j as p,c as T,w as V,t,n as D,g as x,h,i as F}from"./app-CO2pXAFK.js";import"./index-CwWRi2Zp.js";import"./index-bMkFRN2T.js";import"./index-BaxX5s92.js";import"./index-D8lSORTz.js";import"./index-ZZTcrTT7.js";const P={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 justify-between"},R={class:"flex flex-col gap-4"},q={class:"font-medium block mb-2"},A={class:"w-full bg-gray-200 rounded-md p-2 grid grid-cols-2 divide-y-2 md:flex space-x-2"},S=["onClick"],$={class:"flex flex-col gap-y-2 h-64 overflow-auto"},z={key:0},E={class:"flex items-center gap-x-8 border-b shadow-md justify-between p-3 rounded-md hover:bg-gray-300"},L={class:"flex flex-col"},G={class:"font-bold flex items-center gap-x-2"},H={class:"text-xs"},I={class:"flex flex-col"},J={class:"text-sm"},K={class:"font-bold"},M={key:1},O={class:"flex items-center gap-x-8 border-b shadow-md justify-between p-3 rounded-md hover:bg-gray-300"},Q={class:"flex flex-col"},U={class:"font-bold flex items-center gap-x-2"},W={class:"text-xs"},X={key:0,class:"px-1.5 py-0.5 border border-red-700 text-red-700 rounded-lg"},Y={class:"text-xs"},Z={class:"flex flex-col"},ee={class:"text-sm"},se={class:"font-bold text-end"},ue={__name:"DetailsTypeReserva",props:{reservasType:{type:Array,required:!0},proveedor:{type:[Number,String],required:!0}},setup(d){const c=u(1),b=[{name:"Agrupados",value:1},{name:"Detalles",value:2}],m=u(),k=d,v=u([]),g=u([]),w=(y,_)=>{g.value=_.value.reduce((a,e)=>{const o=e.title;return a[o]||(a[o]={count:0,pasajeros:0,total:0,boys:0}),a[o].count+=1,a[o].pasajeros+=e.adults,a[o].boys+=e.boys,a[o].total+=e.proveedors.filter(n=>n.proveedor_id==k.proveedor).reduce((n,j)=>n+j.cost_total,0),a},{}),v.value=_,m.value.toggle(y)};return(y,_)=>{const a=C;return r(),l(i,null,[s("div",P,[(r(!0),l(i,null,p(d.reservasType,e=>(r(),T(N,{key:e.name,reservas:e,onClick:o=>w(o,e),proveedor:d.proveedor},null,8,["reservas","onClick","proveedor"]))),128))]),B(a,{ref_key:"op",ref:m},{default:V(()=>[s("div",R,[s("div",null,[s("span",q,t(v.value.name),1),s("div",A,[(r(),l(i,null,p(b,e=>s("div",{onClick:o=>c.value=e.value,class:D(["w-full rounded-lg text-center py-2 text-sm md:text-md cursor-pointer",c.value==e.value?"bg-white":"hover:bg-white/30"])},t(e.name),11,S)),64))]),s("div",$,[c.value==1?(r(),l("div",z,[(r(!0),l(i,null,p(g.value,(e,o)=>(r(),l("div",E,[s("div",L,[s("span",G,[s("p",null,t(o),1)]),s("span",H,t(e.count)+" Reservas",1)]),s("div",I,[s("span",J,t(e.pasajeros)+" Pasajeros / "+t(e.boys)+" Niños",1),s("span",K,t(h(f)(e.total)),1)])]))),256))])):x("",!0),c.value==2?(r(),l("div",M,[(r(!0),l(i,null,p(v.value.value,e=>(r(),l("div",O,[s("div",Q,[s("span",U,[s("p",null,t(e.title),1)]),s("span",W,[F(t(e.cliente_name)+" ",1),e.proveedors.find(o=>o.proveedor_id==d.proveedor).discount>0?(r(),l("span",X," - "+t(h(f)(e.proveedors.find(o=>o.proveedor_id==d.proveedor).discount)),1)):x("",!0)]),s("span",Y,t(e.fecha),1)]),s("div",Z,[s("span",ee,t(e.adults)+" Pasajeros / "+t(e.boys)+" Niños",1),s("span",se,t(h(f)(e.proveedors.filter(o=>o.proveedor_id==d.proveedor).reduce((o,n)=>o+n.cost_total,0))),1)])]))),256))])):x("",!0)])])])]),_:1},512)],64)}}};export{ue as default};
