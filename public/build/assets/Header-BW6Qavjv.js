import{d as h,L as Y,B as E,f as c,o as d,g as k,es as z,F as M,i as P,a as e,n as S,u,t as y,s as le,q as T,dO as de,b as w,w as j,S as A,c as ue,dU as W,f9 as F,am as ce,G as N}from"./app-D3TVovok.js";import{s as f}from"./searchStore-D895RUnB.js";/* empty css                                                               */import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{f as B}from"./useCommonUtilities-BgDhORlD.js";import{s as me}from"./index-Dq8Ypw8F.js";import{_ as ve}from"./logo-DJZ4__sp.js";const pe=["onClick"],ge=["innerHTML"],fe={__name:"ServiceTypeTabs",props:{modelValue:Object},emits:["update:modelValue"],setup(a,{emit:m}){const n=h([]),r=h(null),s=f.type,t=h({left:"0px",top:"0px",width:"",height:""}),v=[{label:"Tours",value:"TOUR",description:"Experiencias guiadas",icon:'<img src="/images/beach.png" alt="Beach Icon" />'},{label:"Embarcaciones",value:"EMBARCACION",description:"Yates y lanchas",icon:'<img src="/assets/svgs/motor-boat.svg" alt="Motor Boat Icon" />'},{label:"Hospedaje",value:"HOSPEDAJE",description:"Hoteles y caba√±as",icon:'<img src="/assets/svgs/house.svg" alt="House Icon" />'},{label:"Transporte",value:"TRANSFER",description:"Traslados y veh√≠culos",icon:'<img src="/images/car.png" alt="Automobile Icon" />'}];function $(){le(()=>{const p=v.findIndex(x=>x.value==s.value.value),b=n.value[p],g=r.value;if(b&&g){const x=b.getBoundingClientRect(),C=g.getBoundingClientRect();t.value={left:`${x.left-C.left}px`,top:`${x.top-C.top}px`,width:`${x.width}px`,height:`${x.height}px`}}})}function D(p,b){s.value=p}return Y(()=>s,$,{deep:!0}),E($),(p,b)=>(d(),c("div",{ref_key:"containerRef",ref:r,class:"flex items-center justify-center service-types-container space-x-2 relative overflow-x-auto"},[t.value.width?(d(),c("div",{key:0,class:"absolute transition-all duration-300 bg-gray-900 rounded-xl z-0 shadow-md border-2 border-gray-900",style:z(t.value)},null,4)):k("",!0),(d(),c(M,null,P(v,(g,x)=>e("div",{key:g.value,ref_for:!0,ref:C=>n.value[x]=C,onClick:C=>D(g),class:S(["service-type-tab flex items-center gap-2 px-3 py-2 rounded-xl cursor-pointer transition-all duration-200 group relative overflow-hidden min-w-fit z-10 flex-shrink-0",u(s).value===g.value?"text-white":"text-gray-700 hover:bg-gray-50 border border-gray-200 hover:border-gray-300 bg-white"]),style:z({animationDelay:`${x*.1}s`})},[e("div",{class:S(["w-5 h-5 sm:w-6 sm:h-6  items-center justify-center transition-all duration-200 relative z-10 flex-shrink-0 hidden sm:flex",u(s).value===g.value?"text-white":"text-gray-600 group-hover:text-gray-800"])},[e("div",{innerHTML:g.icon,class:"w-5 h-5 sm:w-6 sm:h-6"},null,8,ge)],2),e("span",{class:S(["text-xs sm:text-sm font-medium transition-all duration-200 relative z-10 leading-tight whitespace-nowrap",u(s).value===g.value?"text-white":"text-gray-700 group-hover:text-gray-900"])},y(g.label),3)],14,pe)),64))],512))}},he=R(fe,[["__scopeId","data-v-e0c7dac6"]]),be={key:0,class:"text-xs font-semibold text-gray-900 uppercase tracking-wide"},ye={class:"text-sm text-gray-500 mt-1 truncate"},xe={key:0,class:"text-xs font-semibold text-gray-900 uppercase tracking-wide"},ke={key:0,class:"text-xs font-semibold text-gray-900 uppercase tracking-wide"},we={class:"hidden sm:inline"},$e={class:"text-sm text-gray-500 mt-1 truncate"},De={key:0,class:"text-xs font-semibold text-gray-900 uppercase tracking-wide"},Ce={class:"text-sm text-gray-500 mt-1 truncate"},Se={class:"px-2 py-2 sm:px-2 sm:py-2 flex justify-center sm:justify-end"},Te={__name:"SearchBar",props:["isPanelOpen","activeTab","selectedLocation","guestSummary","setActiveTab","formatDate","type"],setup(a){const m=a,n=T(()=>{const s=f.checkin.value,t=f.checkout.value;return m.type!="Hospedaje"&&s?B(s):s&&t?`${s?B(s):""} - ${t?B(t):""}`:s?B(s):""}),r=de("showInputTitles",!0);return(s,t)=>(d(),c("div",{class:S(["flex  sm:items-center bg-white rounded-2xl sm:rounded-full border border-gray-200 overflow-hidden transition-all duration-300",a.isPanelOpen?"shadow-xl border-gray-300":"hover:shadow-md"])},[e("div",{class:S(["flex-1 relative search-section",["px-4 sm:px-6 py-3 sm:py-4 cursor-pointer transition-all duration-200 modern-focus","sm:rounded-l-full first:rounded-t-2xl sm:first:rounded-t-none",a.activeTab==="donde"?"bg-white shadow-md section-active":"hover:bg-gray-50"]]),onClick:t[0]||(t[0]=v=>a.setActiveTab("donde"))},[u(r)?(d(),c("div",be,"D√≥nde")):k("",!0),e("div",ye,y(a.selectedLocation||"Explora destinos"),1)],2),t[10]||(t[10]=e("div",{class:"hidden sm:block w-px h-8 bg-gray-200 divider-animated"},null,-1)),t[11]||(t[11]=e("div",{class:"block sm:hidden h-px bg-gray-200 mx-4"},null,-1)),a.type==="Transporte"?(d(),c("div",{key:0,class:S(["flex-1 relative search-section",["px-4 sm:px-6 py-3 sm:py-4 cursor-pointer transition-all duration-200 modern-focus",a.activeTab==="checkin"?"bg-white shadow-md section-active":"hover:bg-gray-50"]]),onClick:t[1]||(t[1]=v=>a.setActiveTab("origin"))},[u(r)?(d(),c("div",xe,t[5]||(t[5]=[e("span",{class:"hidden sm:inline"}," Origen/Destino ",-1),e("span",{class:"sm:hidden"}," Origen/Destino",-1)]))):k("",!0),t[6]||(t[6]=e("div",{class:"text-sm text-gray-500 mt-1 truncate"}," Seleccionar Origen y Destino ",-1))],2)):k("",!0),t[12]||(t[12]=e("div",{class:"hidden sm:block w-px h-8 bg-gray-200 divider-animated"},null,-1)),t[13]||(t[13]=e("div",{class:"block sm:hidden h-px bg-gray-200 mx-4"},null,-1)),e("div",{class:S(["flex-1 relative search-section",["px-4 sm:px-6 py-3 sm:py-4 cursor-pointer transition-all duration-200 modern-focus",a.activeTab==="checkin"?"bg-white shadow-md section-active":"hover:bg-gray-50"]]),onClick:t[2]||(t[2]=v=>a.setActiveTab("checkin"))},[u(r)?(d(),c("div",ke,[e("span",we,y(a.type=="Hospedaje"?"Check-in/Check-out":"Cuando"),1),t[7]||(t[7]=e("span",{class:"sm:hidden"},"Fechas",-1))])):k("",!0),e("div",$e,y(n.value||"Selecciona fechas"),1)],2),t[14]||(t[14]=e("div",{class:"hidden sm:block w-px h-8 bg-gray-200 divider-animated"},null,-1)),t[15]||(t[15]=e("div",{class:"block sm:hidden h-px bg-gray-200 mx-4"},null,-1)),e("div",{class:S(["flex-1 relative search-section",["px-4 sm:px-6 py-3 sm:py-4 cursor-pointer transition-all duration-200 modern-focus",a.activeTab==="quien"?"bg-white shadow-md section-active":"hover:bg-gray-50"]]),onClick:t[3]||(t[3]=v=>a.setActiveTab("quien"))},[u(r)?(d(),c("div",De,t[8]||(t[8]=[e("span",{class:"hidden sm:inline"},"Qui√©n",-1),e("span",{class:"sm:hidden"},"Hu√©spedes",-1)]))):k("",!0),e("div",Ce,y(a.guestSummary||"¬øCu√°ntos?"),1)],2),e("div",Se,[w(u(A),{href:s.route("services.home")},{default:j(()=>[e("button",{onClick:t[4]||(t[4]=()=>{}),class:"bg-gray-500 hover:bg-gray-800 text-white p-3 sm:p-4 rounded-full transition-all duration-200 shadow-lg search-button btn-ripple scale-hover w-12 h-12 sm:w-auto sm:h-auto flex items-center justify-center"},t[9]||(t[9]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)]))]),_:1},8,["href"])])],2))}},je={class:"space-y-6"},Oe={class:"flex items-center justify-between"},Le={class:"flex items-center space-x-3"},Be=["disabled"],Ae={class:"w-8 text-center font-medium"},He={class:"flex items-center justify-between"},Ie={class:"flex items-center space-x-3"},Me=["disabled"],Pe={class:"w-8 text-center font-medium"},Ee={class:"flex items-center justify-between"},Re={class:"flex items-center space-x-3"},Qe=["disabled"],Ve={class:"w-8 text-center font-medium"},qe={__name:"GuestSelector",props:{guests:Object},emits:["increment","decrement"],setup(a){return(m,n)=>(d(),c("div",je,[e("div",Oe,[n[8]||(n[8]=e("div",null,[e("h4",{class:"font-medium text-gray-900"},"Adultos"),e("p",{class:"text-sm text-gray-500"},"13 a√±os o m√°s")],-1)),e("div",Le,[e("button",{onClick:n[0]||(n[0]=r=>m.$emit("decrement","adults")),disabled:a.guests.adults<=0,class:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center disabled:opacity-50 guest-counter btn-ripple hover:border-gray-400 transition-all duration-200"},n[6]||(n[6]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)]),8,Be),e("span",Ae,y(a.guests.adults),1),e("button",{onClick:n[1]||(n[1]=r=>m.$emit("increment","adults")),class:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center guest-counter btn-ripple hover:border-gray-400 transition-all duration-200"},n[7]||(n[7]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)]))])]),e("div",He,[n[11]||(n[11]=e("div",null,[e("h4",{class:"font-medium text-gray-900"},"Ni√±os"),e("p",{class:"text-sm text-gray-500"},"De 2 a 12 a√±os")],-1)),e("div",Ie,[e("button",{onClick:n[2]||(n[2]=r=>m.$emit("decrement","children")),disabled:a.guests.children<=0,class:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center disabled:opacity-50 guest-counter btn-ripple hover:border-gray-400 transition-all duration-200"},n[9]||(n[9]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)]),8,Me),e("span",Pe,y(a.guests.children),1),e("button",{onClick:n[3]||(n[3]=r=>m.$emit("increment","children")),class:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center guest-counter btn-ripple hover:border-gray-400 transition-all duration-200"},n[10]||(n[10]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)]))])]),e("div",Ee,[n[14]||(n[14]=e("div",null,[e("h4",{class:"font-medium text-gray-900"},"Beb√©s"),e("p",{class:"text-sm text-gray-500"},"Menos de 2 a√±os")],-1)),e("div",Re,[e("button",{onClick:n[4]||(n[4]=r=>m.$emit("decrement","infants")),disabled:a.guests.infants<=0,class:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center disabled:opacity-50 guest-counter btn-ripple hover:border-gray-400 transition-all duration-200"},n[12]||(n[12]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)]),8,Qe),e("span",Ve,y(a.guests.infants),1),e("button",{onClick:n[5]||(n[5]=r=>m.$emit("increment","infants")),class:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center guest-counter btn-ripple hover:border-gray-400 transition-all duration-200"},n[13]||(n[13]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)]))])])]))}},Ge={__name:"CalendarSelector",props:{modelValue:[String,Array],value:[String,Array],minDate:String,maxDate:String,placeholder:String,range:Boolean},emits:["update:modelValue","update:value","flex"],setup(a,{emit:m}){const n=a,r=m,s=h(n.modelValue??n.value);Y(()=>n.modelValue??n.value,v=>s.value=v);const t=v=>{r("update:modelValue",v),r("update:value",v),Array.isArray(v)&&v.length===2&&(r("update:checkin",v[0]),r("update:checkout",v[1]))};return(v,$)=>{const D=me;return d(),c("div",null,[w(D,{value:s.value,"onUpdate:value":$[0]||($[0]=p=>s.value=p),range:a.range,class:"w-full",format:"YYYY-MM-DD",minDate:new Date,maxDate:a.maxDate,clearable:!1,inline:!0,numberOfMonths:2,selectionMode:a.range?"range":"single",manualInput:!1,"show-header":!0,"show-week-number":!1,onValueChange:t,pt:{calendarContainer:"!w-full"}},null,8,["value","range","minDate","maxDate","selectionMode"])])}}},Ue={key:0,class:"absolute z-50 mt-2 sm:mt-4 w-full origin-top rounded-2xl sm:rounded-3xl border border-gray-200 bg-white shadow-2xl dropdown-shadow"},ze={key:0,class:"p-4 sm:p-8 panel-content"},Ne={class:"relative mb-4 sm:mb-6"},Ye=["value"],We={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},Fe=["onClick"],Je={class:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-blue-100 to-blue-200 rounded-lg flex items-center justify-center flex-shrink-0"},Ke={class:"text-xl sm:text-2xl"},Xe={class:"min-w-0 flex-1"},Ze={class:"font-medium text-gray-900 truncate"},_e={class:"text-sm text-gray-500 truncate"},et={key:1,class:"p-4 sm:p-8 panel-content"},tt={class:"flex justify-between gap-4"},st={class:"w-full py-2 rounded-md"},nt={class:"grid grid-cols-4 gap-2 mt-2"},at={class:"p-2 border border-gray-200 rounded-lg shadow-md cursor-pointer hover:bg-gray-700 hover:text-white transition-all duration-200 text-center scale-hover modern-focus"},ot={key:2,class:"p-4 sm:p-8 panel-content"},rt={class:"text-lg font-semibold text-gray-900 mb-4 sm:mb-6"},it={key:3,class:"p-4 sm:p-8 panel-content"},lt={key:0,class:"text-gray-900 font-medium text-base sm:text-lg"},dt={key:1,class:"text-gray-500"},ut={key:4,class:"p-4 sm:p-8 panel-content"},ct={__name:"DropdownPanels",props:["isPanelOpen","activeTab","locationQuery","selectedCheckin","selectedCheckout","guests","hasSearchCriteria","popularDestinations","quickDateOptions","durationOptions","formatDate","type","destinos"],emits:["selectLocation","openDatePicker","setQuickDate","setDuration","incrementGuests","decrementGuests","searchLocations","generateWithAi","update:locationQuery"],setup(a){const m=a,n=T(()=>{const r=f.checkin?.value,s=f.checkout?.value;if(m.type==="Hospedaje")if(r){const t=new Date(r).toLocaleDateString(),v=s?new Date(s).toLocaleDateString():null;return v?`¬°Bien! Llegar√≠as el ${t}, hasta el d√≠a ${v}`:`¬°Bien! Llegar√≠as el ${t}, hasta que dia?`}else return"¬øCu√°ndo llegar√≠as?";return m.type==="Embarcaciones"?"¬øQu√© d√≠a quieres la embarcaci√≥n?":m.type==="Tours"?"¬øQu√© d√≠a quieres el tour?":"¬øQu√© d√≠a necesitas tu transporte?"});return(r,s)=>(d(),ue(W,{name:"panel"},{default:j(()=>[a.isPanelOpen?(d(),c("div",Ue,[a.activeTab==="donde"?(d(),c("div",ze,[s[9]||(s[9]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4 sm:mb-6"},"¬øA d√≥nde quieres ir?",-1)),e("div",Ne,[s[7]||(s[7]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),e("input",{value:a.locationQuery,onInput:s[0]||(s[0]=t=>{r.$emit("update:locationQuery",t.target.value),r.$emit("searchLocations")}),type:"text",placeholder:"Buscar destinos",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-rose-500 transition-all duration-200 modern-focus"},null,40,Ye)]),e("div",null,[s[8]||(s[8]=e("h4",{class:"text-sm font-medium text-gray-700 mb-3"},"Destinos populares",-1)),e("div",We,[(d(!0),c(M,null,P(a.popularDestinations,(t,v)=>(d(),c("div",{key:t.name,onClick:$=>r.$emit("selectLocation",t.name),class:"destination-card flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 cursor-pointer transition-all duration-200 scale-hover"},[e("div",Je,[e("span",Ke,y(t.emoji),1)]),e("div",Xe,[e("p",Ze,y(t.name),1),e("p",_e,y(t.description),1)])],8,Fe))),128))])])])):k("",!0),a.activeTab==="origin"?(d(),c("div",et,[s[12]||(s[12]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"¬øD√≥nde te recogemos y d√≥nde te llevamos? ",-1)),e("div",tt,[e("div",st,[s[10]||(s[10]=e("p",{class:"font-bold"},"Origen",-1)),e("div",nt,[(d(!0),c(M,null,P(a.destinos,t=>(d(),c("div",null,[e("div",at,y(t),1)]))),256))])]),s[11]||(s[11]=e("div",{class:"w-full shadow-sm"},[e("p",null,"Destino")],-1))])])):k("",!0),a.activeTab==="checkin"?(d(),c("div",ot,[e("h3",rt,y(n.value),1),e("div",null,[w(Ge,{class:"w-full",value:[u(f).checkin.value,u(f).checkout.value],"min-date":new Date().toISOString().split("T")[0],placeholder:"Selecciona rango de fechas",onChange:s[1]||(s[1]=t=>{Array.isArray(t)&&t.length===2&&(u(f).checkin.value=t[0],u(f).checkout.value=t[1])}),"onUpdate:checkin":s[2]||(s[2]=t=>u(f).checkin.value=t),"onUpdate:checkout":s[3]||(s[3]=t=>u(f).checkout.value=t),range:a.type=="Hospedaje"},null,8,["value","min-date","range"])])])):k("",!0),a.activeTab==="checkout"?(d(),c("div",it,[s[13]||(s[13]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4 sm:mb-6"},"¬øCu√°ndo termina tu viaje?",-1)),e("div",{class:"border border-gray-200 rounded-lg p-4 sm:p-6 cursor-pointer hover:border-gray-300 transition-all duration-200 text-center scale-hover modern-focus",onClick:s[4]||(s[4]=t=>r.$emit("openDatePicker","checkout"))},[a.selectedCheckout?(d(),c("div",lt,y(a.formatDate(a.selectedCheckout)),1)):(d(),c("div",dt,"Selecciona fecha de salida"))])])):k("",!0),a.activeTab==="quien"?(d(),c("div",ut,[s[14]||(s[14]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4 sm:mb-6"},"¬øQui√©n viene?",-1)),w(qe,{guests:a.guests,onIncrement:s[5]||(s[5]=t=>r.$emit("incrementGuests",t)),onDecrement:s[6]||(s[6]=t=>r.$emit("decrementGuests",t))},null,8,["guests"])])):k("",!0)])):k("",!0)]),_:1}))}},mt={class:"flex justify-center w-full px-4 sm:px-6 lg:px-8"},vt={key:"tabs",class:"mb-3 sm:mb-4 w-full items-center flex justify-center"},pt={class:"relative"},gt={__name:"Search",setup(a){const m=h(!1),n=h("donde"),r=h(!1),s=h(!1),t=h(""),v=h(null),$=h(""),D=f.location,p=f.checkin,b=f.checkout,g=f.guests,x=h({label:"Tours",value:"TOUR"}),C=o=>{n.value=o,m.value||(m.value=!0)},J=()=>{m.value=!1,n.value=""},Q=h([]),K=()=>{r.value=!0},X=async o=>{if(D.value=o,V(o),f.type.value.label=="Transporte"){C("origin");return}C("checkin")},V=async o=>{const i=await axios.get(`/getAllDestinations?city=${o}`);Q.value=i.data};V(D.value);const Z=o=>{const i=new Date;if(o==="checkin"){const l=new Date(i);l.setDate(i.getDate()+1),p.value=l.toISOString().split("T")[0]}else if(o==="checkout"){const l=new Date(p.value||i);l.setDate(l.getDate()+7),b.value=l.toISOString().split("T")[0]}},_=(o,i)=>{const l=new Date,L=new Date(l);L.setDate(l.getDate()+i),o==="checkin"&&(p.value=L.toISOString().split("T")[0])},ee=o=>{if(p.value){const i=new Date(p.value),l=new Date(i);l.setDate(i.getDate()+o),b.value=l.toISOString().split("T")[0]}},O=o=>new Date(o).toLocaleDateString("es-ES",{weekday:"short",month:"short",day:"numeric"}),te=[{name:"Cartagena",description:"Ciudad amurallada",emoji:"üè∞"},{name:"San Andr√©s",description:"Isla caribe√±a",emoji:"üèùÔ∏è"},{name:"Medell√≠n",description:"Ciudad de la eterna primavera",emoji:"üå∏"},{name:"Bogot√°",description:"Capital cultural",emoji:"üèôÔ∏è"},{name:"Eje Cafetero",description:"Paisaje cafetero",emoji:"‚òï"},{name:"Amazonas",description:"Selva tropical",emoji:"üå≥"}],se=o=>{g.value[o]++},ne=o=>{g.value[o]>0&&g.value[o]--},ae=()=>{console.log("Buscando:",$.value)},H=T(()=>{const o=f.type.value.label=="Hospedaje"?"hu√©sped":"persona",i=g.value.adults+g.value.children;if(i===0)return"";let l=`${i} ${o}${i>1?o=="hu√©sped"?"es":"s":""}`;return g.value.infants>0&&(l+=`, ${g.value.infants} beb√©${g.value.infants>1?"s":""}`),l}),q=T(()=>D.value||p.value||b.value||g.value.adults>0||g.value.children>0||g.value.infants>0);T(()=>t.value?marked.parse(t.value).replace(/<a href="([^"]+)">/g,(l,L)=>`<a href="/showservice/${L}" target="_blank" rel="noopener noreferrer" class="text-green-600 hover:text-green-800 font-semibold underline">`):"");const oe=T(()=>p.value&&b.value?`${O(p.value)} - ${O(b.value)}`:p.value?O(p.value):""),re=async()=>{if(q.value){K(),s.value=!0;try{let o="";D.value&&(o+=`Destino: ${D.value}. `),p.value&&(o+=`Check-in: ${p.value}. `),b.value&&(o+=`Check-out: ${b.value}. `),H.value&&(o+=`Hu√©spedes: ${H.value}. `),x.value.value&&(o+=`Tipo: ${x.value.label}. `);const l=(await axios.post("/get-service",{prompt:o||"B√∫squeda general",type:x.value.value})).data;t.value=l.recommendation||l.response||"No se recibi√≥ una recomendaci√≥n v√°lida."}catch(o){console.error("Error al contactar el backend:",o),t.value=`Ocurri√≥ un error al buscar el servicio: ${o.message}`}finally{s.value=!1}}},G=o=>{o.target.closest(".mx-datepicker-popup")||o.target.closest(".mx-calendar")||v.value&&!v.value.contains(o.target)&&J()},I=h(!0),ie=I;function U(){const o=window.scrollY,i=window.innerWidth<=768?20:10;I.value=o<i}return E(()=>{document.addEventListener("mousedown",G),document.addEventListener("scroll",U)}),F(()=>{document.removeEventListener("mousedown",G),document.removeEventListener("scroll",U)}),ce("showInputTitles",ie),(o,i)=>(d(),c("div",mt,[e("div",{class:"relative w-full",ref_key:"searchContainer",ref:v},[w(W,{name:"fade-slide"},{default:j(()=>[I.value?(d(),c("div",vt,[w(he,{servicesType:o.servicesType,modelValue:u(f).type,"onUpdate:modelValue":i[0]||(i[0]=l=>u(f).type=l)},null,8,["servicesType","modelValue"]),w(u(A),{class:"sm:hidden fixed right-0 top-9 bg-white/90 rounded-full px-2 py-1",href:o.route("login")},{default:j(()=>i[4]||(i[4]=[e("i",{class:"fa-solid fa-right-to-bracket"},null,-1)])),_:1},8,["href"])])):k("",!0)]),_:1}),e("div",pt,[w(Te,{type:u(f).type.value.label,isPanelOpen:m.value,activeTab:n.value,selectedLocation:u(D),selectedCheckin:u(p),selectedCheckout:u(b),guestSummary:H.value,setActiveTab:C,formatDate:O,dateRange:oe.value},null,8,["type","isPanelOpen","activeTab","selectedLocation","selectedCheckin","selectedCheckout","guestSummary","dateRange"])]),w(ct,{isPanelOpen:m.value,activeTab:n.value,locationQuery:$.value,"onUpdate:locationQuery":i[1]||(i[1]=l=>$.value=l),selectedCheckin:u(p),"onUpdate:selectedCheckin":i[2]||(i[2]=l=>N(p)?p.value=l:null),selectedCheckout:u(b),"onUpdate:selectedCheckout":i[3]||(i[3]=l=>N(b)?b.value=l:null),guests:u(g),hasSearchCriteria:q.value,popularDestinations:te,quickDateOptions:o.quickDateOptions,durationOptions:o.durationOptions,formatDate:O,onSelectLocation:X,onOpenDatePicker:Z,onSetQuickDate:_,onSetDuration:ee,onIncrementGuests:se,onDecrementGuests:ne,onSearchLocations:ae,onGenerateWithAi:re,type:u(f).type.value.label,destinos:Q.value},null,8,["isPanelOpen","activeTab","locationQuery","selectedCheckin","selectedCheckout","guests","hasSearchCriteria","quickDateOptions","durationOptions","type","destinos"])],512)]))}},ft=R(gt,[["__scopeId","data-v-af1f8455"]]),ht={class:"flex items-center justify-between p-0 lg:px-8","aria-label":"Global"},bt={class:"hidden md:flex w-1/5"},yt={class:"rounded-md w-full"},xt={__name:"Header",setup(a){h("");const m=h(!1);h(!1);const n=()=>{window.scrollY>300?m.value=!0:m.value=!1};return E(()=>{window.addEventListener("scroll",n)}),F(()=>{window.removeEventListener("scroll",n)}),(r,s)=>(d(),c("header",{class:S(["bg-transparent z-30",{scrolled:m.value}])},[e("nav",ht,[e("div",bt,[w(u(A),{href:"/"},{default:j(()=>[w(ve,{width:"60",height:"60"})]),_:1})]),e("div",yt,[w(ft)]),w(u(A),{class:"rounded-md w-1/5 sm:flex hidden justify-center",href:r.route("login")},{default:j(()=>s[0]||(s[0]=[e("div",{class:"flex items-center gap-x-3 justify-center h-full bg-white/90 rounded-md px-2 py-1"},[e("i",{class:"fa-solid fa-right-to-bracket"}),e("span",{class:"text-lg font-bold text-gray-800"},"Entrar")],-1)])),_:1},8,["href"])])],2))}},Ot=R(xt,[["__scopeId","data-v-9a3609f7"]]);export{Ot as H,qe as _};
