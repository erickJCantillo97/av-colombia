import{z as ce,A as ve,f8 as Oe,p as je,s as me,M as Se,ap as re,ar as te,f9 as ke,ad as Pe,fa as fe,d as Fe,B as $e,ae as he}from"./app-BmHNQmxM.js";function D(t){"@babel/helpers - typeof";return D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(t)}function de(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),r.push.apply(r,a)}return r}function ne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?de(Object(r),!0).forEach(function(a){ge(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function ge(t,e,r){return(e=Ie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ie(t){var e=Te(t,"string");return D(e)=="symbol"?e:e+""}function Te(t,e){if(D(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,e);if(D(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,r=typeof Symbol=="function"?Symbol:{},a=r.iterator||"@@iterator",c=r.toStringTag||"@@toStringTag";function y(w,A,N,z){var H=A&&A.prototype instanceof m?A:m,C=Object.create(H.prototype);return $(C,"_invoke",(function(g,n,u){var o,i,l,f=0,S=u||[],s=!1,v={p:0,n:0,v:t,a:V,f:V.bind(t,4),d:function(O,k){return o=O,i=0,l=t,v.n=k,p}};function V(d,O){for(i=d,l=O,e=0;!s&&f&&!k&&e<S.length;e++){var k,_=S[e],G=v.p,P=_[2];d>3?(k=P===O)&&(l=_[(i=_[4])?5:(i=3,3)],_[4]=_[5]=t):_[0]<=G&&((k=d<2&&G<_[1])?(i=0,v.v=O,v.n=_[1]):G<P&&(k=d<3||_[0]>O||O>P)&&(_[4]=d,_[5]=O,v.n=P,i=0))}if(k||d>1)return p;throw s=!0,O}return function(d,O,k){if(f>1)throw TypeError("Generator is already running");for(s&&O===1&&V(O,k),i=O,l=k;(e=i<2?t:l)||!s;){o||(i?i<3?(i>1&&(v.n=-1),V(i,l)):v.n=l:v.v=l);try{if(f=2,o){if(i||(d="next"),e=o[d]){if(!(e=e.call(o,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,i<2&&(i=0)}else i===1&&(e=o.return)&&e.call(o),i<2&&(l=TypeError("The iterator does not provide a '"+d+"' method"),i=1);o=t}else if((e=(s=v.n<0)?l:g.call(n,v))!==p)break}catch(_){o=t,i=1,l=_}finally{f=1}}return{value:e,done:s}}})(w,N,z),!0),C}var p={};function m(){}function b(){}function h(){}e=Object.getPrototypeOf;var F=[][a]?e(e([][a]())):($(e={},a,function(){return this}),e),I=h.prototype=m.prototype=Object.create(F);function B(w){return Object.setPrototypeOf?Object.setPrototypeOf(w,h):(w.__proto__=h,$(w,c,"GeneratorFunction")),w.prototype=Object.create(I),w}return b.prototype=h,$(I,"constructor",h),$(h,"constructor",b),b.displayName="GeneratorFunction",$(h,c,"GeneratorFunction"),$(I),$(I,c,"Generator"),$(I,a,function(){return this}),$(I,"toString",function(){return"[object Generator]"}),(T=function(){return{w:y,m:B}})()}function $(t,e,r,a){var c=Object.defineProperty;try{c({},"",{})}catch{c=0}$=function(p,m,b,h){function F(I,B){$(p,I,function(w){return this._invoke(I,B,w)})}m?c?c(p,m,{value:b,enumerable:!h,configurable:!h,writable:!h}):p[m]=b:(F("next",0),F("throw",1),F("return",2))},$(t,e,r,a)}function pe(t,e,r,a,c,y,p){try{var m=t[y](p),b=m.value}catch(h){return void r(h)}m.done?e(b):Promise.resolve(b).then(a,c)}function R(t){return function(){var e=this,r=arguments;return new Promise(function(a,c){var y=t.apply(e,r);function p(b){pe(y,a,c,p,m,"next",b)}function m(b){pe(y,a,c,p,m,"throw",b)}p(void 0)})}}function ue(t,e){return Ee(t)||Ge(t,e)||Ae(t,e)||Ve()}function Ve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ae(t,e){if(t){if(typeof t=="string")return ye(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ye(t,e):void 0}}function ye(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,a=Array(e);r<e;r++)a[r]=t[r];return a}function Ge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var a,c,y,p,m=[],b=!0,h=!1;try{if(y=(r=r.call(t)).next,e!==0)for(;!(b=(a=y.call(r)).done)&&(m.push(a.value),m.length!==e);b=!0);}catch(F){h=!0,c=F}finally{try{if(!b&&r.return!=null&&(p=r.return(),Object(p)!==p))return}finally{if(h)throw c}}return m}}function Ee(t){if(Array.isArray(t))return t}function Be(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Oe()?je(t):e?t():me(t)}function Me(t,e,r){var a=Fe(!0),c=$e(t,function(y,p){a.value&&e(y,p)},r);return{stop:c,pause:function(){a.value=!1},resume:function(){a.value=!0}}}function ae(t){return Object.entries(t).reduce(function(e,r){var a=ue(r,2),c=a[0],y=a[1];return c.split(/[\.\[\]]+/).filter(Boolean).reduce(function(p,m,b,h){var F;return(F=p[m])!==null&&F!==void 0?F:p[m]=isNaN(h[b+1])?b===h.length-1?y:{}:[]},e),e},{})}function be(t,e){if(!t||!e)return null;try{var r=t[e];if(he(r))return r}catch{}var a=e.split(/[\.\[\]]+/).filter(Boolean);return a.reduce(function(c,y){return c&&c[y]!==void 0?c[y]:void 0},t)}var De=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=ce({}),a=ce({}),c=ve(function(){return Object.values(r).every(function(g){return!g.invalid})}),y=ve(function(){return ae(r)}),p=function(n,u){return{value:u??be(e.initialValues,n),touched:!1,dirty:!1,pristine:!0,valid:!0,invalid:!1,error:null,errors:[]}},m=function(n,u){var o=re(u,n);return o===!0||te(o)&&o.includes(n)},b=(function(){var g=R(T().m(function n(u,o){var i,l,f,S,s;return T().w(function(v){for(;;)switch(v.n){case 0:if(l={},!te(e[u])){v.n=2;break}return v.n=1,w(e[u]);case 1:l=v.v,v.n=4;break;case 2:if(S=(i=e[u])!==null&&i!==void 0?i:o,!S){v.n=4;break}return v.n=3,w();case 3:l=v.v;case 4:if(f=Object.keys(a).filter(function(V){var d;return(d=a[V])===null||d===void 0||(d=d.options)===null||d===void 0?void 0:d[u]})||[],s=he(f),!s){v.n=6;break}return v.n=5,w(f);case 5:l=v.v;case 6:return v.a(2,l)}},n)}));return function(u,o){return g.apply(this,arguments)}})(),h=function(n,u,o,i){var l,f;((l=u?.[o])!==null&&l!==void 0?l:m(n,(f=e[o])!==null&&f!==void 0?f:i))&&w(n)},F=function(n,u){var o,i;if(!n)return[];(o=a[n])===null||o===void 0||o._watcher.stop(),r[n]||(r[n]=p(n,u?.initialValue));var l=Se((i=re(u,r[n]))===null||i===void 0?void 0:i.props,re(u?.props,r[n]),{name:n,onBlur:function(){r[n].touched=!0,h(n,u,"validateOnBlur")},onInput:function(s){r[n].value=s&&Object.hasOwn(s,"value")?s.value:s.target.value},onChange:function(s){r[n].value=s&&Object.hasOwn(s,"value")?s.value:s.target.type==="checkbox"||s.target.type==="radio"?s.target.checked:s.target.value},onInvalid:function(s){var v;r[n].invalid=!0,r[n].errors=s,r[n].error=(v=s?.[0])!==null&&v!==void 0?v:null}}),f=Me(function(){return r[n].value},function(S,s){r[n].pristine&&(r[n].pristine=!1),S!==s&&(r[n].dirty=!0),h(n,u,"validateOnValueUpdate",!0)});return a[n]={props:l,states:r[n],options:u,_watcher:f},[r[n],l]},I=function(n){return(function(){var u=R(T().m(function o(i){var l;return T().w(function(f){for(;;)switch(f.n){case 0:return f.n=1,b("validateOnSubmit",!0);case 1:return l=f.v,f.a(2,n(ne({originalEvent:i,valid:fe(c),states:fe(y),reset:A},l)))}},o)}));return function(o){return u.apply(this,arguments)}})()},B=function(n){return(function(){var u=R(T().m(function o(i){return T().w(function(l){for(;;)switch(l.n){case 0:return A(),l.a(2,n({originalEvent:i}))}},o)}));return function(o){return u.apply(this,arguments)}})()},w=(function(){var g=R(T().m(function n(u){var o,i,l,f,S,s,v,V,d,O,k,_,G,P,W,q,J,Q,X,Y,K,M,E,U,ie,Z,L,oe,x;return T().w(function(j){for(;;)switch(j.n){case 0:return S=Object.entries(r).reduce(function(ee,_e){var le=ue(_e,2),se=le[0],we=le[1];return ee.names.push(se),ee.values[se]=we.value,ee},{names:[],values:{}}),s=[S.names,ae(S.values)],v=s[0],V=s[1],j.n=1,(i=e.resolver)===null||i===void 0?void 0:i.call(e,{names:v,values:V});case 1:if(ie=o=j.v,U=ie!==null,!U){j.n=2;break}U=o!==void 0;case 2:if(!U){j.n=3;break}Z=o,j.n=4;break;case 3:Z={values:V};case 4:d=Z,(f=(l=d).errors)!==null&&f!==void 0||(l.errors={}),O=[u].flat(),k=0,_=Object.entries(a);case 5:if(!(k<_.length)){j.n=12;break}if(G=ue(_[k],2),P=G[0],W=G[1],!(O.includes(P)||!u||Pe(d.errors))){j.n=11;break}if(X=(q=W.options)===null||q===void 0?void 0:q.resolver,!X){j.n=10;break}return K=W.states.value,j.n=6,X({values:K,value:K,name:P});case 6:if(oe=Y=j.v,L=oe!==null,!L){j.n=7;break}L=Y!==void 0;case 7:if(!L){j.n=8;break}x=Y,j.n=9;break;case 8:x={values:K};case 9:M=x,te(M.errors)&&(M.errors=ge({},P,M.errors)),d=ke(d,M);case 10:E=(J=be(d.errors,P))!==null&&J!==void 0?J:[],r[P].invalid=E.length>0,r[P].valid=!r[P].invalid,r[P].errors=E,r[P].error=(Q=E?.[0])!==null&&Q!==void 0?Q:null;case 11:k++,j.n=5;break;case 12:return j.a(2,ne(ne({},d),{},{errors:ae(d.errors)}))}},n)}));return function(u){return g.apply(this,arguments)}})(),A=function(){Object.keys(r).forEach((function(){var n=R(T().m(function u(o){var i,l;return T().w(function(f){for(;;)switch(f.n){case 0:return l=a[o]._watcher,l.pause(),a[o].states=r[o]=p(o,(i=a[o])===null||i===void 0||(i=i.options)===null||i===void 0?void 0:i.initialValue),f.n=1,me();case 1:l.resume();case 2:return f.a(2)}},u)}));return function(u){return n.apply(this,arguments)}})())},N=function(n,u){r[n]!==void 0&&(r[n].value=u)},z=function(n){var u;return(u=a[n])===null||u===void 0?void 0:u.states},H=function(n){Object.keys(n).forEach(function(u){return N(u,n[u])})},C=function(){b("validateOnMount")};return Be(C),{defineField:F,setFieldValue:N,getFieldState:z,handleSubmit:I,handleReset:B,validate:w,setValues:H,reset:A,valid:c,states:y,fields:a}};export{De as u};
