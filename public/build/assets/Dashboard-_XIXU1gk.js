import{s as de}from"./index-CGS0afBd.js";import{a as Z,s as ee}from"./index-DkRoHIb-.js";import{J as ue,e as ce,f as r,o as a,r as pe,b as $,M as Y,aU as me,aV as ve,d as v,A as H,u as ge,B as T,s as fe,c as L,w as q,a as e,i as N,t as n,g as h,h as b,F as k,j as A,n as P,E as W,G as K,Y as be,a6 as ye,k as X,a7 as xe,a0 as he}from"./app-D9lkms6O.js";import{_ as _e}from"./AppLayout-BEQbbqpV.js";import{V as ke,N as we}from"./Notas-DJoiC8-S.js";import{M as Ce}from"./Modal-CryNqfzK.js";import{_ as z}from"./Input-1ZIPL5c4.js";import{_ as $e}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-hv__8QCF.js";import"./index-BXiu9UR-.js";import"./index-BCq8B6_x.js";import"./index-DnpeI0Je.js";import"./index-CEpbC4n7.js";import"./index-DOc_2dNx.js";import"./index-BXxjDbIr.js";import"./index-CxYQ1YBD.js";import"./index-j_mmKuSR.js";import"./index-xC3-jSyl.js";import"./index-C9fHRIXP.js";import"./marked.esm-BPgSS2IS.js";import"./Auth-CfPWUaUI.js";/* empty css                                                             */import"./index-DCoSqXNC.js";import"./index-B-0skidt.js";import"./index-COzMm9Ln.js";import"./index--MLOjIux.js";import"./index-aAnGNck2.js";import"./sweetalert2.esm.all-Y6IUEg8t.js";import"./toasts-CAnEIL5D.js";import"./Service-D6l1zd_J.js";import"./GeneralService-CpCpVrqS.js";import"./Toats-CRqRGqmn.js";import"./searchStore-DUe8ZHLT.js";import"./Loading-rjVqv3PZ.js";import"./logo-cGDA44iG.js";import"./index-A5Nk5kDX.js";import"./index-DTEMCZos.js";import"./index-Dx5wHE_8.js";import"./index-DV8XMvnI.js";import"./index-D60ja3pF.js";import"./index-DU6IPu8C.js";import"./index-BQ4Gg209.js";import"./index-Cjbw3j7d.js";import"./useCommonUtilities-BgDhORlD.js";import"./postcss-BxmSa4Ec.js";import"./postcss-K4QOF4c_.js";var Ve=`
    .p-overlaybadge {
        position: relative;
    }

    .p-overlaybadge .p-badge {
        position: absolute;
        inset-block-start: 0;
        inset-inline-end: 0;
        transform: translate(50%, -50%);
        transform-origin: 100% 0;
        margin: 0;
        outline-width: dt('overlaybadge.outline.width');
        outline-style: solid;
        outline-color: dt('overlaybadge.outline.color');
    }

    .p-overlaybadge .p-badge:dir(rtl) {
        transform: translate(-50%, -50%);
    }
`,Ae={root:"p-overlaybadge"},Oe=ue.extend({name:"overlaybadge",style:Ve,classes:Ae}),Se={name:"OverlayBadge",extends:Z,style:Oe,provide:function(){return{$pcOverlayBadge:this,$parentInstance:this}}},J={name:"OverlayBadge",extends:Se,inheritAttrs:!1,components:{Badge:Z}};function Ee(g,B,D,O,M,w){var V=ce("Badge");return a(),r("div",Y({class:g.cx("root")},g.ptmi("root")),[pe(g.$slots,"default"),$(V,Y(g.$props,{pt:g.ptm("pcBadge")}),null,16,["pt"])],16)}J.render=Ee;const Ne={class:"flex items-center gap-4 p-6 border-b dark:border-gray-700"},Be={class:"text-sm text-gray-600 dark:text-gray-400"},De={class:"font-semibold uppercase"},Me={class:"p-6 space-y-6"},Fe={key:0},Re={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Pe={class:"bg-gray-50 dark:bg-gray-900/30 p-4 rounded-lg"},Ue={class:"flex items-center justify-between mb-3"},je={class:"text-lg font-bold text-gray-800 dark:text-gray-100"},Ie={class:"space-y-3"},Te={class:"flex-1"},Le={class:"text-sm font-medium text-gray-700 dark:text-gray-200"},He={class:"w-48"},ze={key:0,class:"mt-3 p-3 rounded bg-red-50 text-sm text-red-700"},We={key:1,class:"space-y-3"},qe={class:"col-span-2"},Ge={class:"col-span-6"},Je={class:"col-span-2"},Qe={class:"col-span-2 text-right"},Ye={class:"p-4 rounded-lg bg-white dark:bg-gray-900/40 border border-gray-100 dark:border-gray-800"},Ke={class:"flex justify-between gap-4 text-sm"},Xe={class:"font-medium"},Ze={class:"flex justify-between gap-4 text-sm mt-1"},et={class:"font-medium"},tt={class:"flex justify-between gap-4 text-sm mt-2 pt-2 border-t"},st={class:"text-gray-800 font-semibold"},lt={class:"px-6 py-4 bg-gray-50 dark:bg-gray-900/40 border-t dark:border-gray-700 flex justify-end gap-3"},ot={__name:"Completar",props:me({service:Object},{modelValue:!0,modelModifiers:{}}),emits:["update:modelValue"],setup(g){const B=g,D=ve(g,"modelValue",!0),O=v(null),M=`completar-heading-${B.service?.id??Math.random().toString(36).slice(2)}`,w=v("COMPLETADA"),V=v([]),S=H(()=>V.value.reduce((m,l)=>m+(Number(l.amount)||0),0)),U=H(()=>(u.extras||[]).reduce((m,l)=>m+(Number(l.unit_cost)||0)*(Number(l.cantidad)||0),0)),j=H(()=>S.value+U.value),c=H(()=>{const m=Number(B.service?.saldo||0);return S.value<=m});T(D,async m=>{if(m){await fe();try{const l=O.value;if(l){const E=l.querySelector&&l.querySelector('input[type="text"], input[type="number"], textarea');E&&E.focus&&E.focus()}}catch{}}});const u=ge({saldoPagado:"AV COLOMBIA",status:"COMPLETADA",service_id:B.service.id,conductor:"",placa:"",value:"",saldos:[],extras:[]}),_=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0});function x(){u.extras=B.service.extras.map(m=>({id:m.id,cantidad:m.cantidad,description:m.description,unit_cost:m.unit_cost}))}x();const C=()=>{c.value&&(u.saldos=V.value,u.status=w.value,u.post(route("completar.reserva"),{onSuccess:()=>{u.reset(),D.value=!1}}))};function F(){V.value=B.service.proveedors.map(m=>({id:m.id,name:m.proveedor.proveedor.nombre,amount:0}))}return F(),(m,l)=>{const E=ee;return a(),L(Ce,{modelValue:D.value,"onUpdate:modelValue":l[4]||(l[4]=i=>D.value=i),title:"","close-on-escape":""},{default:q(()=>[e("div",{ref_key:"modalRoot",ref:O,class:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm rounded-lg shadow-lg overflow-hidden",role:"dialog","aria-labelledby":M},[e("div",Ne,[l[5]||(l[5]=e("div",{class:"flex items-center justify-center w-12 h-12 rounded-full bg-gradient-to-br from-green-500 to-emerald-600 text-white text-xl shadow"},[e("i",{class:"fa-solid fa-check","aria-hidden":"true"})],-1)),e("div",null,[e("h3",{id:M,class:"text-lg font-bold text-gray-900 dark:text-gray-100"},"Completar servicio"),e("p",Be,[N(n(g.service.cliente_name)+" · ",1),e("span",De,n(g.service.service),1)])]),l[6]||(l[6]=e("div",{class:"ml-auto text-sm text-gray-500 dark:text-gray-400"},"Sin novedad",-1))]),e("div",Me,[g.service.service_type=="TRANSFER"||g.service.proveedors.find(i=>i.proveedor_id==="9e602dc8-08e0-42f4-bbb2-1eed02652372")?(a(),r("div",Fe,[e("div",Re,[$(z,{label:"Conductor",modelValue:b(u).conductor,"onUpdate:modelValue":l[0]||(l[0]=i=>b(u).conductor=i),type:"text",placeholder:"Nombre del conductor",class:"w-full"},null,8,["modelValue"]),$(z,{label:"Placa",modelValue:b(u).placa,"onUpdate:modelValue":l[1]||(l[1]=i=>b(u).placa=i),type:"text",placeholder:"Placa del Vehiculo",class:"w-full"},null,8,["modelValue"]),$(z,{label:"Valor del servicio",modelValue:b(u).value,"onUpdate:modelValue":l[2]||(l[2]=i=>b(u).value=i),type:"text",placeholder:"Valor del Servicio",class:"w-full"},null,8,["modelValue"])])])):h("",!0),e("div",Pe,[e("div",Ue,[e("div",null,[l[7]||(l[7]=e("p",{class:"text-sm text-gray-600 dark:text-gray-300"},"Saldo restante",-1)),e("p",je,n(b(_).format(g.service.saldo-S.value)),1)]),l[8]||(l[8]=e("div",{class:"text-sm text-gray-500"},"Distribuye el pago entre proveedores",-1))]),e("div",Ie,[(a(!0),r(k,null,A(V.value,i=>(a(),r("div",{key:i.id,class:"flex items-center gap-4"},[e("div",Te,[e("div",Le,n(i.name),1)]),e("div",He,[$(z,{class:"w-full",type:"number",mode:"currency",modelValue:i.amount,"onUpdate:modelValue":I=>i.amount=I,"aria-label":"Monto para {{ proveedor.name }}"},null,8,["modelValue","onUpdate:modelValue"])])]))),128))]),c.value?h("",!0):(a(),r("div",ze," La suma de los pagos excede el saldo. Ajusta los montos antes de continuar. "))]),g.service.extras&&g.service.extras.length>0?(a(),r("div",We,[l[9]||(l[9]=e("h4",{class:"text-md font-semibold"},"Servicios extras",-1)),l[10]||(l[10]=e("div",{class:"grid grid-cols-12 gap-3 items-center font-semibold text-sm text-gray-600 dark:text-gray-300"},[e("div",{class:"col-span-2"},"Cantidad"),e("div",{class:"col-span-6"},"Descripción"),e("div",{class:"col-span-2 text-right"},"Costo Unitario"),e("div",{class:"col-span-2 text-right"},"Total")],-1)),(a(!0),r(k,null,A(b(u).extras,i=>(a(),r("div",{key:i.id,class:"grid grid-cols-12 gap-3 items-center py-2 border-b border-dashed border-gray-200 dark:border-gray-700"},[e("div",qe,n(i.cantidad),1),e("div",Ge,n(i.description),1),e("div",Je,[$(z,{type:"number",modelValue:i.unit_cost,"onUpdate:modelValue":I=>i.unit_cost=I,mode:"currency","aria-label":"Costo unitario {{ extra.description }}"},null,8,["modelValue","onUpdate:modelValue"])]),e("div",Qe,n(b(_).format(i.cantidad*i.unit_cost)),1)]))),128))])):h("",!0),e("div",Ye,[e("div",Ke,[l[11]||(l[11]=e("div",{class:"text-gray-600"},"Total pagos",-1)),e("div",Xe,n(b(_).format(S.value)),1)]),e("div",Ze,[l[12]||(l[12]=e("div",{class:"text-gray-600"},"Total extras",-1)),e("div",et,n(b(_).format(U.value)),1)]),e("div",tt,[l[13]||(l[13]=e("div",{class:"text-gray-800 font-semibold"},"Total final",-1)),e("div",st,n(b(_).format(j.value)),1)])])]),e("div",lt,[$(E,{label:"Cancelar",severity:"danger",icon:"fa-solid fa-xmark",class:"bg-white/60 hover:bg-white/80 dark:bg-gray-800/50",onClick:l[3]||(l[3]=i=>D.value=!1),"aria-label":"Cancelar completar servicio"}),$(E,{disabled:!c.value||b(u).processing,label:"Completar Servicio",severity:"success",onClick:C,icon:"fa-solid fa-save",class:"px-5 py-3","aria-disabled":!c.value||b(u).processing},null,8,["disabled","aria-disabled"])])],512)]),_:1},8,["modelValue"])}}},at={class:"py-4 h-[92vh]"},rt={class:"w-full mx-auto sm:px-1 lg:px-4 space-y-2"},it={class:"bg-white overflow-hidden sm:rounded-lg flex justify-between items-center px-4 py-3 shadow-sm border border-gray-200"},nt={class:"text-lg"},dt={class:"uppercase text-blue-600"},ut=["href"],ct={class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},pt={class:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-gray-200"},mt={class:"flex items-center gap-2 flex-wrap mb-3"},vt=["onClick"],gt={class:"flex flex-col md:flex-row gap-3 items-center justify-between"},ft={class:"flex-1 w-full md:w-auto"},bt={class:"relative"},yt={key:0,class:"mt-2 flex items-center gap-2 flex-wrap"},xt={class:"font-medium"},ht=["onClick"],_t={class:"flex items-center gap-2"},kt={class:"overflow-x-auto",style:{"max-height":"calc(92vh - 280px)"}},wt={class:"min-w-full divide-y divide-gray-200"},Ct={class:"bg-gray-50 sticky top-0 z-10"},$t={class:"flex flex-col gap-2"},Vt={key:0,class:"relative"},At=["onUpdate:modelValue","placeholder"],Ot=["onClick"],St={class:"px-4 py-3 text-center text-xs font-bold text-gray-700 uppercase tracking-wider"},Et={class:"flex flex-col gap-2"},Nt={class:"bg-white divide-y divide-gray-200"},Bt={key:1},Dt=["colspan"],Mt=["href"],Ft={key:2,class:"text-gray-900"},Rt={class:"px-4 py-3"},Pt={class:"flex items-center justify-center gap-1"},Ut=["onClick"],jt=["onClick"],It=["onClick"],Tt=["onClick"],Lt=["onClick"],Ht={key:0,class:"bg-gray-50 sticky bottom-0"},zt={class:"font-semibold"},Wt={class:"px-4 py-3 text-sm text-center text-gray-900"},qt={class:"px-4 py-3 text-sm text-center text-gray-900"},Gt=["colspan"],Jt={key:0,class:"px-4 py-3 bg-gray-50 border-t border-gray-200"},Qt={class:"flex flex-col sm:flex-row items-center justify-between gap-3"},Yt={class:"text-sm text-gray-700"},Kt={class:"font-semibold text-gray-900"},Xt={class:"font-semibold text-gray-900"},Zt={class:"font-semibold text-gray-900"},es={class:"inline-flex rounded-md shadow-sm -space-x-px"},ts=["disabled"],ss=["disabled"],ls=["onClick"],os={key:1,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700"},as=["disabled"],rs=["disabled"],is={__name:"Dashboard",setup(g){const B=v([]),D=v(""),O=v(!1),M=v(!1),w=v({}),V=v(!1),S=v([new Date,new Date]),U=v(!1),j=v(""),c=v(1),u=v(100),_=v(null),x=v({}),C=v({current_page:1,last_page:1,per_page:100,total:0,from:0,to:0}),F=v([]),m=(o,t)=>{let p;return function(...s){const f=()=>{clearTimeout(p),o(...s)};clearTimeout(p),p=setTimeout(f,t)}},l=async()=>{U.value=!0;try{const o=Object.entries(x.value).filter(([d,s])=>s&&s.trim()!=="").reduce((d,[s,f])=>({...d,[s]:f}),{}),t={dates:S.value,search:j.value||void 0,per_page:u.value,page:c.value,column_filters:Object.keys(o).length>0?o:void 0,status:_.value||void 0},{data:p}=await he.get(route("get.all.booking.services.dates",t));F.value=p.bookingServices.data||[],C.value={current_page:p.bookingServices.current_page,last_page:p.bookingServices.last_page,per_page:p.bookingServices.per_page,total:p.bookingServices.total,from:p.bookingServices.from,to:p.bookingServices.to}}finally{U.value=!1}},E=m(()=>{l()},500);T(j,()=>{c.value=1,E()}),T(u,()=>{c.value=1,l()}),T(S,()=>{c.value=1,l()}),T(x,()=>{c.value=1,E()},{deep:!0}),T(_,()=>{c.value=1,l()});const i=o=>{c.value=o,l()},I=o=>{w.value=o,V.value=!0},Q=o=>{x.value[o]=""},te=()=>{Object.keys(x.value).forEach(o=>{x.value[o]=""})},se=o=>{_.value=o};l();const R=[{field:"cliente_name",header:"Nombre del pasajero",class:"min-w-[200px]",filter:!0},{field:"adults",header:"Adultos",class:"text-center",filter:!0},{field:"boys",header:"Niños",class:"text-center",filter:!0},{field:"service",header:"Actividad",class:"min-w-[150px]",filter:!0},{field:"proveedors_names",header:"Proveedores",class:"text-center",filter:!0},{field:"cliente_building",header:"Edificio",filter:!0},{field:"cliente_phone",header:"Teléfono",filter:!0},{field:"hour",header:"Hora",class:"text-center",filter:!0},{field:"status",header:"Estado",type:"tag",class:"text-center",filter:!0}];R.forEach(o=>{o.filter&&(x.value[o.field]="")});const le=[{text:"RESERVADO",color:"blue"},{text:"CAMBIO DE FECHA",color:"gray"},{text:"NO SHOW",color:"amber"},{text:"REUBICADO",color:"orange"},{text:"CANCELADA",color:"green"},{text:"SIN CONFIRMAR",color:"red"}],oe=()=>{const o=[],t=C.value.last_page,p=c.value;if(t<=7)for(let d=1;d<=t;d++)o.push(d);else if(p<=3){for(let d=1;d<=5;d++)o.push(d);o.push("..."),o.push(t)}else if(p>=t-2){o.push(1),o.push("...");for(let d=t-4;d<=t;d++)o.push(d)}else{o.push(1),o.push("...");for(let d=p-1;d<=p+1;d++)o.push(d);o.push("..."),o.push(t)}return o},G=(o,t)=>t.split(".").reduce((p,d)=>p?.[d],o),ae=o=>o.problematic?"bg-red-100":{"CAMBIO DE FECHA":"bg-gray-50",COMPLETADA:"bg-green-50","NO SHOW":"bg-yellow-50",REUBICADO:"bg-orange-50",PROBLEMATICA:"bg-red-100","SIN CONFIRMAR":"bg-purple-50",RESERVADO:"bg-blue-50",CANCELADA:"bg-green-50"}[o.status]||"",re=o=>({RESERVADO:"bg-blue-100 text-blue-800","CAMBIO DE FECHA":"bg-gray-100 text-gray-800",COMPLETADA:"bg-green-100 text-green-800","NO SHOW":"bg-yellow-100 text-yellow-800",REUBICADO:"bg-orange-100 text-orange-800",CANCELADA:"bg-green-100 text-green-800",PROBLEMATICA:"bg-red-200 text-red-900 animate-pulse","SIN CONFIRMAR":"bg-purple-100 text-purple-800"})[o]||"bg-gray-100 text-gray-800",ie=H(()=>F.value.reduce((o,t)=>o+(t.adults||0),0)),ne=H(()=>F.value.reduce((o,t)=>o+(t.boys||0),0));return(o,t)=>{const p=ee,d=de;return a(),r(k,null,[$(_e,{title:"Dashboard"},{default:q(()=>[e("div",at,[e("div",rt,[e("div",it,[e("h1",nt,[t[12]||(t[12]=N(" Hola ",-1)),e("strong",dt,n(o.$page.props.auth.user.name),1),t[13]||(t[13]=N(", Bienvenido a tu panel de control ",-1))]),e("a",{target:"_blank",href:`https://tourscolombia.online/${o.$page.props.auth.user.id}`},[$(p,{label:"Ver Portafolio",class:"text-sm"})],8,ut)]),e("div",ct,[e("div",pt,[e("div",mt,[t[15]||(t[15]=e("span",{class:"text-xs font-medium text-gray-600"},"Filtrar por estado:",-1)),(a(),r(k,null,A(le,s=>e("button",{key:s.text,onClick:f=>se(s.text),class:P([_.value===s.text?`bg-${s.color}-600 text-white ring-2 ring-${s.color}-400`:`bg-${s.color}-100 text-${s.color}-700 hover:bg-${s.color}-200`,"px-3 py-1 rounded-md text-xs font-medium transition-all duration-200 shadow-sm"])},n(s.text),11,vt)),64)),_.value?(a(),r("button",{key:0,onClick:t[0]||(t[0]=s=>_.value=null),class:"px-3 py-1 rounded-md text-xs font-medium bg-red-100 text-red-700 hover:bg-red-200 transition-colors"},[...t[14]||(t[14]=[e("i",{class:"fa-solid fa-times mr-1"},null,-1),N(" Limpiar filtro ",-1)])])):h("",!0)]),e("div",gt,[e("div",ft,[e("div",bt,[t[16]||(t[16]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("i",{class:"fa-solid fa-magnifying-glass text-gray-400"})],-1)),W(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>j.value=s),type:"text",placeholder:"Buscar por nombre, teléfono, servicio, estado...",class:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"},null,512),[[K,j.value]])]),Object.values(x.value).some(s=>s)?(a(),r("div",yt,[t[18]||(t[18]=e("span",{class:"text-xs text-gray-600 font-medium"},"Filtros activos:",-1)),(a(!0),r(k,null,A(x.value,(s,f)=>W((a(),r("span",{key:f,class:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 rounded-md text-xs"},[e("span",xt,n(R.find(y=>y.field===f)?.header)+":",1),e("span",null,n(s),1),e("button",{onClick:y=>Q(f),class:"ml-1 hover:text-blue-900"},[...t[17]||(t[17]=[e("i",{class:"fa-solid fa-times text-xs"},null,-1)])],8,ht)])),[[be,s]])),128))])):h("",!0)]),e("div",_t,[$(d,{modelValue:S.value,"onUpdate:modelValue":t[2]||(t[2]=s=>S.value=s),selectionMode:"range",dateFormat:"dd/mm/yy",manualInput:!1,class:"text-sm"},null,8,["modelValue"]),W(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>u.value=s),class:"px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white transition-all duration-200"},[...t[19]||(t[19]=[e("option",{value:10},"10",-1),e("option",{value:50},"50",-1),e("option",{value:100},"100",-1),e("option",{value:200},"200",-1),e("option",{value:500},"500",-1)])],512),[[ye,u.value]])])])]),e("div",kt,[e("table",wt,[e("thead",Ct,[e("tr",null,[(a(),r(k,null,A(R,s=>e("th",{key:s.field,class:P(["px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",s.class])},[e("div",$t,[e("span",null,n(s.header),1),s.filter?(a(),r("div",Vt,[W(e("input",{"onUpdate:modelValue":f=>x.value[s.field]=f,type:"text",placeholder:`Filtrar ${s.header.toLowerCase()}...`,class:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 normal-case font-normal",onClick:t[4]||(t[4]=X(()=>{},["stop"]))},null,8,At),[[K,x.value[s.field]]]),x.value[s.field]?(a(),r("button",{key:0,onClick:X(f=>Q(s.field),["stop"]),class:"absolute right-1 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",title:"Limpiar filtro"},[...t[20]||(t[20]=[e("i",{class:"fa-solid fa-times text-xs"},null,-1)])],8,Ot)):h("",!0)])):h("",!0)])],2)),64)),e("th",St,[e("div",Et,[t[22]||(t[22]=e("span",null,"Acciones",-1)),Object.values(x.value).some(s=>s)?(a(),r("button",{key:0,onClick:te,class:"px-2 py-1 text-xs bg-red-100 text-red-700 hover:bg-red-200 rounded font-normal normal-case transition-colors"},[...t[21]||(t[21]=[e("i",{class:"fa-solid fa-filter-circle-xmark mr-1"},null,-1),N(" Limpiar filtros ",-1)])])):h("",!0)])])])]),e("tbody",Nt,[U.value?(a(!0),r(k,{key:0},A(u.value,s=>(a(),r("tr",{key:`skeleton-${s}`,class:"animate-pulse"},[(a(),r(k,null,A(R,f=>e("td",{key:`skeleton-col-${f.field}`,class:P(["px-4 py-3",f.class])},[...t[23]||(t[23]=[e("div",{class:"h-4 bg-gray-200 rounded w-3/4"},null,-1)])],2)),64)),t[24]||(t[24]=e("td",{class:"px-4 py-3"},[e("div",{class:"flex items-center justify-center gap-1"},[e("div",{class:"h-8 w-8 bg-gray-200 rounded-md"})])],-1))]))),128)):F.value.length===0?(a(),r("tr",Bt,[e("td",{colspan:R.length+1,class:"px-4 py-8 text-center text-gray-500"},[...t[25]||(t[25]=[e("i",{class:"fa-solid fa-inbox text-4xl mb-2 text-gray-300 animate-bounce"},null,-1),e("p",{class:"font-medium"},"No se encontraron resultados",-1)])],8,Dt)])):(a(!0),r(k,{key:2},A(F.value,(s,f)=>(a(),r("tr",{key:s.id,class:P([ae(s),"hover:bg-gray-50 transition-all duration-200 animate-fade-in"]),style:xe({animationDelay:`${f*30}ms`})},[(a(),r(k,null,A(R,y=>e("td",{key:y.field,class:P(["px-4 py-3 text-sm",y.class])},[y.type==="tag"?(a(),r("span",{key:0,class:P([re(G(s,y.field)),"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},n(G(s,y.field)),3)):y.field==="cliente_phone"?(a(),r("a",{key:1,target:"_blank",href:`https://wa.me/${s.cliente_phone}?text=Hola mucho gusto yo soy Sandra la coordinadora de su actividad`,class:"text-blue-600 hover:text-blue-800 hover:underline"},n(s.cliente_phone),9,Mt)):(a(),r("span",Ft,n(G(s,y.field)||"-"),1))],2)),64)),e("td",Rt,[e("div",Pt,[s.extras&&s.extras.length>0?(a(),L(b(J),{key:0,severity:"danger"},{default:q(()=>[e("button",{onClick:y=>I(s),class:"p-2 rounded-md transition-all duration-200 hover:scale-110 text-blue-600 hover:bg-blue-100",title:"Ver Detalles"},[...t[26]||(t[26]=[e("i",{class:"fa-solid fa-circle-info text-sm"},null,-1)])],8,Ut)]),_:2},1024)):(a(),r("button",{key:1,onClick:y=>I(s),class:"p-2 rounded-md transition-all duration-200 hover:scale-110 text-blue-600 hover:bg-blue-100",title:"Ver Detalles"},[...t[27]||(t[27]=[e("i",{class:"fa-solid fa-circle-info text-sm"},null,-1)])],8,jt)),e("button",{onClick:y=>{w.value=s,M.value=!0},class:"p-2 rounded-md transition-all duration-200 hover:scale-110 text-green-600 hover:bg-green-100",title:"Completar Servicio"},[...t[28]||(t[28]=[e("i",{class:"fa-solid fa-circle-check text-sm"},null,-1)])],8,It),s.notes&&s.notes.length>0?(a(),L(b(J),{key:2,value:s.notes.length,severity:"info"},{default:q(()=>[e("button",{onClick:y=>{w.value=s,O.value=!0},class:"p-2 rounded-md transition-all duration-200 hover:scale-110 text-gray-600 hover:bg-gray-100",title:"Notas"},[...t[29]||(t[29]=[e("i",{class:"fa-solid fa-note-sticky text-sm"},null,-1)])],8,Tt)]),_:2},1032,["value"])):(a(),r("button",{key:3,onClick:y=>{w.value=s,O.value=!0},class:"p-2 rounded-md transition-all duration-200 hover:scale-110 text-gray-600 hover:bg-gray-100",title:"Notas"},[...t[30]||(t[30]=[e("i",{class:"fa-solid fa-note-sticky text-sm"},null,-1)])],8,Lt))])])],6))),128))]),F.value.length>0?(a(),r("tfoot",Ht,[e("tr",zt,[t[31]||(t[31]=e("td",{class:"px-4 py-3 text-sm text-gray-900"},"Totales:",-1)),e("td",Wt,n(ie.value),1),e("td",qt,n(ne.value),1),e("td",{colspan:R.length-2,class:"px-4 py-3"},null,8,Gt)])])):h("",!0)])]),C.value.total>0?(a(),r("div",Jt,[e("div",Qt,[e("div",Yt,[t[32]||(t[32]=N(" Mostrando ",-1)),e("span",Kt,n(C.value.from),1),t[33]||(t[33]=N(" a ",-1)),e("span",Xt,n(C.value.to),1),t[34]||(t[34]=N(" de ",-1)),e("span",Zt,n(C.value.total),1),t[35]||(t[35]=N(" resultados ",-1))]),e("nav",es,[e("button",{onClick:t[5]||(t[5]=s=>i(1)),disabled:c.value===1,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"},[...t[36]||(t[36]=[e("i",{class:"fa-solid fa-angles-left"},null,-1)])],8,ts),e("button",{onClick:t[6]||(t[6]=s=>i(c.value-1)),disabled:c.value===1,class:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"},[...t[37]||(t[37]=[e("i",{class:"fa-solid fa-angle-left"},null,-1)])],8,ss),(a(!0),r(k,null,A(oe(),s=>(a(),r(k,{key:s},[s!=="..."?(a(),r("button",{key:0,onClick:f=>i(s),class:P([s===c.value?"z-10 bg-blue-600 border-blue-600 text-white":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50","relative inline-flex items-center px-4 py-2 border text-sm font-medium transition-colors duration-200"])},n(s),11,ls)):(a(),r("span",os," ... "))],64))),128)),e("button",{onClick:t[7]||(t[7]=s=>i(c.value+1)),disabled:c.value===C.value.last_page,class:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"},[...t[38]||(t[38]=[e("i",{class:"fa-solid fa-angle-right"},null,-1)])],8,as),e("button",{onClick:t[8]||(t[8]=s=>i(C.value.last_page)),disabled:c.value===C.value.last_page,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"},[...t[39]||(t[39]=[e("i",{class:"fa-solid fa-angles-right"},null,-1)])],8,rs)])])])):h("",!0)])])])]),_:1}),w.value?(a(),L(ke,{key:0,modelValue:V.value,"onUpdate:modelValue":t[9]||(t[9]=s=>V.value=s),service:w.value},null,8,["modelValue","service"])):h("",!0),O.value?(a(),L(we,{key:1,modelValue:O.value,"onUpdate:modelValue":t[10]||(t[10]=s=>O.value=s),notes:B.value,note:D.value,service:w.value},null,8,["modelValue","notes","note","service"])):h("",!0),M.value?(a(),L(ot,{key:2,modelValue:M.value,"onUpdate:modelValue":t[11]||(t[11]=s=>M.value=s),service:w.value},null,8,["modelValue","service"])):h("",!0)],64)}}},el=$e(is,[["__scopeId","data-v-7eac0d9c"]]);export{el as default};
