import{s as I}from"./index-CFlFRZzq.js";import{b as T,s as M}from"./index-2Yzd3vio.js";import{s as P}from"./index-BmCRsJcy.js";import{fr as V,eZ as A,d as v,f as d,o as p,b as i,w as f,a as t,g as E,F as L,i as N,t as h,y as R}from"./app-CzfF7B5B.js";import"./index-DiX6aBUl.js";import"./index-DVQi-ZYx.js";import"./index-B-JlHIpo.js";import"./index-BSFUsoNc.js";import"./index-BqBab4eH.js";import"./index-Pi0l2SGp.js";import"./index-DrbmMpLh.js";const D={class:"card"},O={class:"flex flex-wrap justify-between items-center flex-1 gap-4"},Q={class:"flex gap-2"},Z={class:"flex flex-col gap-8 pt-4"},q={key:0},G={class:"flex flex-wrap gap-4"},H=["alt","src"],J={class:"font-semibold text-ellipsis max-w-60 whitespace-nowrap overflow-hidden"},re={__name:"FileSelection",props:{service:{type:Object}},setup(y){const k=y,S=V(),z=A(),m=v(0),w=v(0),g=v([]),F=(s,e,r)=>{e(r),m.value-=parseInt(u(s.size)),w.value=m.value/10},$=s=>{g.value=s.files,g.value.forEach(e=>{m.value+=parseInt(u(e.size))})},C=s=>{s()},U=()=>{z.add({severity:"info",summary:"Success",detail:"File Uploaded",life:3e3})},u=s=>{const l=S.config.locale.fileSizeTypes;if(s===0)return`0 ${l[0]}`;const c=Math.floor(Math.log(s)/Math.log(1024));return`${parseFloat((s/Math.pow(1024,c)).toFixed(3))} ${l[c]}`},j=s=>{let e;e=s.files,R.post(route("upload.images",k.service.slug),{images:e},{onSuccess:()=>{alert("subidos")}})};return(s,e)=>{const r=P,l=M,c=T,x=I;return p(),d("div",D,[i(r),i(x,{name:"demo[]",customUpload:"",onUpload:e[0]||(e[0]=n=>U()),multiple:!0,accept:"image/*",maxFileSize:1e6,onUploader:j,onSelect:$},{header:f(({chooseCallback:n,uploadCallback:_,clearCallback:b,files:a})=>[t("div",O,[t("div",Q,[i(l,{onClick:o=>n(),icon:"pi pi-images",size:"small",severity:"primary",label:"Seleccionar"},null,8,["onClick"]),i(l,{label:"Subir",onClick:o=>C(_),icon:"pi pi-cloud-upload",size:"small",severity:"success",disabled:!a||a.length===0},null,8,["onClick","disabled"]),i(l,{label:"Limpiar",onClick:o=>b(),icon:"pi pi-times",size:"small",severity:"danger",disabled:!a||a.length===0},null,8,["onClick","disabled"])]),e[1]||(e[1]=t("h1",{class:"text-lg font-bold"},"Subir Imagenes",-1))])]),content:f(({files:n,uploadedFiles:_,removeUploadedFileCallback:b,removeFileCallback:a})=>[t("div",Z,[n.length>0?(p(),d("div",q,[e[2]||(e[2]=t("h5",null,"Pending",-1)),t("div",G,[(p(!0),d(L,null,N(n,(o,B)=>(p(),d("div",{key:o.name+o.type+o.size,class:"p-8 rounded-border flex flex-col border border-surface items-center gap-4"},[t("div",null,[t("img",{role:"presentation",alt:o.name,src:o.objectURL,width:"100",height:"50"},null,8,H)]),t("span",J,h(o.name),1),t("div",null,h(u(o.size)),1),i(c,{value:"Pending",severity:"warn"}),i(l,{icon:"pi pi-times",onClick:K=>F(o,a,B),outlined:"",rounded:"",severity:"danger"},null,8,["onClick"])]))),128))])])):E("",!0)])]),empty:f(()=>e[3]||(e[3]=[t("div",{class:"flex items-center justify-center flex-col"},[t("i",{class:"pi pi-cloud-upload !border-2 !rounded-full !p-8 !text-xl !text-muted-color"}),t("p",{class:"mt-6 mb-0"},"Arrastrar y soltar Imagenes AQUI.")],-1)])),_:1})])}}};export{re as default};
