import{s as E}from"./index-DCdeIQAc.js";import{D as M,C as T,e as H,f as b,o as c,r as z,b as n,E as I,ap as q,aq as Q,d as p,x as W,c as _,w as g,a as t,h as C,t as y,g as A,u as d,m as J,T as K,F as D,i as X,A as Y}from"./app-B7yt3_8X.js";import{_ as Z,s as ee}from"./Datatable-KG3CsT-_.js";import{s as te}from"./index-CKE1p6Qe.js";import{a as U,s as L}from"./index-BYQLuQwQ.js";import{_ as oe}from"./AppLayout-L4T6Juhg.js";import"./Scheduler-1sI6RxXm.js";import{_ as se,a as le}from"./Notas-CxnT4zBX.js";import{s as ae}from"./filepond-plugin-image-preview.min-YwXQA14h.js";import{_ as re}from"./Modal-5M8nt3yh.js";import{_ as O}from"./Input-Dl4jqS09.js";import"./index-lDSyLN5Z.js";import"./index-CksHeAEh.js";import"./index-ClYzyndq.js";import"./index-C0wxM2T4.js";import"./index-BR7JoDP9.js";import"./index-Dp504xhJ.js";import"./index-D7E0qFsO.js";import"./index-DxUxhJ2b.js";import"./index-DocixsUf.js";import"./index-CXUAsWzg.js";import"./index-9Njj-Ek0.js";import"./index-k-IaJBzq.js";import"./index-B-mXoAel.js";import"./useCommonUtilities-EmANIG9p.js";import"./postcss-B1gMOwtV.js";import"./index-I2r1lZsO.js";import"./index-DMwr1Kv4.js";import"./index-Da2lQDD0.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./sweetalert2.esm.all-DV3w3JmD.js";import"./toasts-Bf1FAz7R.js";import"./Service-Dnh-iFDL.js";import"./Toats-RcJDUpcK.js";import"./searchStore-BTPwYsVd.js";import"./logo-BGRNUosy.js";import"./Loading-Dfx-5E6q.js";import"./index-DsFz39_5.js";import"./index-Dv91c3mc.js";import"./index-DvtyD0yr.js";var ne=M.extend({name:"columngroup"}),ie={name:"BaseColumnGroup",extends:E,props:{type:{type:String,default:null}},style:ne,provide:function(){return{$pcColumnGroup:this,$parentInstance:this}}},de={name:"ColumnGroup",extends:ie,inheritAttrs:!1,inject:["$columnGroups"],mounted:function(){var a;(a=this.$columnGroups)===null||a===void 0||a.add(this.$)},unmounted:function(){var a;(a=this.$columnGroups)===null||a===void 0||a.delete(this.$)},render:function(){return null}},ue=T`
    .p-overlaybadge {
        position: relative;
    }

    .p-overlaybadge .p-badge {
        position: absolute;
        inset-block-start: 0;
        inset-inline-end: 0;
        transform: translate(50%, -50%);
        transform-origin: 100% 0;
        margin: 0;
        outline-width: dt('overlaybadge.outline.width');
        outline-style: solid;
        outline-color: dt('overlaybadge.outline.color');
    }

    .p-overlaybadge .p-badge:dir(rtl) {
        transform: translate(-50%, -50%);
    }
`,pe={root:"p-overlaybadge"},ce=M.extend({name:"overlaybadge",style:ue,classes:pe}),me={name:"OverlayBadge",extends:U,style:ce,provide:function(){return{$pcOverlayBadge:this,$parentInstance:this}}},j={name:"OverlayBadge",extends:me,inheritAttrs:!1,components:{Badge:U}};function ve(l,a,x,$,s,f){var m=H("Badge");return c(),b("div",I({class:l.cx("root")},l.ptmi("root")),[z(l.$slots,"default"),n(m,I(l.$props,{pt:l.ptm("pcBadge")}),null,16,["pt"])],16)}j.render=ve;var fe={name:"Row",extends:E,inject:["$rows"],mounted:function(){var a;(a=this.$rows)===null||a===void 0||a.add(this.$)},unmounted:function(){var a;(a=this.$rows)===null||a===void 0||a.delete(this.$)},render:function(){return null}};const ge={class:"text-lg"},ye={class:"font-bold uppercase"},be={class:"font-bold uppercase"},xe={class:"mt-4"},$e={key:0},Ve={class:"flex w-full justify-between gap-x-4"},_e={class:"flex flex-col gap-y-4"},Ce={class:"flex justify-between my-4"},he={for:"",class:"w-full font-bold"},Ae={class:"flex gap-4 justify-between text-md"},we={class:"flex items-center gap-2"},Oe={class:"flex items-center gap-2"},Be={class:"flex items-center gap-2"},Pe={key:1,class:"flex flex-col gap-y-2 my-4"},ke={class:"grid grid-cols-4 font-semibold gap-x-6 border-b-4"},Se={class:"flex justify-end gap-x-4"},Ne={__name:"Completar",props:q({service:Object},{modelValue:!0,modelModifiers:{}}),emits:["update:modelValue"],setup(l){const a=l,x=Q(l,"modelValue",!0),$=p("COMPLETADA"),s=W({saldoPagado:"AV COLOMBIA",status:"COMPLETADA",service_id:a.service.id,conductor:"",placa:"",value:"",extras:[]}),f=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0});function m(){s.extras=a.service.extras.map(v=>({id:v.id,cantidad:v.cantidad,description:v.description,unit_cost:v.unit_cost}))}m();const h=()=>{s.status=$.value,s.post(route("completar.reserva")),s.reset(),x.value=!1};return(v,e)=>{const V=ae,w=L,B=K;return c(),_(re,{modelValue:x.value,"onUpdate:modelValue":e[6]||(e[6]=o=>x.value=o),title:"Completar Servicio","close-on-escape":""},{footer:g(()=>[t("div",Se,[n(w,{label:"Completar Servicio",severity:"success",onClick:h,icon:"fa-solid fa-save"}),n(w,{label:"Cancelar",severity:"danger",icon:"fa-solid fa-xmark"})])]),default:g(()=>[t("h2",ge,[e[7]||(e[7]=C(" Completar servicio de ")),t("span",ye,y(l.service.cliente_name),1),e[8]||(e[8]=C(" para ")),t("span",be,y(l.service.service)+" Sin novedad",1),e[9]||(e[9]=C(". "))]),t("div",xe,[l.service.service_type=="TRANSFER"?(c(),b("div",$e,[t("div",Ve,[n(O,{label:"Nombre del Conductor",modelValue:d(s).conductor,"onUpdate:modelValue":e[0]||(e[0]=o=>d(s).conductor=o),type:"text",placeholder:"Nombre del conductor",class:"w-full"},null,8,["modelValue"]),n(O,{label:"Placa del Vehiculo",modelValue:d(s).placa,"onUpdate:modelValue":e[1]||(e[1]=o=>d(s).placa=o),type:"text",placeholder:"Placa del Vehiculo",class:"w-full"},null,8,["modelValue"]),n(O,{label:"Valor del Servicio",modelValue:d(s).value,"onUpdate:modelValue":e[2]||(e[2]=o=>d(s).value=o),type:"text",placeholder:"Valor del Servicio",class:"w-full"},null,8,["modelValue"])])])):A("",!0),t("div",_e,[t("div",Ce,[t("label",he,"Saldo Pagado ("+y(d(f).format(l.service.saldo))+")",1),t("div",Ae,[t("div",we,[n(V,{modelValue:d(s).saldoPagado,"onUpdate:modelValue":e[3]||(e[3]=o=>d(s).saldoPagado=o),inputId:"AV COLOMBIA",name:"AV COLOMBIA",value:"AV COLOMBIA",size:"small"},null,8,["modelValue"]),e[10]||(e[10]=t("label",{for:"AV COLOMBIA",class:"text-nowrap cursor-pointer"},"AV COLOMBIA",-1))]),t("div",Oe,[n(V,{modelValue:d(s).saldoPagado,"onUpdate:modelValue":e[4]||(e[4]=o=>d(s).saldoPagado=o),inputId:"proveedor",name:"proveedor",value:"proveedor",size:"small"},null,8,["modelValue"]),e[11]||(e[11]=t("label",{for:"proveedor",class:"cursor-pointer uppercase"},"Proveedor",-1))]),t("div",Be,[n(V,{modelValue:d(s).saldoPagado,"onUpdate:modelValue":e[5]||(e[5]=o=>d(s).saldoPagado=o),inputId:"NoPagado",class:"cursor-pointer text-red-500",name:"NoPagado",value:"NoPagado",size:"small"},null,8,["modelValue"]),e[12]||(e[12]=t("label",{for:"NoPagado",class:"cursor-pointer uppercase text-nowrap text-red-500"},"No Pagado",-1))])])])]),l.service.extras.length>0?(c(),b("div",Pe,[e[17]||(e[17]=t("h1",{class:"text-lg font-bold text-center"},"Servicio Extras",-1)),t("div",ke,[e[14]||(e[14]=t("p",null,"Cantidad",-1)),e[15]||(e[15]=t("p",null,"Nombre",-1)),J((c(),b("p",null,e[13]||(e[13]=[C("Costo Unitario")]))),[[B,"Cuanto pagaste",void 0,{top:!0}]]),e[16]||(e[16]=t("p",null,"Total",-1))]),(c(!0),b(D,null,X(d(s).extras,o=>(c(),b("div",{key:o.id,class:"grid grid-cols-4 border-b justify-center items-center gap-x-6"},[t("p",null,y(o.cantidad),1),t("p",null,y(o.description),1),n(O,{type:"number",modelValue:o.unit_cost,"onUpdate:modelValue":P=>o.unit_cost=P,mode:"currency"},null,8,["modelValue","onUpdate:modelValue"]),t("span",null,y(d(f).format(o.cantidad*o.unit_cost)),1)]))),128))])):A("",!0)])]),_:1},8,["modelValue"])}}},Ie={class:"py-4"},Ee={class:"w-full mx-auto sm:px-1 lg:px-4 space-y-2"},Me={class:"bg-white overflow-hidden sm:rounded-lg flex justify-between items-center px-1"},De={class:"uppercase"},Ue=["href"],Le={class:"flex w-full justify-between font-bold text-xl items-center"},je={class:"shadow-xl rounded-lg p-1 h-[85vh]"},wt={__name:"Dashboard",setup(l){p([]);const a=p([]),x=p("");p(0);const $=p([]);p();const s=p(!1),f=p(!1),m=p({}),h=p(!1),v=p([new Date,new Date]),e=async()=>{const{data:r}=await Y.get(route("get.all.booking.services.dates",{dates:v.value}));$.value=r.bookingServices},V=r=>{m.value=$.value.find(i=>i.id==r.id),h.value=!0};e();const w=[{label:"Compeltar Servicio",action:r=>{m.value=r,f.value=!0},icon:"fa-solid fa-circle-check text-sm",severity:"success"},{label:"Notas",severity:"secondary",action:r=>{m.value=r,s.value=!0},badge:r=>r.notes,icon:"fa-solid fa-note-sticky text-sm"}],B=[{field:"cliente_name",header:"Nombre del pasajero",filter:!0,sortable:!0},{field:"adults",header:"Pasajeros",filter:!0,sortable:!0,type:"html-custom",renderer:r=>`
      <div class="flex flex-col text-right text-sm items-center">
        <span class="text-center font-bold">Adultos: ${r.adults}</span>
        <span class="text-center">Ni√±os: ${r.boys}</span>
        </div>
      `},{field:"service",header:"Actividad",filter:!0,sortable:!0},{field:"proveedors_names",header:"proveedores",class:"text-center font-semibold text-sm",filter:!0},{field:"cliente_building",header:"Edificio",filter:!0,sortable:!0},{field:"cliente_phone",header:"Telefono",filter:!0,sortable:!0,type:"html-custom",renderer:r=>`<a target="_blank" href="https://wa.me/${r.cliente_phone}?text=Hola%20üëã,%20mi%20nombre%20es%20*Sandra%20%Gil*,%20Le%20escribo%20desde%20*AV%20COLOMBIA*">${r.cliente_phone}</a>`},{field:"hour",header:"Hora",filter:!0,sortable:!0},{field:"status",header:"Estado",filter:!0,sortable:!0,type:"tag",filtertype:"EQUALS",class:"text-center uppercase",severitys:[{text:"RESERVADO",severity:"info",class:""},{text:"CAMBIO DE FECHA",class:"bg-gray-200 font-bold"},{text:"COMPLETADA",class:""},{text:"NO SHOW",severity:"warn",class:""},{text:"REUBICADO",severity:"warn",class:""},{text:"CANCELADA",severity:"danger",class:"animate-pulse"},{text:"PROBLEMATICA",severity:"danger",class:"animate-pulse"},{text:"SIN CONFIRMAR",severity:"danger"}]}],o=p([]),P=r=>{o.value=r};return(r,i)=>{const k=L,R=te,N=ee,F=fe,G=de;return c(),b(D,null,[n(oe,{title:"Dashboard"},{default:g(()=>[t("div",Ie,[t("div",Ee,[t("div",Me,[t("h1",null,[i[4]||(i[4]=C(" Hola ")),t("strong",De,y(r.$page.props.auth.user.name),1),i[5]||(i[5]=C(", Bienvenido a tu panel de control "))]),t("a",{target:"_blank",href:`https://vendedores-site.netlify.app/${r.$page.props.auth.user.id}`},[n(k,{label:"Ver Portafolio"})],8,Ue)]),t("div",Le,[i[6]||(i[6]=t("p",null,"Actividades",-1)),n(R,{modelValue:v.value,"onUpdate:modelValue":i[0]||(i[0]=u=>v.value=u),selectionMode:"range",dateFormat:"dd/mm/yy",manualInput:!1,onValueChange:e},null,8,["modelValue"])]),t("div",je,[n(Z,{columnas:B,rowClass:!0,data:$.value,actions:w,onFilterApply:P},{actions:g(({data:u})=>[u.extras.length==0?(c(),_(k,{key:0,onClick:S=>V(u),severity:"info",text:"",class:"p-button-sm",icon:"fa-solid fa-circle-info text-sm"},null,8,["onClick"])):(c(),_(d(j),{key:1,severity:"danger"},{default:g(()=>[n(k,{onClick:S=>V(u),severity:"info",text:"",class:"p-button-sm",icon:"fa-solid fa-circle-info text-sm"},null,8,["onClick"])]),_:2},1024))]),groupRows:g(()=>[n(G,{type:"footer"},{default:g(()=>[n(F,null,{default:g(()=>[n(N,{footer:"Pasajeros:",colspan:0,footerStyle:"text-align:right"}),n(N,{footer:o.value.reduce((u,S)=>u+S.adults,0)},null,8,["footer"])]),_:1})]),_:1})]),_:1},8,["data"])])])])]),_:1}),m.value?(c(),_(se,{key:0,modelValue:h.value,"onUpdate:modelValue":i[1]||(i[1]=u=>h.value=u),service:m.value},null,8,["modelValue","service"])):A("",!0),s.value?(c(),_(le,{key:1,modelValue:s.value,"onUpdate:modelValue":i[2]||(i[2]=u=>s.value=u),notes:a.value,note:x.value,service:m.value},null,8,["modelValue","notes","note","service"])):A("",!0),f.value?(c(),_(Ne,{key:2,modelValue:f.value,"onUpdate:modelValue":i[3]||(i[3]=u=>f.value=u),service:m.value},null,8,["modelValue","service"])):A("",!0)],64)}}};export{wt as default};
