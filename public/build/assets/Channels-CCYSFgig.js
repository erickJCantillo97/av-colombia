import{s as _}from"./index-T5qQ6n0c.js";import{aJ as h,bL as U,d as m,C as $,f as j,a as i,b as s,w as c,u as l,F as k,G as d,ax as w,o as B}from"./app-DVQnLCkl.js";import{_ as G}from"./Datatable-LqYA4U28.js";import{s as N}from"./index-BD9N48hy.js";import{_ as S}from"./Modal-BxIwX6g-.js";import{_ as p}from"./Input-BklkXTgX.js";import"./index-C3OSbQjT.js";import"./index-CqzgEXua.js";import"./index-BwNh9nKo.js";import"./index-D4F5mK1z.js";import"./index-BPUmTEhW.js";import"./index-DGaVbjUT.js";import"./index-dK09remB.js";import"./index-CHHjmjKb.js";import"./index-CiaD0d27.js";import"./index-DmD1s1tQ.js";import"./index-ByWXclLo.js";import"./index-BJ_iNMEj.js";import"./useCommonUtilities-NbiuDOAU.js";import"./postcss-mhbKUPOE.js";import"./index-DrcYV8cR.js";import"./index-vFOeZFY8.js";const T={class:"h-[80vh]"},E={class:"space-y-3"},se={__name:"Channels",setup(L){const b=[{header:"Nombre",field:"name",filter:!0},{header:"iniciales ",field:"abreviacion",filter:!0},{header:"Porcentaje",field:"percent",filter:!0,format:a=>a+"%"},{header:"Creación",field:"created_at",type:"datetime",filter:!0}],g=h(),C=U(),n=m(!1),t=$({name:"",abreviacion:"",percent:""}),r=m(!1),x={action:()=>{t.reset(),n.value=!1,r.value=!0}},y=[{action:a=>{r.value=!0,n.value=a.id,t.name=a.name,t.abreviacion=a.abreviacion,t.percent=a.percent},severity:"secondary",icon:"fa-solid fa-pencil text-sm"},{action:(a,e)=>{C.require({target:e.currentTarget,message:"Seguro de Eliminar el Usuario "+a.name+"?",icon:"fa-solid fa-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-sm p-button-danger",rejectLabel:"Cancelar",acceptLabel:"Eliminar",accept:()=>{console.log(a),d.delete(route("users.destroy",a.id),{onSuccess:()=>{g.add({severity:"error",icon:"fa-solid fa-trash-can",summary:"¡Accion realizada!",detail:"Usuario eliminado con exito",group:"customTooltipDataTable",life:5e3})}})}})},severity:"danger",icon:"fa-regular fa-trash-can text-sm"}],V=()=>{n.value?d.put(route("channels.update",n.value),t,{onSuccess:()=>{r.value=!1,u(),n.value=!1}}):d.post(route("channels.store"),t,{onSuccess:()=>{r.value=!1,u(),n.value=!1}})},f=m([]),u=()=>{w.get(route("channels.index")).then(a=>{f.value=a.data})};return u(),(a,e)=>{const v=_;return B(),j(k,null,[i("div",T,[s(G,{columnas:b,add:x,data:f.value,routecreate:"services.create",actions:y},null,8,["data"])]),s(S,{visible:r.value,"onUpdate:visible":e[4]||(e[4]=o=>r.value=o),"close-on-escape":!0},{title:c(()=>e[5]||(e[5]=[i("span",{class:"text-xl font-bold white-space-nowrap"}," Agregar Canal",-1)])),icon:c(()=>e[6]||(e[6]=[i("i",{class:"fa-solid fa-plus"},null,-1)])),footer:c(()=>[s(v,{onClick:V,title:"Guardar",severity:"success",label:"Guardar",outlined:"",icon:"fa-solid fa-save",class:"!h-8"}),s(v,{onClick:e[3]||(e[3]=o=>r.value=!1),title:"Cancel",severity:"danger",label:"Cancelar",outlined:"",icon:"fa-solid fa-times",class:"!h-8"})]),default:c(()=>[i("div",E,[s(p,{label:"Nombre del Canal",modelValue:l(t).name,"onUpdate:modelValue":e[0]||(e[0]=o=>l(t).name=o)},null,8,["modelValue"]),s(p,{label:"Iniciales",modelValue:l(t).abreviacion,"onUpdate:modelValue":e[1]||(e[1]=o=>l(t).abreviacion=o)},null,8,["modelValue"]),s(p,{type:"number",label:"Porcentaje",modelValue:l(t).percent,"onUpdate:modelValue":e[2]||(e[2]=o=>l(t).percent=o),suffix:" %","min-fraction-digits":"2","max-fraction-digits":"2"},null,8,["modelValue"])])]),_:1},8,["visible"]),s(l(N))],64)}}};export{se as default};
