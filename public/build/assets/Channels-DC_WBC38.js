import{s as C}from"./index-CIlz8jdf.js";import{Y as x,au as y,d as c,T as B,o as T,f as V,a as r,b as o,w as l,u,F as $,B as m,L as k}from"./app-DeM61OJj.js";import{_ as w}from"./Datatable-CodpX1i6.js";import{s as N}from"./index-BrbTOb8D.js";import{_ as U}from"./Modal-BSP3kY4D.js";import{_ as E}from"./Input-BKpXVJML.js";import"./index-Ia28q2QY.js";import"./index-DBXs-jBf.js";import"./index-BVGLzhyY.js";import"./index-CNf3FNZm.js";import"./postcss-CQLkXW6i.js";const F={class:"h-[99vh]"},L=r("span",{class:"text-xl font-bold white-space-nowrap"}," Agregar Canal",-1),S=r("i",{class:"fa-solid fa-plus"},null,-1),j={class:"space-y-3"},Q={__name:"Channels",setup(A){const p=[{header:"Nombre",field:"name",filter:!0},{header:"Creación",field:"created_at",type:"datetime",filter:!0}],v=x(),_=y(),i=c(!1),a=B({name:""}),s=c(!1),b={action:()=>{a.reset(),i.value=!1,s.value=!0}},g=[{action:e=>{s.value=!0,i.value=!0,a.name=e.name,a.email=e.email},severity:"secondary",icon:"fa-solid fa-pencil text-sm"},{action:(e,t)=>{_.require({target:t.currentTarget,message:"Seguro de Eliminar el Usuario "+e.name+"?",icon:"fa-solid fa-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-sm p-button-danger",rejectLabel:"Cancelar",acceptLabel:"Eliminar",accept:()=>{console.log(e),m.delete(route("users.destroy",e.id),{onSuccess:()=>{v.add({severity:"error",icon:"fa-solid fa-trash-can",summary:"¡Accion realizada!",detail:"Usuario eliminado con exito",group:"customTooltipDataTable",life:5e3})}})}})},severity:"danger",icon:"fa-regular fa-trash-can text-sm"}],h=()=>{i.value?m.put(route("channels.update",a.id),a):m.post(route("channels.store"),a,{onSuccess:()=>{s.value=!1}})},d=c([]);return(()=>{k.get(route("channels.index")).then(e=>{d.value=e.data})})(),(e,t)=>{const f=C;return T(),V($,null,[r("div",F,[o(w,{columnas:p,add:b,data:d.value,routecreate:"services.create",actions:g},null,8,["data"])]),o(U,{visible:s.value,"onUpdate:visible":t[2]||(t[2]=n=>s.value=n)},{title:l(()=>[L]),icon:l(()=>[S]),footer:l(()=>[o(f,{onClick:h,title:"Guardar",severity:"success",label:"Guardar",outlined:"",icon:"fa-solid fa-save",class:"!h-8"}),o(f,{onClick:t[1]||(t[1]=n=>s.value=!1),title:"Cancel",severity:"danger",label:"Cancelar",outlined:"",icon:"fa-solid fa-times",class:"!h-8"})]),default:l(()=>[r("div",j,[o(E,{label:"Nombre del Canal",modelValue:u(a).name,"onUpdate:modelValue":t[0]||(t[0]=n=>u(a).name=n)},null,8,["modelValue"])])]),_:1},8,["visible"]),o(u(N))],64)}}};export{Q as default};
