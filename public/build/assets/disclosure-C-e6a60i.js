import{o as i,I as P,u as h,t as K,i as y,A as S,l as L,N as k,a as v}from"./keyboard-CtLLcSJs.js";import{d as c,H as g,U as w,A as O,N as E,q as D,O as $,R as B}from"./app-DVpdczqw.js";function C(e,t){if(e)return e;let a=t??"button";if(typeof a=="string"&&a.toLowerCase()==="button")return"button"}function N(e,t){let a=c(C(e.value.type,e.value.as));return g(()=>{a.value=C(e.value.type,e.value.as)}),w(()=>{var s;a.value||i(t)&&i(t)instanceof HTMLButtonElement&&!((s=i(t))!=null&&s.hasAttribute("type"))&&(a.value="button")}),a}var A=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(A||{});let x=Symbol("DisclosureContext");function I(e){let t=B(x,null);if(t===null){let a=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,I),a}return t}let T=Symbol("DisclosurePanelContext");function U(){return B(T,null)}let Q=O({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:t,attrs:a}){let s=c(e.defaultOpen?0:1),l=c(null),p=c(null),o={buttonId:c(`headlessui-disclosure-button-${P()}`),panelId:c(`headlessui-disclosure-panel-${P()}`),disclosureState:s,panel:l,button:p,toggleDisclosure(){s.value=h(s.value,{0:1,1:0})},closeDisclosure(){s.value!==1&&(s.value=1)},close(n){o.closeDisclosure();let r=n?n instanceof HTMLElement?n:n.value instanceof HTMLElement?i(n):i(o.button):i(o.button);r==null||r.focus()}};return E(x,o),K(D(()=>h(s.value,{0:y.Open,1:y.Closed}))),()=>{let{defaultOpen:n,...r}=e,d={open:s.value===0,close:o.close};return S({theirProps:r,ourProps:{},slot:d,slots:t,attrs:a,name:"Disclosure"})}}}),V=O({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:t,slots:a,expose:s}){let l=I("DisclosureButton"),p=U(),o=D(()=>p===null?!1:p.value===l.panelId.value);g(()=>{o.value||e.id!==null&&(l.buttonId.value=e.id)}),$(()=>{o.value||(l.buttonId.value=null)});let n=c(null);s({el:n,$el:n}),o.value||w(()=>{l.button.value=n.value});let r=N(D(()=>({as:e.as,type:t.type})),n);function d(){var u;e.disabled||(o.value?(l.toggleDisclosure(),(u=i(l.button))==null||u.focus()):l.toggleDisclosure())}function f(u){var b;if(!e.disabled)if(o.value)switch(u.key){case v.Space:case v.Enter:u.preventDefault(),u.stopPropagation(),l.toggleDisclosure(),(b=i(l.button))==null||b.focus();break}else switch(u.key){case v.Space:case v.Enter:u.preventDefault(),u.stopPropagation(),l.toggleDisclosure();break}}function m(u){switch(u.key){case v.Space:u.preventDefault();break}}return()=>{var u;let b={open:l.disclosureState.value===0},{id:M,...j}=e,H=o.value?{ref:n,type:r.value,onClick:d,onKeydown:f}:{id:(u=l.buttonId.value)!=null?u:M,ref:n,type:r.value,"aria-expanded":l.disclosureState.value===0,"aria-controls":l.disclosureState.value===0||i(l.panel)?l.panelId.value:void 0,disabled:e.disabled?!0:void 0,onClick:d,onKeydown:f,onKeyup:m};return S({ourProps:H,theirProps:j,slot:b,attrs:t,slots:a,name:"DisclosureButton"})}}}),z=O({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:t,slots:a,expose:s}){let l=I("DisclosurePanel");g(()=>{e.id!==null&&(l.panelId.value=e.id)}),$(()=>{l.panelId.value=null}),s({el:l.panel,$el:l.panel}),E(T,l.panelId);let p=L(),o=D(()=>p!==null?(p.value&y.Open)===y.Open:l.disclosureState.value===0);return()=>{var n;let r={open:l.disclosureState.value===0,close:l.close},{id:d,...f}=e,m={id:(n=l.panelId.value)!=null?n:d,ref:l.panel};return S({ourProps:m,theirProps:f,slot:r,attrs:t,slots:a,features:k.RenderStrategy|k.Static,visible:o.value,name:"DisclosurePanel"})}}});export{Q as N,V as Q,z as V};
