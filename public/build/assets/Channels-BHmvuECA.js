import{s as _}from"./index-GLcaQ0Om.js";import{Q as V,O as j,d as m,u as E,f as U,o as S,a as s,b as l,w as c,h as n,n as k,t as w,F as B,a0 as D,I as d}from"./app-BjdGmPou.js";import"./marked.esm-BPgSS2IS.js";import{_ as N}from"./Datatable-hQkz7f62.js";import{s as T}from"./index-Kng0AFT2.js";import{M as $}from"./Modal-Dp_jrBt6.js";import{_ as p}from"./Input-BCM11HpD.js";import"./index-CusoX4EI.js";import"./index-DNbAJjEJ.js";import"./index-HQvURZwN.js";import"./index-ClLvwz-a.js";import"./index-C5oL00Rq.js";import"./index-BCBl68Ec.js";import"./index-uQCeyMKi.js";import"./index-BXT2NVcg.js";import"./index-DKdiQZOM.js";import"./index-ClYCM75D.js";import"./index-BxBY3ixl.js";import"./index-DDA7Jrvu.js";import"./index-pvyVXIRL.js";import"./index-fqUrUwzA.js";import"./index-BGrA-TuF.js";import"./index-C5NP5O02.js";import"./useCommonUtilities-BgDhORlD.js";import"./postcss-DiSvPd6i.js";import"./postcss-D1vD6ISy.js";import"./index-BABDUr5B.js";import"./index-4xBowb-8.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-BCYvmul0.js";import"./index-Bzwhncww.js";import"./index-BaVauj2F.js";import"./index-EJrfiaB9.js";const z={class:"bg-white rounded-xl"},F={class:"text-xl font-bold"},A={class:"space-y-4 p-2"},G={class:"bg-gray-50 rounded-xl p-4 space-y-4"},Ce={__name:"Channels",setup(I){const v=[{header:"Nombre",field:"name",filter:!0},{header:"iniciales ",field:"abreviacion",filter:!0},{header:"Porcentaje",field:"percent",filter:!0,format:t=>t+"%"},{header:"Creación",field:"created_at",type:"datetime",filter:!0}],g=V(),x=j(),o=m(!1),a=E({name:"",abreviacion:"",percent:""}),i=m(!1),C={action:()=>{a.reset(),o.value=!1,i.value=!0}},h=[{action:t=>{i.value=!0,o.value=t.id,a.name=t.name,a.abreviacion=t.abreviacion,a.percent=t.percent},severity:"secondary",icon:"fa-solid fa-pencil text-sm"},{action:(t,e)=>{x.require({target:e.currentTarget,message:"Seguro de Eliminar el Usuario "+t.name+"?",icon:"fa-solid fa-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-sm p-button-danger",rejectLabel:"Cancelar",acceptLabel:"Eliminar",accept:()=>{d.delete(route("users.destroy",t.id),{onSuccess:()=>{g.add({severity:"error",icon:"fa-solid fa-trash-can",summary:"¡Accion realizada!",detail:"Usuario eliminado con exito",group:"customTooltipDataTable",life:5e3})}})}})},severity:"danger",icon:"fa-regular fa-trash-can text-sm"}],y=()=>{o.value?d.put(route("channels.update",o.value),a,{onSuccess:()=>{i.value=!1,u(),o.value=!1}}):d.post(route("channels.store"),a,{onSuccess:()=>{i.value=!1,u(),o.value=!1}})},f=m([]),u=()=>{D.get(route("channels.index")).then(t=>{f.value=t.data})};return u(),(t,e)=>{const b=_;return S(),U(B,null,[s("div",z,[l(N,{columnas:v,add:C,data:f.value,routecreate:"services.create",actions:h},null,8,["data"])]),l($,{visible:i.value,"onUpdate:visible":e[4]||(e[4]=r=>i.value=r),"close-on-escape":!0,width:"500px"},{title:c(()=>[s("span",F,w(o.value?"Editar":"Agregar")+" Canal",1)]),icon:c(()=>[s("i",{class:k(o.value?"fa-solid fa-pencil":"fa-solid fa-plus")},null,2)]),footer:c(()=>[l(b,{onClick:y,title:"Guardar",severity:"success",label:"Guardar",outlined:"",icon:"fa-solid fa-save",class:"!h-9"}),l(b,{onClick:e[3]||(e[3]=r=>i.value=!1),title:"Cancelar",severity:"danger",label:"Cancelar",outlined:"",icon:"fa-solid fa-times",class:"!h-9"})]),default:c(()=>[s("div",A,[s("div",G,[l(p,{label:"Nombre del Canal",modelValue:n(a).name,"onUpdate:modelValue":e[0]||(e[0]=r=>n(a).name=r),placeholder:"Ej: Canal Directo"},null,8,["modelValue"]),l(p,{label:"Iniciales",modelValue:n(a).abreviacion,"onUpdate:modelValue":e[1]||(e[1]=r=>n(a).abreviacion=r),placeholder:"Ej: CD"},null,8,["modelValue"]),l(p,{type:"number",label:"Porcentaje de Comisión",modelValue:n(a).percent,"onUpdate:modelValue":e[2]||(e[2]=r=>n(a).percent=r),suffix:" %","min-fraction-digits":"2","max-fraction-digits":"2",placeholder:"0.00"},null,8,["modelValue"])]),e[5]||(e[5]=s("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-3 flex items-start gap-2"},[s("i",{class:"fa-solid fa-circle-info text-blue-600 mt-0.5"}),s("p",{class:"text-sm text-blue-800"},"El porcentaje se aplicará como comisión sobre las ventas realizadas por este canal.")],-1))])]),_:1},8,["visible"]),l(n(T))],64)}}};export{Ce as default};
