import"./searchStore-8l_O6RwP.js";import{d as c,A as I,p as b,C as x,f as y,o as _,b as g,a as p,h as w,S as C,n as S,r as k,F as U}from"./app-BjdGmPou.js";import{H as $}from"./Header-DrkrL1Gv.js";import P from"./FooterSection-xsrzwix_.js";const H={class:""},L="k_W3HYBYhd5XSmAQhZ3OIhHav0tIw4eMNJyeuHmnI98",q={__name:"GuestLayout",props:{canLogin:{type:Boolean},isWelcomePage:{type:Boolean,default:!1}},setup(i){c(!1);const d=c(!1),a=c(["/images/cartagena.webp"]),t=c(0),l=c(!1);let r=null;const h=async()=>{if(!l.value){l.value=!0,console.log("Cargando imÃ¡genes de Cartagena desde Unsplash...");try{const e=["cartagena colombia","cartagena de indias","cartagena old city","cartagena colonial","cartagena walls","cartagena colorful houses"],o=[];for(const s of e)try{const n=await fetch(`https://api.unsplash.com/search/photos?query=${encodeURIComponent(s)}&per_page=5&orientation=landscape&client_id=${L}`,{headers:{Accept:"application/json"}});if(n.ok){const v=(await n.json()).results.map(u=>({url:`${u.urls.regular}&w=1920&h=1080&fit=crop&crop=center&auto=format&q=80`,alt:u.alt_description||"Cartagena Colombia",id:u.id}));o.push(...v)}}catch(n){console.warn(`Error buscando "${s}":`,n)}if(o.length>0){const s=o.sort(()=>.5-Math.random());a.value=["/images/cartagena.webp",...s.slice(0,15).map(n=>n.url)],console.log(`âœ… Cargadas ${a.value.length-1} imÃ¡genes de Cartagena`)}else a.value=["/images/cartagena.webp","https://source.unsplash.com/1920x1080/?cartagena,colombia,1","https://source.unsplash.com/1920x1080/?cartagena,colonial,2","https://source.unsplash.com/1920x1080/?cartagena,colorful,3","https://source.unsplash.com/1920x1080/?cartagena,old,city,4","https://source.unsplash.com/1920x1080/?cartagena,walls,5","https://source.unsplash.com/1920x1080/?cartagena,architecture,6","https://source.unsplash.com/1920x1080/?cartagena,street,7","https://source.unsplash.com/1920x1080/?cartagena,balcony,8"],console.log("ðŸ’¡ Usando URLs directas de Unsplash Source como fallback")}catch(e){console.error("âŒ Error cargando imÃ¡genes:",e),a.value=["/images/cartagena.webp","https://source.unsplash.com/1920x1080/?cartagena,colombia","https://source.unsplash.com/1920x1080/?cartagena,colonial","https://source.unsplash.com/1920x1080/?cartagena,colorful","https://source.unsplash.com/1920x1080/?cartagena,architecture"],console.log("ðŸ”„ Usando fallback bÃ¡sico de Unsplash Source")}finally{l.value=!1}}};I(()=>{const e=a.value[t.value];return console.log("ðŸ–¼ï¸ Imagen actual:",e),{backgroundImage:`url('${e}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",minHeight:"10vh"}});const f=()=>{t.value=(t.value+1)%a.value.length,console.log(`ðŸ”„ Cambiando a imagen ${t.value+1}/${a.value.length}`)},m=()=>{const e=(t.value+1)%a.value.length,o=a.value[e];if(o){const s=new Image;s.onload=()=>console.log("âš¡ Precargada:",o),s.onerror=()=>console.warn("âš ï¸ Error precargando:",o),s.src=o}};return b(async()=>{console.log("ðŸš€ Iniciando GuestLayout..."),await h(),m(),r=setInterval(()=>{f(),m()},45e3),console.log("âœ… GuestLayout listo con",a.value.length,"imÃ¡genes")}),x(()=>{r&&clearInterval(r)}),(e,o)=>(_(),y(U,null,[g(w(C),{title:"Inicio"}),p("div",H,[g($,{isScrolled:d.value,isWelcomePage:i.isWelcomePage},null,8,["isScrolled","isWelcomePage"]),p("div",{class:S(i.isWelcomePage?"":"pt-44")},[k(e.$slots,"default")],2)]),g(P)],64))}};export{q as _};
