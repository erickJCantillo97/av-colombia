import{d as n,A as _,p as C,C as S,f,o as v,b as c,a as r,h as k,S as L,n as U,r as $,w as E,g as P,ab as H,F as B}from"./app-Ba2U9p49.js";import"./searchStore-Dgal6Tm1.js";import{H as N}from"./GuestLayout.vue_vue_type_style_index_0_scoped_009478f4_lang-DP3bMUCV.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";import A from"./FooterSection-7Qqgt1ym.js";const G={class:""},T="k_W3HYBYhd5XSmAQhZ3OIhHav0tIw4eMNJyeuHmnI98",V={__name:"GuestLayout",props:{canLogin:{type:Boolean},isWelcomePage:{type:Boolean,default:!1}},setup(m){n(!1);const b=n(!1),e=n(["/images/cartagena.webp"]),l=n(0),i=n(!1);let u=null;const w=async()=>{if(!i.value){i.value=!0,console.log("Cargando imÃ¡genes de Cartagena desde Unsplash...");try{const o=["cartagena colombia","cartagena de indias","cartagena old city","cartagena colonial","cartagena walls","cartagena colorful houses"],a=[];for(const s of o)try{const t=await fetch(`https://api.unsplash.com/search/photos?query=${encodeURIComponent(s)}&per_page=5&orientation=landscape&client_id=${T}`,{headers:{Accept:"application/json"}});if(t.ok){const y=(await t.json()).results.map(g=>({url:`${g.urls.regular}&w=1920&h=1080&fit=crop&crop=center&auto=format&q=80`,alt:g.alt_description||"Cartagena Colombia",id:g.id}));a.push(...y)}}catch(t){console.warn(`Error buscando "${s}":`,t)}if(a.length>0){const s=a.sort(()=>.5-Math.random());e.value=["/images/cartagena.webp",...s.slice(0,15).map(t=>t.url)],console.log(`âœ… Cargadas ${e.value.length-1} imÃ¡genes de Cartagena`)}else e.value=["/images/cartagena.webp","https://source.unsplash.com/1920x1080/?cartagena,colombia,1","https://source.unsplash.com/1920x1080/?cartagena,colonial,2","https://source.unsplash.com/1920x1080/?cartagena,colorful,3","https://source.unsplash.com/1920x1080/?cartagena,old,city,4","https://source.unsplash.com/1920x1080/?cartagena,walls,5","https://source.unsplash.com/1920x1080/?cartagena,architecture,6","https://source.unsplash.com/1920x1080/?cartagena,street,7","https://source.unsplash.com/1920x1080/?cartagena,balcony,8"],console.log("ðŸ’¡ Usando URLs directas de Unsplash Source como fallback")}catch(o){console.error("âŒ Error cargando imÃ¡genes:",o),e.value=["/images/cartagena.webp","https://source.unsplash.com/1920x1080/?cartagena,colombia","https://source.unsplash.com/1920x1080/?cartagena,colonial","https://source.unsplash.com/1920x1080/?cartagena,colorful","https://source.unsplash.com/1920x1080/?cartagena,architecture"],console.log("ðŸ”„ Usando fallback bÃ¡sico de Unsplash Source")}finally{i.value=!1}}};_(()=>{const o=e.value[l.value];return console.log("ðŸ–¼ï¸ Imagen actual:",o),{backgroundImage:`url('${o}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",minHeight:"10vh"}});const I=()=>{l.value=(l.value+1)%e.value.length,console.log(`ðŸ”„ Cambiando a imagen ${l.value+1}/${e.value.length}`)},d=()=>{const o=(l.value+1)%e.value.length,a=e.value[o];if(a){const s=new Image;s.onload=()=>console.log("âš¡ Precargada:",a),s.onerror=()=>console.warn("âš ï¸ Error precargando:",a),s.src=a}},p=n(!1),h=()=>{p.value=window.scrollY>500},x=()=>{window.scrollTo({top:0,behavior:"smooth"})};return C(async()=>{console.log("ðŸš€ Iniciando GuestLayout..."),await w(),d(),u=setInterval(()=>{I(),d()},45e3),window.addEventListener("scroll",h),console.log("âœ… GuestLayout listo con",e.value.length,"imÃ¡genes")}),S(()=>{u&&clearInterval(u),window.removeEventListener("scroll",h)}),(o,a)=>(v(),f(B,null,[c(k(L),{title:"Inicio"}),r("div",G,[c(N,{isScrolled:b.value,isWelcomePage:m.isWelcomePage},null,8,["isScrolled","isWelcomePage"]),r("div",{class:U(m.isWelcomePage?"":"pt-44")},[$(o.$slots,"default",{},void 0,!0)],2)]),c(A),c(H,{name:"fade-scale"},{default:E(()=>[p.value?(v(),f("button",{key:0,onClick:x,class:"fixed bottom-8 right-8 z-50 group scroll-top-button","aria-label":"Volver arriba"},[...a[0]||(a[0]=[r("div",{class:"scroll-top-float"},[r("i",{class:"fa-solid fa-arrow-up text-white text-lg"})],-1),r("div",{class:"scroll-top-tooltip"}," Volver arriba ",-1)])])):P("",!0)]),_:1})],64))}},F=W(V,[["__scopeId","data-v-009478f4"]]);export{F as G};
