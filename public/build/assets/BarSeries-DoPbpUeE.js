import{J as v,_ as b,f,o as y,a as C,M as u,p as P,d as p,b as O}from"./app-Daz5hQqP.js";import{s as S}from"./index-CgLYefFZ.js";var w={root:{position:"relative"}},_={root:"p-chart"},j=v.extend({name:"chart",classes:_,inlineStyles:w}),E={name:"BaseChart",extends:S,props:{type:String,data:null,options:null,plugins:null,width:{type:Number,default:300},height:{type:Number,default:150},canvasProps:{type:null,default:null}},style:j,provide:function(){return{$pcChart:this,$parentInstance:this}}},m={name:"Chart",extends:E,inheritAttrs:!1,emits:["select","loaded"],chart:null,watch:{data:{handler:function(){this.reinit()},deep:!0},type:function(){this.reinit()},options:function(){this.reinit()}},mounted:function(){this.initChart()},beforeUnmount:function(){this.chart&&(this.chart.destroy(),this.chart=null)},methods:{initChart:function(){var t=this;b(()=>import("./auto-Cj0TocxD.js"),[]).then(function(r){t.chart&&(t.chart.destroy(),t.chart=null),r&&r.default&&(t.chart=new r.default(t.$refs.canvas,{type:t.type,data:t.data,options:t.options,plugins:t.plugins})),t.$emit("loaded",t.chart)})},getCanvas:function(){return this.$canvas},getChart:function(){return this.chart},getBase64Image:function(){return this.chart.toBase64Image()},refresh:function(){this.chart&&this.chart.update()},reinit:function(){this.initChart()},onCanvasClick:function(t){if(this.chart){var r=this.chart.getElementsAtEventForMode(t,"nearest",{intersect:!0},!1),n=this.chart.getElementsAtEventForMode(t,"dataset",{intersect:!0},!1);r&&r[0]&&n&&this.$emit("select",{originalEvent:t,element:r[0],dataset:n})}},generateLegend:function(){if(this.chart)return this.chart.generateLegend()}}};function s(e){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(n){B(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B(e,t,r){return(t=$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $(e){var t=k(e,"string");return s(t)=="symbol"?t:t+""}function k(e,t){if(s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V=["width","height"];function x(e,t,r,n,i,l){return y(),f("div",u({class:e.cx("root"),style:e.sx("root")},e.ptmi("root")),[C("canvas",u({ref:"canvas",width:e.width,height:e.height,onClick:t[0]||(t[0]=function(a){return l.onCanvasClick(a)})},h(h({},e.canvasProps),e.ptm("canvas"))),null,16,V)],16)}m.render=x;const A={class:"card"},N={__name:"BarSeries",props:{data:{type:Array,default:[]}},setup(e){const t=e;P(()=>{r.value=i(),n.value=l()});const r=p(),n=p(),i=()=>{const a=getComputedStyle(document.documentElement);return{labels:t.data.map(o=>o.proveedor),datasets:[{label:"Ingresos",backgroundColor:a.getPropertyValue("--p-cyan-500"),borderColor:a.getPropertyValue("--p-cyan-500"),data:t.data.map(o=>o.ventas)},{label:"Costos",backgroundColor:a.getPropertyValue("--p-gray-500"),borderColor:a.getPropertyValue("--p-gray-500"),data:t.data.map(o=>o.costos)}]}},l=()=>{const a=getComputedStyle(document.documentElement),o=a.getPropertyValue("--p-text-color"),c=a.getPropertyValue("--p-text-muted-color"),g=a.getPropertyValue("--p-content-border-color");return{indexAxis:"y",maintainAspectRatio:!1,aspectRatio:.8,plugins:{legend:{labels:{color:o}}},scales:{x:{ticks:{color:c,font:{weight:500}},grid:{display:!1,drawBorder:!1}},y:{ticks:{color:c},grid:{color:g,drawBorder:!1}}}}};return(a,o)=>{const c=m;return y(),f("div",A,[O(c,{type:"bar",data:r.value,options:n.value,class:"h-[30rem]"},null,8,["data","options"])])}}};export{N as default};
