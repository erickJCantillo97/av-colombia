import{s as S}from"./index-DBGUMYVK.js";import{D as j,ap as R,aq as F,d as u,x as G,c as O,o as m,w as y,a as t,h as b,t as g,f as x,g as A,b as r,u as d,m as T,T as H,F as k,i as z,A as q}from"./app-B9pH_sml.js";import{_ as Q,s as W}from"./Datatable-Bjf5Hgbt.js";import{s as J}from"./index-M42-QrlV.js";import{s as I}from"./index-Bz9KxglK.js";import{_ as K}from"./AppLayout-CSe5lM99.js";import"./Scheduler-nF792NLR.js";import{_ as X,a as Y}from"./Notas-CnpGuH0N.js";import{s as Z}from"./filepond-plugin-image-preview.min-njTbo0Gt.js";import{_ as ee}from"./Modal-DxoOzgVb.js";import{_ as w}from"./Input-BOZVaKZd.js";import"./index-CAAd8XG2.js";import"./index-D9P_bT78.js";import"./index-HHfIrf6c.js";import"./index-CVt9iHDh.js";import"./index-DOP570kF.js";import"./index-0ItwtR2Y.js";import"./index-CciJMJED.js";import"./index-qpcPB4oh.js";import"./index-CKaNnOVx.js";import"./index-DTo5A5gg.js";import"./index-a5HG16__.js";import"./index-0ZE05vSE.js";import"./index-DAG3b5zD.js";import"./index-B665tpkS.js";import"./useCommonUtilities-Ca8fwx5n.js";import"./postcss-BMT3Cbgi.js";import"./index-kMrDK3We.js";import"./index-OlwbK-8y.js";import"./index-C8rAPjUs.js";import"./index-Bh4CNGaS.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./sweetalert2.esm.all-DV3w3JmD.js";import"./toasts-Bf1FAz7R.js";import"./Service-BT1ivld7.js";import"./Toats-RcJDUpcK.js";import"./logo-AkpuWOuS.js";import"./Loading-XJnV_cRJ.js";import"./index-B70OXWN_.js";import"./index-DlfbQKGv.js";import"./index-C9KRcMUp.js";var te=j.extend({name:"columngroup"}),oe={name:"BaseColumnGroup",extends:S,props:{type:{type:String,default:null}},style:te,provide:function(){return{$pcColumnGroup:this,$parentInstance:this}}},le={name:"ColumnGroup",extends:oe,inheritAttrs:!1,inject:["$columnGroups"],mounted:function(){var a;(a=this.$columnGroups)===null||a===void 0||a.add(this.$)},unmounted:function(){var a;(a=this.$columnGroups)===null||a===void 0||a.delete(this.$)},render:function(){return null}},se={name:"Row",extends:S,inject:["$rows"],mounted:function(){var a;(a=this.$rows)===null||a===void 0||a.add(this.$)},unmounted:function(){var a;(a=this.$rows)===null||a===void 0||a.delete(this.$)},render:function(){return null}};const ae={class:"text-lg"},re={class:"font-bold uppercase"},ne={class:"font-bold uppercase"},ie={class:"mt-4"},de={key:0},ue={class:"flex w-full justify-between gap-x-4"},me={class:"flex flex-col gap-y-4"},pe={class:"flex justify-between my-4"},ce={for:"",class:"w-full font-bold"},ve={class:"flex gap-4 justify-between text-md"},fe={class:"flex items-center gap-2"},ge={class:"flex items-center gap-2"},xe={class:"flex items-center gap-2"},ye={key:1,class:"flex flex-col gap-y-2 my-4"},be={class:"grid grid-cols-4 font-semibold gap-x-6 border-b-4"},Ve={class:"flex justify-end gap-x-4"},_e={__name:"Completar",props:R({service:Object},{modelValue:!0,modelModifiers:{}}),emits:["update:modelValue"],setup(i){const a=i,V=F(i,"modelValue",!0),_=u("COMPLETADA"),l=G({saldoPagado:"AV COLOMBIA",status:"COMPLETADA",service_id:a.service.id,conductor:"",placa:"",value:"",extras:[]}),f=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0});function p(){l.extras=a.service.extras.map(c=>({id:c.id,cantidad:c.cantidad,description:c.description,unit_cost:c.unit_cost}))}p();const $=()=>{l.status=_.value,l.post(route("completar.reserva")),l.reset(),V.value=!1};return(c,e)=>{const C=Z,h=I,P=H;return m(),O(ee,{modelValue:V.value,"onUpdate:modelValue":e[6]||(e[6]=o=>V.value=o),title:"Completar Servicio","close-on-escape":""},{footer:y(()=>[t("div",Ve,[r(h,{label:"Completar Servicio",severity:"success",onClick:$,icon:"fa-solid fa-save"}),r(h,{label:"Cancelar",severity:"danger",icon:"fa-solid fa-xmark"})])]),default:y(()=>[t("h2",ae,[e[7]||(e[7]=b(" Completar servicio de ")),t("span",re,g(i.service.cliente_name),1),e[8]||(e[8]=b(" para ")),t("span",ne,g(i.service.service)+" Sin novedad",1),e[9]||(e[9]=b(". "))]),t("div",ie,[i.service.service_type=="TRANSFER"?(m(),x("div",de,[t("div",ue,[r(w,{label:"Nombre del Conductor",modelValue:d(l).conductor,"onUpdate:modelValue":e[0]||(e[0]=o=>d(l).conductor=o),type:"text",placeholder:"Nombre del conductor",class:"w-full"},null,8,["modelValue"]),r(w,{label:"Placa del Vehiculo",modelValue:d(l).placa,"onUpdate:modelValue":e[1]||(e[1]=o=>d(l).placa=o),type:"text",placeholder:"Placa del Vehiculo",class:"w-full"},null,8,["modelValue"]),r(w,{label:"Valor del Servicio",modelValue:d(l).value,"onUpdate:modelValue":e[2]||(e[2]=o=>d(l).value=o),type:"text",placeholder:"Valor del Servicio",class:"w-full"},null,8,["modelValue"])])])):A("",!0),t("div",me,[t("div",pe,[t("label",ce,"Saldo Pagado ("+g(d(f).format(i.service.saldo))+")",1),t("div",ve,[t("div",fe,[r(C,{modelValue:d(l).saldoPagado,"onUpdate:modelValue":e[3]||(e[3]=o=>d(l).saldoPagado=o),inputId:"AV COLOMBIA",name:"AV COLOMBIA",value:"AV COLOMBIA",size:"small"},null,8,["modelValue"]),e[10]||(e[10]=t("label",{for:"AV COLOMBIA",class:"text-nowrap cursor-pointer"},"AV COLOMBIA",-1))]),t("div",ge,[r(C,{modelValue:d(l).saldoPagado,"onUpdate:modelValue":e[4]||(e[4]=o=>d(l).saldoPagado=o),inputId:"proveedor",name:"proveedor",value:"proveedor",size:"small"},null,8,["modelValue"]),e[11]||(e[11]=t("label",{for:"proveedor",class:"cursor-pointer uppercase"},"Proveedor",-1))]),t("div",xe,[r(C,{modelValue:d(l).saldoPagado,"onUpdate:modelValue":e[5]||(e[5]=o=>d(l).saldoPagado=o),inputId:"NoPagado",class:"cursor-pointer text-red-500",name:"NoPagado",value:"NoPagado",size:"small"},null,8,["modelValue"]),e[12]||(e[12]=t("label",{for:"NoPagado",class:"cursor-pointer uppercase text-nowrap text-red-500"},"No Pagado",-1))])])])]),i.service.extras.length>0?(m(),x("div",ye,[e[17]||(e[17]=t("h1",{class:"text-lg font-bold text-center"},"Servicio Extras",-1)),t("div",be,[e[14]||(e[14]=t("p",null,"Cantidad",-1)),e[15]||(e[15]=t("p",null,"Nombre",-1)),T((m(),x("p",null,e[13]||(e[13]=[b("Costo Unitario")]))),[[P,"Cuanto pagaste",void 0,{top:!0}]]),e[16]||(e[16]=t("p",null,"Total",-1))]),(m(!0),x(k,null,z(d(l).extras,o=>(m(),x("div",{key:o.id,class:"grid grid-cols-4 border-b justify-center items-center gap-x-6"},[t("p",null,g(o.cantidad),1),t("p",null,g(o.description),1),r(w,{type:"number",modelValue:o.unit_cost,"onUpdate:modelValue":B=>o.unit_cost=B,mode:"currency"},null,8,["modelValue","onUpdate:modelValue"]),t("span",null,g(d(f).format(o.cantidad*o.unit_cost)),1)]))),128))])):A("",!0)])]),_:1},8,["modelValue"])}}},$e={class:"py-4"},Ce={class:"w-full mx-auto sm:px-1 lg:px-4 space-y-2"},Ae={class:"bg-white overflow-hidden sm:rounded-lg flex justify-between items-center px-1"},he={class:"uppercase"},we=["href"],Oe={class:"flex w-full justify-between font-bold text-xl items-center"},Pe={class:"shadow-xl rounded-lg p-1 h-[85vh]"},gt={__name:"Dashboard",setup(i){u([]);const a=u([]),V=u("");u(0);const _=u([]);u();const l=u(!1),f=u(!1),p=u({}),$=u(!1),c=u([new Date,new Date]),e=async()=>{const{data:s}=await q.get(route("get.all.booking.services.dates",{dates:c.value}));_.value=s.bookingServices},C=s=>{p.value=_.value.find(n=>n.id==s.id),$.value=!0};e();const h=[{label:"Compeltar Servicio",action:s=>{p.value=s,f.value=!0},icon:"fa-solid fa-circle-check text-sm",severity:"success"},{label:"Detalles",action:s=>{C(s)},icon:"fa-solid fa-circle-info text-sm",severity:"info"},{label:"Notas",severity:"secondary",action:s=>{p.value=s,l.value=!0},badge:s=>s.notes,icon:"fa-solid fa-note-sticky text-sm"}],P=[{field:"cliente_name",header:"Nombre del pasajero",filter:!0,sortable:!0},{field:"adults",header:"Pasajeros",filter:!0,sortable:!0,type:"html-custom",renderer:s=>`
      <div class="flex flex-col text-right text-sm items-center">
        <span class="text-center font-bold">Adultos: ${s.adults}</span>
        <span class="text-center">Ni√±os: ${s.boys}</span>
        </div>
      `},{field:"service",header:"Actividad",filter:!0,sortable:!0},{field:"proveedors_names",header:"proveedores",class:"text-center font-semibold text-sm",filter:!0},{field:"cliente_building",header:"Edificio",filter:!0,sortable:!0},{field:"cliente_phone",header:"Telefono",filter:!0,sortable:!0,type:"html-custom",renderer:s=>`<a target="_blank" href="https://wa.me/${s.cliente_phone}?text=Hola%20üëã,%20mi%20nombre%20es%20*Sandra%20%Gil*,%20Le%20escribo%20desde%20*AV%20COLOMBIA*">${s.cliente_phone}</a>`},{field:"hour",header:"Hora",filter:!0,sortable:!0},{field:"status",header:"Estado",filter:!0,sortable:!0,type:"tag",filtertype:"EQUALS",class:"text-center uppercase",severitys:[{text:"RESERVADO",severity:"info",class:""},{text:"CAMBIO DE FECHA",class:"bg-gray-200 font-bold"},{text:"COMPLETADA",class:""},{text:"NO SHOW",severity:"warn",class:""},{text:"REUBICADO",severity:"warn",class:""},{text:"CANCELADA",severity:"danger",class:"animate-pulse"},{text:"PROBLEMATICA",severity:"danger",class:"animate-pulse"},{text:"SIN CONFIRMAR",severity:"danger"}]}],o=u([]),B=s=>{o.value=s};return(s,n)=>{const D=I,E=J,N=W,M=se,U=le;return m(),x(k,null,[r(K,{title:"Dashboard"},{default:y(()=>[t("div",$e,[t("div",Ce,[t("div",Ae,[t("h1",null,[n[4]||(n[4]=b(" Hola ")),t("strong",he,g(s.$page.props.auth.user.name),1),n[5]||(n[5]=b(", Bienvenido a tu panel de control "))]),t("a",{target:"_blank",href:`https://vendedores-site.netlify.app/${s.$page.props.auth.user.id}`},[r(D,{label:"Ver Portafolio"})],8,we)]),t("div",Oe,[n[6]||(n[6]=t("p",null,"Actividades",-1)),r(E,{modelValue:c.value,"onUpdate:modelValue":n[0]||(n[0]=v=>c.value=v),selectionMode:"range",dateFormat:"dd/mm/yy",manualInput:!1,onValueChange:e},null,8,["modelValue"])]),t("div",Pe,[r(Q,{columnas:P,rowClass:!0,data:_.value,actions:h,onFilterApply:B},{groupRows:y(()=>[r(U,{type:"footer"},{default:y(()=>[r(M,null,{default:y(()=>[r(N,{footer:"Pasajeros:",colspan:0,footerStyle:"text-align:right"}),r(N,{footer:o.value.reduce((v,L)=>v+L.adults,0)},null,8,["footer"])]),_:1})]),_:1})]),_:1},8,["data"])])])])]),_:1}),p.value?(m(),O(X,{key:0,modelValue:$.value,"onUpdate:modelValue":n[1]||(n[1]=v=>$.value=v),service:p.value},null,8,["modelValue","service"])):A("",!0),l.value?(m(),O(Y,{key:1,modelValue:l.value,"onUpdate:modelValue":n[2]||(n[2]=v=>l.value=v),notes:a.value,note:V.value,service:p.value},null,8,["modelValue","notes","note","service"])):A("",!0),f.value?(m(),O(_e,{key:2,modelValue:f.value,"onUpdate:modelValue":n[3]||(n[3]=v=>f.value=v),service:p.value},null,8,["modelValue","service"])):A("",!0)],64)}}};export{gt as default};
