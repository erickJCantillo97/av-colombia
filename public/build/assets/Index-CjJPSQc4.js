import{s as k}from"./index-7z-yZVJb.js";import{_ as m}from"./Input-D9x_tR3L.js";import{_ as S}from"./Datatable-Dwq3zyeP.js";import{_ as j}from"./Modal-CxGCLqDr.js";import{d as p,Q as C,T as B,o as i,f as u,b as a,w as v,a as r,u as d,F as M,L as V,c as w,i as P,n as N,t as U,g as D}from"./app-DDnvXF-g.js";import{a as L}from"./toasts-DRkOXQyQ.js";import{_ as E}from"./AppLayout-X9Du6k4R.js";import G from"./Index-C8QxYNQR.js";import T from"./Channels-GS1XjhFQ.js";import"./index-BUFtMpNe.js";import"./index-xa-MpC6I.js";import"./index-Bzs_oWgK.js";import"./postcss-CxGY_dGM.js";import"./index-DMNjLcAD.js";import"./index-BDUkIOLK.js";const F={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},q={__name:"PaymentMethods",setup(g){const{toast:s}=L(),l=p(!1),h={action:()=>{l.value=!0}},f=p([]),_=[{header:"Nombre",field:"name",filter:!0},{header:"Porcentaje de Pago",field:"parcent_charge",filter:!0,format:e=>e+"%"}],c=[{action:e=>{C().props.auth.user.rol=="admin"?router.visit(route("services.edit",e.id)):(l.value=!0,service.value=e,o.service_id=e.id,o.adult_tarifa=e.adult_tarifa,o.boys_tarifa=e.boy_tarifa)},severity:"secondary",icon:"fa-solid fa-pencil text-sm"},{action:(e,t)=>{confirm.require({target:t.currentTarget,message:"Seguro de Eliminar el Metodo de pago "+e.name+"?",icon:"fa-solid fa-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-sm p-button-danger",rejectLabel:"Cancelar",acceptLabel:"Eliminar",accept:()=>{console.log(e),router.delete(route("services.destroy",e.id),{onSuccess:()=>{s("success","Servicio eliminado con exito")}})}})},show:C().props.auth.user.rol=="admin",severity:"danger",icon:"fa-regular fa-trash-can text-sm"}],o=B({name:"",parcent_charge:0,description:"",method:""}),b=p([]),y=()=>{V.get(route("paymentMethods.index")).then(e=>{b.value=e.data}).catch(e=>{console.log(e)})};y();const $=()=>{o.post(route("paymentMethods.store"),{onSuccess:()=>{l.value=!1,y(),s("success","Metodo de pago creado correctamente")}})};return(()=>{V.get(route("paymentMethods.index")).then(e=>{f.value=e.data}).catch(e=>{console.log(e)})})(),(e,t)=>{const x=k;return i(),u(M,null,[a(S,{add:h,data:b.value,columnas:_,actions:c},null,8,["data"]),a(j,{modelValue:l.value,"onUpdate:modelValue":t[4]||(t[4]=n=>l.value=n),title:"Crear Metodo de Pago","close-on-escape":!0},{footer:v(()=>[a(x,{onClick:$,title:"Save",severity:"success",label:"Save",outlined:"",icon:"fa-solid fa-save",class:"!h-8"}),a(x,{onClick:t[3]||(t[3]=n=>l.value=!1),title:"Cancel",severity:"danger",label:"Cancel",outlined:"",icon:"fa-solid fa-times",class:"!h-8"})]),default:v(()=>[r("div",F,[a(m,{label:"Nombre",modelValue:d(o).name,"onUpdate:modelValue":t[0]||(t[0]=n=>d(o).name=n)},null,8,["modelValue"]),a(m,{label:"Porcentaje de pago",type:"number",modelValue:d(o).parcent_charge,"onUpdate:modelValue":t[1]||(t[1]=n=>d(o).parcent_charge=n)},null,8,["modelValue"]),a(m,{class:"w-full",min:"0",type:"dropdown","option-label":"name","option-value":"id",options:f.value,modelValue:d(o).method,"onUpdate:modelValue":t[2]||(t[2]=n=>d(o).method=n)},null,8,["options","modelValue"])])]),_:1},8,["modelValue"])],64)}}},z={class:"p-4"},A=r("h1",{class:"text-xl font-extrabold"}," Configuración General ",-1),I={"data-aos":"flip-down","data-aos-duration":"1000",class:"bg-white p-2 rounded-lg shadow-lg"},Q={class:"w-full bg-gray-200 rounded-md p-2 grid grid-cols-2 divide-y-2 md:flex space-x-2"},H=["onClick"],J={key:1,class:"p-4"},K=r("h1",{class:"text-xl font-extrabold"}," Dolar ",-1),O={class:"flex justify-end mt-4"},R={key:2},W={key:3},pe={__name:"Index",props:{users:{type:Array,default:[]}},setup(g){const s=p(1),l=[{name:"Métodos de Pago",value:1},{name:"Usuarios",value:2},{name:"Canales",value:4},{name:"Tasas",value:3}];return(h,f)=>{const _=k;return i(),w(E,{title:"Configuración General"},{default:v(()=>[r("div",z,[A,r("div",I,[r("div",Q,[(i(),u(M,null,P(l,c=>r("div",{onClick:o=>s.value=c.value,class:N(["w-full rounded-lg text-center py-2 text-sm md:text-md cursor-pointer",s.value==c.value?"bg-white":"hover:bg-white/30"])},U(c.name),11,H)),64))]),s.value==1?(i(),w(q,{key:0})):s.value==3?(i(),u("div",J,[K,a(m,{type:"number",label:"Valor del Dolar"}),r("div",O,[a(_,{label:"Guardar",severity:"success",class:"!h-9 justify-end"})])])):s.value==2?(i(),u("div",R,[a(G,{users:g.users},null,8,["users"])])):s.value==4?(i(),u("div",W,[a(T)])):D("",!0)])])]),_:1})}}};export{pe as default};
