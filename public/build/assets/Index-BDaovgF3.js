import{s as C}from"./index-CzmRhpnN.js";import{e9 as w,f6 as U,d as p,C as x,f as N,a as n,b as l,w as m,u as s,F as R,W as S,o as A}from"./app-BgLvWl0T.js";import{_ as E}from"./Datatable-Dmk6xSeQ.js";import{s as I}from"./index-CLbgOPID.js";import{a as T,_ as i}from"./Modal-DVO1YWmA.js";import"./index-DOYu5x2t.js";import"./index-BwvaOCmd.js";import"./index-C5iWD2vE.js";import"./index-CpNQ_w2W.js";import"./index-DnrvTrqK.js";import"./index-n6gg82GD.js";import"./index-D7vtmUbR.js";import"./index-Bih92YMk.js";import"./postcss-BqPgeWJs.js";import"./index-CMB-Jnv6.js";import"./index-CYPv6LPy.js";import"./index-C7QX-4IK.js";import"./index-CEnBIXDR.js";import"./useCommonUtilities-DO03hYfs.js";import"./moment-Cijl8gKs.js";import"./index-CbSoSe5P.js";import"./index-a-5SHS9n.js";import"./index-BBAcYKbe.js";const D={class:"h-[99vh]"},_={class:"space-y-3"},ae={__name:"Index",props:{users:Array},setup(c){const f=[{header:"Nombre",field:"name",filter:!0},{header:"Correo",field:"email",filter:!0},{header:"Creación",field:"created_at",type:"datetime",filter:!0},{header:"URL Portafolio",field:"url"}],b=w(),v=U(),u=p(!1),e=x({id:null,name:"",email:"",password:"",rol:"",password_confirmation:""}),t=p(!1),V={action:()=>{e.reset(),u.value=!1,t.value=!0}},g=[{action:r=>{e.reset(),t.value=!0,u.value=!0,e.name=r.name,e.email=r.email,console.log(r.rol),e.rol=r.rol,e.id=r.id},severity:"secondary",icon:"fa-solid fa-pencil text-sm"},{action:(r,o)=>{v.require({target:o.currentTarget,message:"Seguro de Eliminar el Usuario "+r.name+"?",icon:"fa-solid fa-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-sm p-button-danger",rejectLabel:"Cancelar",acceptLabel:"Eliminar",accept:()=>{console.log(r),S.delete(route("users.destroy",r.id),{onSuccess:()=>{b.add({severity:"error",icon:"fa-solid fa-trash-can",summary:"¡Accion realizada!",detail:"Usuario eliminado con exito",group:"customTooltipDataTable",life:5e3})}})}})},severity:"danger",icon:"fa-regular fa-trash-can text-sm"}],y=()=>{u.value?e.put(route("users.update",e.id),{onSuccess:()=>{t.value=!1}}):e.post(route("users.store"),{onSuccess:()=>{t.value=!1}})};return(r,o)=>{const d=C;return A(),N(R,null,[n("div",D,[l(E,{columnas:f,add:V,data:c.users,routecreate:"services.create",actions:g},null,8,["data"])]),l(T,{visible:t.value,"onUpdate:visible":o[6]||(o[6]=a=>t.value=a)},{title:m(()=>o[7]||(o[7]=[n("span",{class:"text-xl font-bold white-space-nowrap"}," Agregar Usuario",-1)])),icon:m(()=>o[8]||(o[8]=[n("i",{class:"fa-solid fa-plus"},null,-1)])),footer:m(()=>[l(d,{onClick:y,title:"Guardar",severity:"success",label:"Guardar",outlined:"",icon:"fa-solid fa-save",class:"!h-8"}),l(d,{onClick:o[5]||(o[5]=a=>t.value=!1),title:"Cancel",severity:"danger",label:"Cancelar",outlined:"",icon:"fa-solid fa-times",class:"!h-8"})]),default:m(()=>[n("div",_,[l(i,{label:"Nombre",modelValue:s(e).name,"onUpdate:modelValue":o[0]||(o[0]=a=>s(e).name=a),"error-message":s(e).errors.name},null,8,["modelValue","error-message"]),l(i,{label:"Email",modelValue:s(e).email,"onUpdate:modelValue":o[1]||(o[1]=a=>s(e).email=a)},null,8,["modelValue"]),l(i,{label:"Rol",type:"dropdown",options:["SUPER ADMINISTRADOR","ADMINISTRADOR","VENDEDOR","VISITANTE","SIN ROL"],modelValue:s(e).rol,"onUpdate:modelValue":o[2]||(o[2]=a=>s(e).rol=a)},null,8,["modelValue"]),l(i,{label:"Contraseña",type:"password",modelValue:s(e).password,"onUpdate:modelValue":o[3]||(o[3]=a=>s(e).password=a)},null,8,["modelValue"]),l(i,{label:"Confirmar contraseña",type:"password",modelValue:s(e).password_confirmation,"onUpdate:modelValue":o[4]||(o[4]=a=>s(e).password_confirmation=a)},null,8,["modelValue"])])]),_:1},8,["visible"]),l(s(I))],64)}}};export{ae as default};
