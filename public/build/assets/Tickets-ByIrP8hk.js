import{_ as u}from"./Input-DkWzKbaZ.js";import{u as k,f as r,o as s,a as b,g as f,b as p,h as c,F as g,j as _,w as y,i as v,I as x}from"./app-Bkmq6IjL.js";import{s as T}from"./index-DaANNUiK.js";import"./index-W7nZhAj4.js";import"./index-R9UnX9_e.js";import"./index-CcP_lYt9.js";import"./index-BLqmo2gT.js";import"./index-BDEkOoTf.js";import"./index-Nfd3bcJj.js";import"./index-CfbMPObl.js";import"./index-s9JRI-aI.js";import"./index-DXGaN_yB.js";import"./index-BpetVVTO.js";import"./index-CgfV6IMP.js";import"./index-DXym8dc4.js";import"./index-nj7zxik0.js";import"./index-DUCg-gIe.js";import"./postcss-C08joEDO.js";import"./postcss-DXcLJQ9m.js";import"./index-Dhtgddix.js";import"./index-RsaUD5Xe.js";import"./index-C7bdtJCW.js";import"./useCommonUtilities-BgDhORlD.js";const h={key:0,class:"text-gray-500"},P={__name:"Tickets",props:{bookingService:Object},setup(m){const a=m,i=k({ticketType:[],bookingService:a.bookingService.id});function n(){axios.get(route("get.ticket.types")).then(e=>{e.data.ticketTypes.filter(t=>t.services.some(o=>o.id===a.bookingService.service_id)).forEach(t=>{i.ticketType.push({type_id:t.id,name:t.name,disponibles:t.disponibles,cant:0})})}).catch(e=>{console.error("Error al obtener los tipos de tickets:",e)})}n();const d=()=>{i.ticketType.forEach(e=>{x.post(route("pagoEntradas.storeTicket"),{ticket_type_id:e.type_id,cantidad:e.cant,costo_total:0,tipo_movimiento:"salida",booking_service_id:a.bookingService.id})})};return(e,t)=>(s(),r("div",null,[t[1]||(t[1]=b("h2",{class:"text-lg font-bold mb-4"},"Tickets Asociados",-1)),c(i).ticketType.length===0?(s(),r("div",h," No hay tickets asociados a esta reserva. ")):f("",!0),(s(!0),r(g,null,_(c(i).ticketType,o=>(s(),r("div",{key:o.type_id,class:"mb-4 grid grid-cols-3 gap-4"},[p(u,{modelValue:o.cant,"onUpdate:modelValue":l=>o.cant=l,type:"number",min:"0",suffix:" Entradas",label:`Cantidad de ${o.name}`,max:o.disponibles},null,8,["modelValue","onUpdate:modelValue","label","max"])]))),128)),p(c(T),{onClick:d,severity:"success",class:"w-full"},{default:y(()=>[...t[0]||(t[0]=[v("Guardar",-1)])]),_:1})]))}};export{P as default};
