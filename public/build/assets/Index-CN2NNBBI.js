import{s as V}from"./index-xKIgjzMx.js";import{_ as g,a as $}from"./Modal-CCNbYJvs.js";import{_ as B}from"./Datatable-nTv2PETe.js";import{d as f,B as P,C as S,A as C,o as l,f as m,b as o,w as h,a as n,u as p,F as k,c as M,i as N,n as j,t as D,g as U}from"./app-C5Hzc99w.js";import{a as A}from"./toasts-CuGasqAw.js";import{_ as G}from"./AppLayout-87RcXYcZ.js";import z from"./Index-Di-WJEOV.js";import F from"./Channels-DD9xrrSr.js";import"./index-DlFiB3pU.js";import"./index-D5CgJXF3.js";import"./index-DN2kR7X1.js";import"./index-DezTeqGa.js";import"./index-Dy64Go6f.js";import"./index-D_hKroK3.js";import"./index-DOAlKc5-.js";import"./index-_fKLtZkn.js";import"./index-B-zf97Ju.js";import"./index-CwjnJyHF.js";import"./index-SyytSOSa.js";import"./index-DqaSB1I4.js";import"./index-jxIh2S7Z.js";import"./useCommonUtilities-DO03hYfs.js";import"./moment-Cijl8gKs.js";import"./postcss-DtLGivae.js";import"./index-CCK5enAg.js";import"./index-Bc-LNnc_.js";import"./index-CioyZBS2.js";import"./index-k6XpbdF8.js";const E={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},I={__name:"PaymentMethods",setup(v){const{toast:a}=A(),s=f(!1),y={action:()=>{t.reset(),s.value=!0}},i=f([]),_=[{header:"Nombre",field:"name",filter:!0},{header:"Porcentaje de Pago",field:"parcent_charge",filter:!0,format:e=>e+"%"}],c=[{action:e=>{s.value=!0,t.name=e.name,t.parcent_charge=e.parcent_charge,t.id=e.id},severity:"secondary",icon:"fa-solid fa-pencil text-sm"},{action:(e,r)=>{t.delete(route("paymentMethods.destroy",e.id),{onSuccess:()=>{u(),a("success","Metodo de pago eliminado correctamente")}})},show:P().props.auth.user.rol=="admin",severity:"danger",icon:"fa-regular fa-trash-can text-sm"}],t=S({id:null,name:"",parcent_charge:0,description:""}),x=f([]),u=()=>{C.get(route("paymentMethods.index")).then(e=>{x.value=e.data}).catch(e=>{console.log(e)})};u();const w=()=>{if(t.id){t.put(route("paymentMethods.update",t.id),{onSuccess:()=>{s.value=!1,u(),a("success","Metodo de pago actualizado correctamente")}});return}t.post(route("paymentMethods.store"),{onSuccess:()=>{s.value=!1,u(),a("success","Metodo de pago creado correctamente")}})};return(()=>{C.get(route("paymentMethods.index")).then(e=>{i.value=e.data}).catch(e=>{console.log(e)})})(),(e,r)=>{const b=V;return l(),m(k,null,[o(B,{add:y,data:x.value,columnas:_,actions:c},null,8,["data"]),o($,{modelValue:s.value,"onUpdate:modelValue":r[3]||(r[3]=d=>s.value=d),title:"Crear Metodo de Pago","close-on-escape":!0},{footer:h(()=>[o(b,{onClick:w,title:"Save",severity:"success",label:"Save",outlined:"",icon:"fa-solid fa-save",class:"!h-8"}),o(b,{onClick:r[2]||(r[2]=d=>s.value=!1),title:"Cancel",severity:"danger",label:"Cancel",outlined:"",icon:"fa-solid fa-times",class:"!h-8"})]),default:h(()=>[n("div",E,[o(g,{label:"Nombre",modelValue:p(t).name,"onUpdate:modelValue":r[0]||(r[0]=d=>p(t).name=d)},null,8,["modelValue"]),o(g,{label:"Porcentaje de pago",type:"number",suffix:" %","min-fraction-digits":"0","max-fraction-digits":"2",modelValue:p(t).parcent_charge,"onUpdate:modelValue":r[1]||(r[1]=d=>p(t).parcent_charge=d)},null,8,["modelValue"])])]),_:1},8,["modelValue"])],64)}}},L={class:"p-4"},T={"data-aos":"flip-down","data-aos-duration":"1000",class:"bg-white p-2 rounded-lg shadow-lg"},q={class:"w-full bg-gray-200 rounded-md p-2 grid grid-cols-2 divide-y-2 md:flex space-x-2"},H=["onClick"],J={key:1,class:"p-4"},K={class:"flex justify-end mt-4"},O={key:2},Q={key:3},Ve={__name:"Index",props:{users:{type:Array,default:[]},permisos:Array},setup(v){const a=f(1),s=[{name:"Métodos de Pago",value:1},{name:"Usuarios",value:2},{name:"Canales",value:4},{name:"Tasas",value:3}];return(y,i)=>{const _=V;return l(),M(G,{title:"Configuración General"},{default:h(()=>[n("div",L,[i[1]||(i[1]=n("h1",{class:"text-xl font-extrabold"},"Configuración General",-1)),n("div",T,[n("div",q,[(l(),m(k,null,N(s,c=>n("div",{onClick:t=>a.value=c.value,class:j(["w-full rounded-lg text-center py-2 text-sm md:text-md cursor-pointer",a.value==c.value?"bg-white":"hover:bg-white/30"])},D(c.name),11,H)),64))]),a.value==1?(l(),M(I,{key:0})):a.value==3?(l(),m("div",J,[i[0]||(i[0]=n("h1",{class:"text-xl font-extrabold"},"Dolar",-1)),o(g,{type:"number",label:"Valor del Dolar"}),n("div",K,[o(_,{label:"Guardar",severity:"success",class:"!h-9 justify-end"})])])):a.value==2?(l(),m("div",O,[o(z,{users:v.users,permisos:v.permisos},null,8,["users","permisos"])])):a.value==4?(l(),m("div",Q,[o(F)])):U("",!0)])])]),_:1})}}};export{Ve as default};
