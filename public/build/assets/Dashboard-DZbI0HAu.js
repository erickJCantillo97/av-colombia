import{s as E}from"./index-Bj3SUI-e.js";import{D,C as T,e as H,f as b,o as c,r as z,b as n,E as I,ao as q,ap as Q,d as p,x as W,c as _,w as g,a as t,h as C,t as y,g as A,u as d,m as J,aq as K,F as M,i as X,A as Y}from"./app-DVDc2VVL.js";import{_ as Z,s as ee}from"./Datatable-DAPxlWsK.js";import{s as te}from"./index-D56pWx3k.js";import{a as U,s as j}from"./index-B58lX-_G.js";import{_ as oe}from"./AppLayout-X1Q8dtyZ.js";import"./Scheduler-CSh5gIkp.js";import{_ as se,a as le}from"./Notas-C4UueTRT.js";import{s as ae}from"./postcss-Ofiizuxo.js";import{_ as re}from"./Modal-y1c88ivd.js";import{_ as O}from"./Input-0j-kOQL_.js";import"./index-C-b9iog_.js";import"./index-BzId_K-8.js";import"./index-BUIOyHLV.js";import"./index-Cj8O1rHK.js";import"./index-B-0FB-YV.js";import"./index-eBtkqy6P.js";import"./index-S36_00bQ.js";import"./index-C0eybmJC.js";import"./index-BLMMSzX1.js";import"./index-CbVYCAvC.js";import"./index-D2GhmivY.js";import"./index-CYk1KvJM.js";import"./index-BhYlSwCg.js";import"./useCommonUtilities-BgDhORlD.js";import"./index-CvOssTdV.js";import"./index-BAUyolfE.js";import"./marked.esm-BPgSS2IS.js";import"./Auth-CFiYs_MW.js";import"./index-lp0kaIHI.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./sweetalert2.all-DPKCRGvl.js";import"./toasts-Bx6Glvl7.js";import"./Service-DUaW4sx-.js";import"./Toats-B8gGEYe4.js";import"./searchStore-Di2rJ9Ig.js";import"./logo-CgK74E_r.js";import"./Loading-NpuWMJqV.js";import"./postcss-DEVRhkwf.js";import"./index-BudFJz3q.js";import"./index-Bf-CqEE0.js";import"./index-DpAf9UO9.js";var ne=D.extend({name:"columngroup"}),ie={name:"BaseColumnGroup",extends:E,props:{type:{type:String,default:null}},style:ne,provide:function(){return{$pcColumnGroup:this,$parentInstance:this}}},de={name:"ColumnGroup",extends:ie,inheritAttrs:!1,inject:["$columnGroups"],mounted:function(){var a;(a=this.$columnGroups)===null||a===void 0||a.add(this.$)},unmounted:function(){var a;(a=this.$columnGroups)===null||a===void 0||a.delete(this.$)},render:function(){return null}},ue=T`
    .p-overlaybadge {
        position: relative;
    }

    .p-overlaybadge .p-badge {
        position: absolute;
        inset-block-start: 0;
        inset-inline-end: 0;
        transform: translate(50%, -50%);
        transform-origin: 100% 0;
        margin: 0;
        outline-width: dt('overlaybadge.outline.width');
        outline-style: solid;
        outline-color: dt('overlaybadge.outline.color');
    }

    .p-overlaybadge .p-badge:dir(rtl) {
        transform: translate(-50%, -50%);
    }
`,pe={root:"p-overlaybadge"},ce=D.extend({name:"overlaybadge",style:ue,classes:pe}),me={name:"OverlayBadge",extends:U,style:ce,provide:function(){return{$pcOverlayBadge:this,$parentInstance:this}}},L={name:"OverlayBadge",extends:me,inheritAttrs:!1,components:{Badge:U}};function ve(s,a,x,$,l,f){var m=H("Badge");return c(),b("div",I({class:s.cx("root")},s.ptmi("root")),[z(s.$slots,"default"),n(m,I(s.$props,{pt:s.ptm("pcBadge")}),null,16,["pt"])],16)}L.render=ve;var fe={name:"Row",extends:E,inject:["$rows"],mounted:function(){var a;(a=this.$rows)===null||a===void 0||a.add(this.$)},unmounted:function(){var a;(a=this.$rows)===null||a===void 0||a.delete(this.$)},render:function(){return null}};const ge={class:"text-lg"},ye={class:"font-bold uppercase"},be={class:"font-bold uppercase"},xe={class:"mt-4"},$e={key:0},Ve={class:"flex w-full justify-between gap-x-4"},_e={class:"flex flex-col gap-y-4"},Ce={class:"flex justify-between my-4"},he={for:"",class:"w-full font-bold"},Ae={class:"flex gap-4 justify-between text-md"},we={class:"flex items-center gap-2"},Oe={class:"flex items-center gap-2"},Be={class:"flex items-center gap-2"},ke={key:1,class:"flex flex-col gap-y-2 my-4"},Pe={class:"grid grid-cols-4 font-semibold gap-x-6 border-b-4"},Se={class:"flex justify-end gap-x-4"},Ne={__name:"Completar",props:q({service:Object},{modelValue:!0,modelModifiers:{}}),emits:["update:modelValue"],setup(s){const a=s,x=Q(s,"modelValue",!0),$=p("COMPLETADA"),l=W({saldoPagado:"AV COLOMBIA",status:"COMPLETADA",service_id:a.service.id,conductor:"",placa:"",value:"",extras:[]}),f=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0});function m(){l.extras=a.service.extras.map(v=>({id:v.id,cantidad:v.cantidad,description:v.description,unit_cost:v.unit_cost}))}m();const h=()=>{l.status=$.value,l.post(route("completar.reserva")),l.reset(),x.value=!1};return(v,e)=>{const V=ae,w=j,B=K;return c(),_(re,{modelValue:x.value,"onUpdate:modelValue":e[6]||(e[6]=o=>x.value=o),title:"Completar Servicio","close-on-escape":""},{footer:g(()=>[t("div",Se,[n(w,{label:"Completar Servicio",severity:"success",onClick:h,icon:"fa-solid fa-save"}),n(w,{label:"Cancelar",severity:"danger",icon:"fa-solid fa-xmark"})])]),default:g(()=>[t("h2",ge,[e[7]||(e[7]=C(" Completar servicio de ")),t("span",ye,y(s.service.cliente_name),1),e[8]||(e[8]=C(" para ")),t("span",be,y(s.service.service)+" Sin novedad",1),e[9]||(e[9]=C(". "))]),t("div",xe,[s.service.service_type=="TRANSFER"||s.service.proveedors.find(o=>o.proveedor_id==="9e602dc8-08e0-42f4-bbb2-1eed02652372")?(c(),b("div",$e,[t("div",Ve,[n(O,{label:"Nombre del Conductor",modelValue:d(l).conductor,"onUpdate:modelValue":e[0]||(e[0]=o=>d(l).conductor=o),type:"text",placeholder:"Nombre del conductor",class:"w-full"},null,8,["modelValue"]),n(O,{label:"Placa del Vehiculo",modelValue:d(l).placa,"onUpdate:modelValue":e[1]||(e[1]=o=>d(l).placa=o),type:"text",placeholder:"Placa del Vehiculo",class:"w-full"},null,8,["modelValue"]),n(O,{label:"Valor del Servicio",modelValue:d(l).value,"onUpdate:modelValue":e[2]||(e[2]=o=>d(l).value=o),type:"text",placeholder:"Valor del Servicio",class:"w-full"},null,8,["modelValue"])])])):A("",!0),t("div",_e,[t("div",Ce,[t("label",he,"Saldo Pagado ("+y(d(f).format(s.service.saldo))+")",1),t("div",Ae,[t("div",we,[n(V,{modelValue:d(l).saldoPagado,"onUpdate:modelValue":e[3]||(e[3]=o=>d(l).saldoPagado=o),inputId:"AV COLOMBIA",name:"AV COLOMBIA",value:"AV COLOMBIA",size:"small"},null,8,["modelValue"]),e[10]||(e[10]=t("label",{for:"AV COLOMBIA",class:"text-nowrap cursor-pointer"},"AV COLOMBIA",-1))]),t("div",Oe,[n(V,{modelValue:d(l).saldoPagado,"onUpdate:modelValue":e[4]||(e[4]=o=>d(l).saldoPagado=o),inputId:"proveedor",name:"proveedor",value:"proveedor",size:"small"},null,8,["modelValue"]),e[11]||(e[11]=t("label",{for:"proveedor",class:"cursor-pointer uppercase"},"Proveedor",-1))]),t("div",Be,[n(V,{modelValue:d(l).saldoPagado,"onUpdate:modelValue":e[5]||(e[5]=o=>d(l).saldoPagado=o),inputId:"NoPagado",class:"cursor-pointer text-red-500",name:"NoPagado",value:"NoPagado",size:"small"},null,8,["modelValue"]),e[12]||(e[12]=t("label",{for:"NoPagado",class:"cursor-pointer uppercase text-nowrap text-red-500"},"No Pagado",-1))])])])]),s.service.extras.length>0?(c(),b("div",ke,[e[17]||(e[17]=t("h1",{class:"text-lg font-bold text-center"},"Servicio Extras",-1)),t("div",Pe,[e[14]||(e[14]=t("p",null,"Cantidad",-1)),e[15]||(e[15]=t("p",null,"Nombre",-1)),J((c(),b("p",null,e[13]||(e[13]=[C("Costo Unitario")]))),[[B,"Cuanto pagaste",void 0,{top:!0}]]),e[16]||(e[16]=t("p",null,"Total",-1))]),(c(!0),b(M,null,X(d(l).extras,o=>(c(),b("div",{key:o.id,class:"grid grid-cols-4 border-b justify-center items-center gap-x-6"},[t("p",null,y(o.cantidad),1),t("p",null,y(o.description),1),n(O,{type:"number",modelValue:o.unit_cost,"onUpdate:modelValue":k=>o.unit_cost=k,mode:"currency"},null,8,["modelValue","onUpdate:modelValue"]),t("span",null,y(d(f).format(o.cantidad*o.unit_cost)),1)]))),128))])):A("",!0)])]),_:1},8,["modelValue"])}}},Ie={class:"py-4"},Ee={class:"w-full mx-auto sm:px-1 lg:px-4 space-y-2"},De={class:"bg-white overflow-hidden sm:rounded-lg flex justify-between items-center px-1"},Me={class:"uppercase"},Ue=["href"],je={class:"flex w-full justify-between font-bold text-xl items-center"},Le={class:"shadow-xl rounded-lg p-1 h-[85vh]"},Bt={__name:"Dashboard",setup(s){p([]);const a=p([]),x=p("");p(0);const $=p([]);p();const l=p(!1),f=p(!1),m=p({}),h=p(!1),v=p([new Date,new Date]),e=async()=>{const{data:r}=await Y.get(route("get.all.booking.services.dates",{dates:v.value}));$.value=r.bookingServices},V=r=>{m.value=$.value.find(i=>i.id==r.id),h.value=!0};e();const w=[{label:"Compeltar Servicio",action:r=>{m.value=r,f.value=!0},icon:"fa-solid fa-circle-check text-sm",severity:"success"},{label:"Notas",severity:"secondary",action:r=>{m.value=r,l.value=!0},badge:r=>r.notes,icon:"fa-solid fa-note-sticky text-sm"}],B=[{field:"cliente_name",header:"Nombre del pasajero",filter:!0,sortable:!0},{field:"adults",header:"Pasajeros",filter:!0,sortable:!0,type:"html-custom",renderer:r=>`
      <div class="flex flex-col text-right text-sm items-center">
        <span class="text-center font-bold">Adultos: ${r.adults}</span>
        <span class="text-center">Ni√±os: ${r.boys}</span>
        </div>
      `},{field:"service",header:"Actividad",filter:!0,sortable:!0},{field:"proveedors_names",header:"proveedores",class:"text-center font-semibold text-sm",filter:!0},{field:"cliente_building",header:"Edificio",filter:!0,sortable:!0},{field:"cliente_phone",header:"Telefono",filter:!0,sortable:!0,type:"html-custom",renderer:r=>`<a target="_blank" href="https://wa.me/${r.cliente_phone}?text=Hola  mucho gusto yo soy Sandra la coordinadora de su actividad 
              Hello, nice to talk to you  I'm Sandra the coordinator for  your activity">${r.cliente_phone}</a>`},{field:"hour",header:"Hora",filter:!0,sortable:!0},{field:"status",header:"Estado",filter:!0,sortable:!0,type:"tag",filtertype:"EQUALS",class:"text-center uppercase",severitys:[{text:"RESERVADO",severity:"info",class:""},{text:"CAMBIO DE FECHA",class:"bg-gray-200 font-bold"},{text:"COMPLETADA",class:""},{text:"NO SHOW",severity:"warn",class:""},{text:"REUBICADO",severity:"warn",class:""},{text:"CANCELADA",severity:"danger",class:"animate-pulse"},{text:"PROBLEMATICA",severity:"danger",class:"animate-pulse"},{text:"SIN CONFIRMAR",severity:"danger"}]}],o=p([]),k=r=>{o.value=r};return(r,i)=>{const P=j,R=te,N=ee,F=fe,G=de;return c(),b(M,null,[n(oe,{title:"Dashboard"},{default:g(()=>[t("div",Ie,[t("div",Ee,[t("div",De,[t("h1",null,[i[4]||(i[4]=C(" Hola ")),t("strong",Me,y(r.$page.props.auth.user.name),1),i[5]||(i[5]=C(", Bienvenido a tu panel de control "))]),t("a",{target:"_blank",href:`https://vendedores-site.netlify.app/${r.$page.props.auth.user.id}`},[n(P,{label:"Ver Portafolio"})],8,Ue)]),t("div",je,[i[6]||(i[6]=t("p",null,"Actividades",-1)),n(R,{modelValue:v.value,"onUpdate:modelValue":i[0]||(i[0]=u=>v.value=u),selectionMode:"range",dateFormat:"dd/mm/yy",manualInput:!1,onValueChange:e},null,8,["modelValue"])]),t("div",Le,[n(Z,{columnas:B,rowClass:!0,data:$.value,actions:w,onFilterApply:k},{actions:g(({data:u})=>[u.extras.length==0?(c(),_(P,{key:0,onClick:S=>V(u),severity:"info",text:"",class:"p-button-sm",icon:"fa-solid fa-circle-info text-sm"},null,8,["onClick"])):(c(),_(d(L),{key:1,severity:"danger"},{default:g(()=>[n(P,{onClick:S=>V(u),severity:"info",text:"",class:"p-button-sm",icon:"fa-solid fa-circle-info text-sm"},null,8,["onClick"])]),_:2},1024))]),groupRows:g(()=>[n(G,{type:"footer"},{default:g(()=>[n(F,null,{default:g(()=>[n(N,{footer:"Pasajeros:",colspan:0,footerStyle:"text-align:right"}),n(N,{footer:o.value.reduce((u,S)=>u+S.adults,0)},null,8,["footer"])]),_:1})]),_:1})]),_:1},8,["data"])])])])]),_:1}),m.value?(c(),_(se,{key:0,modelValue:h.value,"onUpdate:modelValue":i[1]||(i[1]=u=>h.value=u),service:m.value},null,8,["modelValue","service"])):A("",!0),l.value?(c(),_(le,{key:1,modelValue:l.value,"onUpdate:modelValue":i[2]||(i[2]=u=>l.value=u),notes:a.value,note:x.value,service:m.value},null,8,["modelValue","notes","note","service"])):A("",!0),f.value?(c(),_(Ne,{key:2,modelValue:f.value,"onUpdate:modelValue":i[3]||(i[3]=u=>f.value=u),service:m.value},null,8,["modelValue","service"])):A("",!0)],64)}}};export{Bt as default};
