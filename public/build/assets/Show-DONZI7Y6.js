import{_ as O}from"./AppLayout-BVKqwruK.js";import{d as k,A as P,R,f as c,o as l,b as d,w as m,a as e,g as u,t as o,i as x,h as r,c as U,F as g,j as h,V as w,I as p}from"./app-DA49k7aa.js";import{s as V}from"./index-Hud1mXB4.js";import{a as C,s as v}from"./index-DSZazqBx.js";import{M as E}from"./Modal-CnqZ0sfH.js";import{_ as D}from"./Input-CNANi_D4.js";import"./marked.esm-BPgSS2IS.js";import"./Auth-DTjQPZwK.js";/* empty css                                                             */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-B3RgQQ2d.js";import"./index-C1D_ciRH.js";import"./index-CJ0hSStr.js";import"./index-DZSqzO9O.js";import"./index-BR18MbD9.js";import"./index-Bao5XXWc.js";import"./index-Bql1hNYi.js";import"./index-DIUQ2SKR.js";import"./index-DSNMTk8R.js";import"./index-D1NAeFZn.js";import"./index-DfGwyjRf.js";import"./index-Ck8eQdmw.js";import"./index-BUnQn-0D.js";import"./index-DtQNzBYi.js";import"./index-ZGotCUcA.js";import"./index-mVDPyz0s.js";import"./index-oVRh-dmO.js";import"./index-klrsLYTr.js";import"./index-B2JQizyt.js";import"./index-CazGrU1F.js";import"./index-DzrArW-b.js";import"./useCommonUtilities-BgDhORlD.js";import"./postcss-CU2QTtWd.js";import"./postcss-CSgI4x2Q.js";const I={class:"h-[90vh] md:h-[99vh] overflow-y-auto"},M={class:"max-w-6xl mx-auto p-6 space-y-6"},z={class:"bg-white rounded-lg shadow-lg overflow-hidden"},H={class:"p-6"},L={class:"flex justify-between items-start mb-4"},q={class:"text-3xl font-bold text-gray-900 mb-2"},T={class:"flex items-center space-x-4 text-gray-600"},G={class:"flex items-center"},J={class:"flex items-center"},K={class:"ml-2"},Q={key:0,class:"flex items-center"},W={class:"text-right"},X={class:"text-2xl font-bold text-green-600"},Y={class:"flex space-x-4"},Z={class:"bg-white rounded-lg shadow-lg p-6"},ee={class:"text-gray-700 leading-relaxed"},te={key:0,class:"bg-white rounded-lg shadow-lg p-6"},se={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},ae=["src","alt"],oe={key:1,class:"bg-white rounded-lg shadow-lg p-6"},ie={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"},le={class:"bg-white rounded-lg shadow-lg p-6"},de={class:"space-y-4"},ne={class:"grid grid-cols-1 md:grid-cols-4 gap-4 items-center"},ce={class:"md:col-span-2"},re={class:"font-semibold text-lg mb-2"},me={class:"text-gray-600 text-sm mb-2"},ue={class:"flex items-center space-x-4 text-sm text-gray-500"},ge={class:"text-center"},ve={class:"text-2xl font-bold text-green-600"},fe={class:"text-center"},he={class:"bg-white rounded-lg shadow-lg p-6"},be={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},xe={class:"flex items-center space-x-2"},pe={class:"flex items-center space-x-2"},_e={class:"flex items-center space-x-2"},ye={key:2,class:"bg-white rounded-lg shadow-lg p-6"},ke={class:"space-y-4"},we={class:"flex justify-between items-start mb-2"},Ve={class:"font-medium"},Ce={class:"text-sm text-gray-500"},De={class:"text-gray-700"},Be={class:"space-y-4"},Se={class:"grid grid-cols-2 gap-4"},Fe={class:"grid grid-cols-2 gap-4"},mt={__name:"Show",props:{accommodation:Object},setup(a){const b=a,f=k(!1),i=k({check_in_date:null,check_out_date:null,guests_adults:2,guests_children:0}),B=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:0}),_=n=>B.format(n),S=n=>new Date(n).toLocaleDateString("es-CO"),F=n=>{switch(n){case"publicado":return"success";case"borrador":return"warning";case"inactivo":return"danger";default:return"info"}},N=P(()=>{const n=R().props.auth.user;return n&&(n.id===b.accommodation.user_id||n.rol==="admin"||n.rol==="superadmin")}),A=()=>{p.visit(route("accommodations.edit",b.accommodation.id))},y=()=>{f.value=!0},$=()=>{if(!i.value.check_in_date||!i.value.check_out_date){alert("Por favor selecciona las fechas de entrada y salida");return}p.visit(route("booking-accommodations.search"),{method:"get",data:{accommodation_id:b.accommodation.id,check_in_date:i.value.check_in_date,check_out_date:i.value.check_out_date,guests_adults:i.value.guests_adults,guests_children:i.value.guests_children}})},j=n=>{if(!i.value.check_in_date||!i.value.check_out_date){y();return}p.visit(route("booking-accommodations.create"),{method:"get",data:{room_id:n.id,check_in:i.value.check_in_date,check_out:i.value.check_out_date,adults:i.value.guests_adults,children:i.value.guests_children}})};return(n,t)=>(l(),c(g,null,[d(O,{title:a.accommodation.name},{default:m(()=>[e("div",I,[e("div",M,[e("div",z,[e("div",H,[e("div",L,[e("div",null,[e("h1",q,o(a.accommodation.name),1),e("div",T,[e("span",G,[t[6]||(t[6]=e("i",{class:"fa-solid fa-map-marker-alt mr-1"},null,-1)),x(" "+o(a.accommodation.city)+", "+o(a.accommodation.country),1)]),e("span",J,[d(r(V),{"model-value":a.accommodation.star_rating,readonly:"",cancel:!1},null,8,["model-value"]),e("span",K,"("+o(a.accommodation.star_rating)+" estrellas)",1)]),a.accommodation.average_rating?(l(),c("span",Q,[t[7]||(t[7]=e("i",{class:"fa-solid fa-star text-yellow-500 mr-1"},null,-1)),x(" "+o(a.accommodation.average_rating.toFixed(1))+"/5 ("+o(a.accommodation.reviews.length)+" reseñas) ",1)])):u("",!0)])]),e("div",W,[e("div",X," Desde "+o(_(a.accommodation.min_price))+"/noche ",1),d(r(C),{value:a.accommodation.status,severity:F(a.accommodation.status)},null,8,["value","severity"])])]),e("div",Y,[N.value?(l(),U(r(v),{key:0,onClick:A,icon:"fa-solid fa-edit",label:"Editar",severity:"info",outlined:""})):u("",!0),d(r(v),{onClick:y,icon:"fa-solid fa-search",label:"Buscar Disponibilidad",severity:"success"})])])]),e("div",Z,[t[8]||(t[8]=e("h2",{class:"text-xl font-semibold mb-4"},"Descripción",-1)),e("p",ee,o(a.accommodation.description),1)]),a.accommodation.photos&&a.accommodation.photos.length>0?(l(),c("div",te,[t[9]||(t[9]=e("h2",{class:"text-xl font-semibold mb-4"},"Fotos",-1)),e("div",se,[(l(!0),c(g,null,h(a.accommodation.photos,s=>(l(),c("div",{key:s.id,class:"aspect-square bg-gray-200 rounded-lg overflow-hidden"},[e("img",{src:s.url,alt:a.accommodation.name,class:"w-full h-full object-cover"},null,8,ae)]))),128))])])):u("",!0),a.accommodation.amenities&&a.accommodation.amenities.length>0?(l(),c("div",oe,[t[11]||(t[11]=e("h2",{class:"text-xl font-semibold mb-4"},"Servicios y Amenidades",-1)),e("div",ie,[(l(!0),c(g,null,h(a.accommodation.amenities,s=>(l(),c("div",{key:s.id,class:"flex items-center space-x-2 text-gray-700"},[t[10]||(t[10]=e("i",{class:"fa-solid fa-check text-green-500"},null,-1)),e("span",null,o(s.name),1)]))),128))])])):u("",!0),e("div",le,[t[14]||(t[14]=e("h2",{class:"text-xl font-semibold mb-4"},"Habitaciones Disponibles",-1)),e("div",de,[(l(!0),c(g,null,h(a.accommodation.rooms,s=>(l(),c("div",{key:s.id,class:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow"},[e("div",ne,[e("div",ce,[e("h3",re,o(s.name),1),e("p",me,o(s.description),1),e("div",ue,[e("span",null,[t[12]||(t[12]=e("i",{class:"fa-solid fa-users mr-1"},null,-1)),x(" "+o(s.capacity_adults)+" adultos, "+o(s.capacity_children)+" niños ",1)]),d(r(C),{value:s.is_available?"Disponible":"No Disponible",severity:s.is_available?"success":"danger"},null,8,["value","severity"])])]),e("div",ge,[e("div",ve,o(_(s.price_per_night)),1),t[13]||(t[13]=e("div",{class:"text-sm text-gray-500"},"por noche",-1))]),e("div",fe,[d(r(v),{onClick:Ne=>j(s),disabled:!s.is_available,icon:"fa-solid fa-calendar-check",label:"Reservar",severity:"success"},null,8,["onClick","disabled"])])])]))),128))])]),e("div",he,[t[18]||(t[18]=e("h2",{class:"text-xl font-semibold mb-4"},"Información de Contacto",-1)),e("div",be,[e("div",xe,[t[15]||(t[15]=e("i",{class:"fa-solid fa-envelope text-gray-500"},null,-1)),e("span",null,o(a.accommodation.contact_email),1)]),e("div",pe,[t[16]||(t[16]=e("i",{class:"fa-solid fa-phone text-gray-500"},null,-1)),e("span",null,o(a.accommodation.contact_phone),1)]),e("div",_e,[t[17]||(t[17]=e("i",{class:"fa-solid fa-map-marker-alt text-gray-500"},null,-1)),e("span",null,o(a.accommodation.address_line_1)+", "+o(a.accommodation.city)+", "+o(a.accommodation.state),1)])])]),a.accommodation.reviews&&a.accommodation.reviews.length>0?(l(),c("div",ye,[t[19]||(t[19]=e("h2",{class:"text-xl font-semibold mb-4"},"Reseñas de Huéspedes",-1)),e("div",ke,[(l(!0),c(g,null,h(a.accommodation.reviews,s=>(l(),c("div",{key:s.id,class:"border-b border-gray-200 pb-4 last:border-b-0"},[e("div",we,[e("div",null,[e("h4",Ve,o(s.user.name),1),d(r(V),{"model-value":s.rating,readonly:"",cancel:!1,class:"text-sm"},null,8,["model-value"])]),e("span",Ce,o(S(s.created_at)),1)]),e("p",De,o(s.comment),1)]))),128))])])):u("",!0)])])]),_:1},8,["title"]),d(E,{visible:f.value,"onUpdate:visible":t[5]||(t[5]=s=>f.value=s)},{title:m(()=>[...t[20]||(t[20]=[e("span",{class:"text-xl font-bold"},"Buscar Disponibilidad",-1)])]),icon:m(()=>[...t[21]||(t[21]=[e("i",{class:"fa-solid fa-search"},null,-1)])]),footer:m(()=>[d(r(v),{onClick:$,label:"Buscar",icon:"fa-solid fa-search",severity:"success"}),d(r(v),{onClick:t[4]||(t[4]=s=>f.value=!1),label:"Cancelar",severity:"secondary",outlined:""})]),default:m(()=>[e("div",Be,[e("div",Se,[e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Check-in",-1)),d(r(w),{modelValue:i.value.check_in_date,"onUpdate:modelValue":t[0]||(t[0]=s=>i.value.check_in_date=s),"min-date":new Date,teleport:!0,"auto-apply":"","enable-time-picker":!1,timezone:"America/Bogota"},null,8,["modelValue","min-date"])]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Check-out",-1)),d(r(w),{modelValue:i.value.check_out_date,"onUpdate:modelValue":t[1]||(t[1]=s=>i.value.check_out_date=s),"min-date":i.value.check_in_date,teleport:!0,"auto-apply":"","enable-time-picker":!1,timezone:"America/Bogota"},null,8,["modelValue","min-date"])])]),e("div",Fe,[d(D,{label:"Adultos",modelValue:i.value.guests_adults,"onUpdate:modelValue":t[2]||(t[2]=s=>i.value.guests_adults=s),type:"number",min:"1"},null,8,["modelValue"]),d(D,{label:"Niños",modelValue:i.value.guests_children,"onUpdate:modelValue":t[3]||(t[3]=s=>i.value.guests_children=s),type:"number",min:"0"},null,8,["modelValue"])])])]),_:1},8,["visible"])],64))}};export{mt as default};
