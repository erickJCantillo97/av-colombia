import{s as j}from"./index-B2ccAZeo.js";import{a as B,s as P}from"./index-DWA78wxi.js";import{P as M,Q as T,d as v,f as d,o as p,b as n,w as f,a as t,g as V,F as A,j as E,t as b,I as L}from"./app-Cr-F_cDA.js";import"./index-Cn4OZ8pt.js";import"./index-DCokI89a.js";import"./index-Bs-P0Fz6.js";import"./index-Dn_g2hcu.js";import"./index-B0rVAZr_.js";import"./index-BXwg8W4a.js";const N={class:"card"},R={class:"flex flex-wrap justify-between items-center flex-1 gap-4"},q={class:"flex gap-2"},Q={class:"flex flex-col gap-8 pt-4"},D={key:0},O={class:"flex flex-wrap gap-4"},G=["alt","src"],H={class:"font-semibold text-ellipsis max-w-60 whitespace-nowrap overflow-hidden"},ae={__name:"FileSelection",props:{service:{type:Object},route:{type:String,required:!1,default:null}},setup(h){const y=h.route,S=M(),k=T(),m=v(0),z=v(0),g=v([]),w=(s,e,l)=>{e(l),m.value-=parseInt(u(s.size)),z.value=m.value/10},F=s=>{g.value=s.files,g.value.forEach(e=>{m.value+=parseInt(u(e.size))})},C=s=>{s()},$=()=>{k.add({severity:"info",summary:"Success",detail:"File Uploaded",life:3e3})},u=s=>{const r=S.config.locale.fileSizeTypes;if(s===0)return`0 ${r[0]}`;const c=Math.floor(Math.log(s)/Math.log(1024));return`${parseFloat((s/Math.pow(1024,c)).toFixed(3))} ${r[c]}`},U=s=>{let e=s.files;L.post(y,{images:e},{onSuccess:()=>{alert("Imagenes subidas correctamente")}})};return(s,e)=>{const l=P,r=B,c=j;return p(),d("div",N,[n(c,{name:"demo[]",customUpload:"",onUpload:e[0]||(e[0]=a=>$()),multiple:!0,accept:"image/*",maxFileSize:1e6,onUploader:U,onSelect:F},{header:f(({chooseCallback:a,uploadCallback:x,clearCallback:_,files:i})=>[t("div",R,[t("div",q,[n(l,{onClick:o=>a(),icon:"pi pi-images",size:"small",severity:"primary",label:"Seleccionar"},null,8,["onClick"]),n(l,{label:"Subir",onClick:o=>C(x),icon:"pi pi-cloud-upload",size:"small",severity:"success",disabled:!i||i.length===0},null,8,["onClick","disabled"]),n(l,{label:"Limpiar",onClick:o=>_(),icon:"pi pi-times",size:"small",severity:"danger",disabled:!i||i.length===0},null,8,["onClick","disabled"])]),e[1]||(e[1]=t("h1",{class:"text-lg font-bold"},"Subir Imagenes",-1))])]),content:f(({files:a,uploadedFiles:x,removeUploadedFileCallback:_,removeFileCallback:i})=>[t("div",Q,[a.length>0?(p(),d("div",D,[e[2]||(e[2]=t("h5",null,"Pending",-1)),t("div",O,[(p(!0),d(A,null,E(a,(o,I)=>(p(),d("div",{key:o.name+o.type+o.size,class:"p-8 rounded-border flex flex-col border border-surface items-center gap-4"},[t("div",null,[t("img",{role:"presentation",alt:o.name,src:o.objectURL,width:"100",height:"50"},null,8,G)]),t("span",H,b(o.name),1),t("div",null,b(u(o.size)),1),n(r,{value:"Pending",severity:"warn"}),n(l,{icon:"pi pi-times",onClick:K=>w(o,i,I),outlined:"",rounded:"",severity:"danger"},null,8,["onClick"])]))),128))])])):V("",!0)])]),empty:f(()=>[...e[3]||(e[3]=[t("div",{class:"flex items-center justify-center flex-col"},[t("i",{class:"pi pi-cloud-upload !border-2 !rounded-full !p-8 !text-xl !text-muted-color"}),t("p",{class:"mt-6 mb-0"},"Arrastrar y soltar Imagenes AQUI.")],-1)])]),_:1})])}}};export{ae as default};
