import{s as C}from"./index-D5T3EIJ4.js";import{e9 as w,f6 as U,d as p,C as x,f as N,a as n,b as t,w as m,u as r,F as S,W as R,o as T,h as A,t as D}from"./app-DwTy7f8g.js";import{_ as E}from"./Datatable-DYEz5meU.js";import{s as I}from"./index-CTxL2Ti-.js";import{_,a as i}from"./Modal-B5Mv9mmk.js";import"./index-C4a9M-DG.js";import"./index-3gSgMjnZ.js";import"./index-BkO7eLF1.js";import"./index-bLwz5FDh.js";import"./index-DkDBHK1P.js";import"./index-Dl5no1VJ.js";import"./index-BBgbHrQw.js";import"./index-HKNbkM28.js";import"./postcss-BTpLveTN.js";import"./index-TSVaeKX_.js";import"./index-Csxd6fBC.js";import"./index-CKeGAvOi.js";import"./index-SS5AVIr2.js";import"./useCommonUtilities-DO03hYfs.js";import"./moment-Cijl8gKs.js";import"./index-ez2U5fv7.js";import"./index-BOJShUs1.js";import"./index-CJ-xr3I8.js";const $={class:"h-[99vh]"},k={class:"space-y-3"},se={__name:"Index",props:{users:Array},setup(c){const f=[{header:"Nombre",field:"name",filter:!0},{header:"Correo",field:"email",filter:!0},{header:"Creación",field:"created_at",type:"datetime",filter:!0},{header:"URL Portafolio",field:"url"}],b=w(),v=U(),u=p(!1),e=x({id:null,name:"",email:"",password:"",rol:"",password_confirmation:""}),l=p(!1),V={action:()=>{e.reset(),u.value=!1,l.value=!0}},g=[{action:s=>{e.reset(),l.value=!0,u.value=!0,e.name=s.name,e.email=s.email,console.log(s.rol),e.rol=s.rol,e.id=s.id},severity:"secondary",icon:"fa-solid fa-pencil text-sm"},{action:(s,o)=>{v.require({target:o.currentTarget,message:"Seguro de Eliminar el Usuario "+s.name+"?",icon:"fa-solid fa-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-sm p-button-danger",rejectLabel:"Cancelar",acceptLabel:"Eliminar",accept:()=>{R.delete(route("users.destroy",s.id),{onSuccess:()=>{b.add({severity:"error",icon:"fa-solid fa-trash-can",summary:"¡Accion realizada!",detail:"Usuario eliminado con exito",group:"customTooltipDataTable",life:5e3})}})}})},severity:"danger",icon:"fa-regular fa-trash-can text-sm"}],y=()=>{u.value?e.put(route("users.update",e.id),{onSuccess:()=>{l.value=!1}}):e.post(route("users.store"),{onSuccess:()=>{l.value=!1}})};return(s,o)=>{const d=C;return T(),N(S,null,[n("div",$,[t(E,{columnas:f,add:V,data:c.users,routecreate:"services.create",actions:g},null,8,["data"])]),t(_,{visible:l.value,"onUpdate:visible":o[6]||(o[6]=a=>l.value=a)},{title:m(()=>o[7]||(o[7]=[n("span",{class:"text-xl font-bold white-space-nowrap"}," Agregar Usuario",-1)])),icon:m(()=>o[8]||(o[8]=[n("i",{class:"fa-solid fa-plus"},null,-1)])),footer:m(()=>[t(d,{onClick:y,title:"Guardar",severity:"success",label:"Guardar",outlined:"",icon:"fa-solid fa-save",class:"!h-8"}),t(d,{onClick:o[5]||(o[5]=a=>l.value=!1),title:"Cancel",severity:"danger",label:"Cancelar",outlined:"",icon:"fa-solid fa-times",class:"!h-8"})]),default:m(()=>[n("div",k,[t(i,{label:"Nombre",modelValue:r(e).name,"onUpdate:modelValue":o[0]||(o[0]=a=>r(e).name=a),"error-message":r(e).errors.name},null,8,["modelValue","error-message"]),t(i,{label:"Email",modelValue:r(e).email,"onUpdate:modelValue":o[1]||(o[1]=a=>r(e).email=a)},null,8,["modelValue"]),A(" "+D(s.$page.props.auth.user.rol)+" ",1),t(i,{label:"Rol",type:"dropdown",options:["SUPER ADMINISTRADOR","ADMINISTRADOR","VENDEDOR","VISITANTE","SIN ROL"],modelValue:r(e).rol,"onUpdate:modelValue":o[2]||(o[2]=a=>r(e).rol=a)},null,8,["modelValue"]),t(i,{label:"Contraseña",type:"password",modelValue:r(e).password,"onUpdate:modelValue":o[3]||(o[3]=a=>r(e).password=a)},null,8,["modelValue"]),t(i,{label:"Confirmar contraseña",type:"password",modelValue:r(e).password_confirmation,"onUpdate:modelValue":o[4]||(o[4]=a=>r(e).password_confirmation=a)},null,8,["modelValue"])])]),_:1},8,["visible"]),t(r(I))],64)}}};export{se as default};
