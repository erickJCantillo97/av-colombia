import{s as y}from"./index-Bdi0vjHo.js";import{Y as V,au as U,d,T as B,o as T,f as $,a as c,b as o,w as i,u as n,F as j,B as m,M as k}from"./app-5GMh4swJ.js";import{_ as w}from"./Datatable-nuBefEWi.js";import{s as N}from"./index-WDPoWA4j.js";import{_ as S}from"./Modal-CYxa3PLw.js";import{_ as f}from"./Input-CXy_KIQR.js";import"./index-BbHWYXcQ.js";import"./index-DwP6cAGS.js";import"./index-D_JHaavE.js";import"./index-DeqvkkC5.js";import"./postcss-D9XaE9Kc.js";const E={class:"h-[99vh]"},F=c("span",{class:"text-xl font-bold white-space-nowrap"}," Agregar Canal",-1),A=c("i",{class:"fa-solid fa-plus"},null,-1),G={class:"space-y-3"},Q={__name:"Channels",setup(L){const b=[{header:"Nombre",field:"name",filter:!0},{header:"iniciales ",field:"abreviacion",filter:!0},{header:"Porcentaje",field:"percent",filter:!0,format:e=>e+"%"},{header:"Creación",field:"created_at",type:"datetime",filter:!0}],_=V(),g=U(),r=d(!1),a=B({name:"",abreviacion:"",percent:""}),l=d(!1),h={action:()=>{a.reset(),r.value=!1,l.value=!0}},C=[{action:e=>{l.value=!0,r.value=e.id,a.name=e.name,a.abreviacion=e.abreviacion,a.percent=e.percent},severity:"secondary",icon:"fa-solid fa-pencil text-sm"},{action:(e,t)=>{g.require({target:t.currentTarget,message:"Seguro de Eliminar el Usuario "+e.name+"?",icon:"fa-solid fa-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-sm p-button-danger",rejectLabel:"Cancelar",acceptLabel:"Eliminar",accept:()=>{console.log(e),m.delete(route("users.destroy",e.id),{onSuccess:()=>{_.add({severity:"error",icon:"fa-solid fa-trash-can",summary:"¡Accion realizada!",detail:"Usuario eliminado con exito",group:"customTooltipDataTable",life:5e3})}})}})},severity:"danger",icon:"fa-regular fa-trash-can text-sm"}],x=()=>{r.value?m.put(route("channels.update",r.value),a,{onSuccess:()=>{l.value=!1,u(),r.value=!1}}):m.post(route("channels.store"),a,{onSuccess:()=>{l.value=!1,u(),r.value=!1}})},p=d([]),u=()=>{k.get(route("channels.index")).then(e=>{p.value=e.data})};return u(),(e,t)=>{const v=y;return T(),$(j,null,[c("div",E,[o(w,{columnas:b,add:h,data:p.value,routecreate:"services.create",actions:C},null,8,["data"])]),o(S,{visible:l.value,"onUpdate:visible":t[4]||(t[4]=s=>l.value=s),"close-on-escape":!0},{title:i(()=>[F]),icon:i(()=>[A]),footer:i(()=>[o(v,{onClick:x,title:"Guardar",severity:"success",label:"Guardar",outlined:"",icon:"fa-solid fa-save",class:"!h-8"}),o(v,{onClick:t[3]||(t[3]=s=>l.value=!1),title:"Cancel",severity:"danger",label:"Cancelar",outlined:"",icon:"fa-solid fa-times",class:"!h-8"})]),default:i(()=>[c("div",G,[o(f,{label:"Nombre del Canal",modelValue:n(a).name,"onUpdate:modelValue":t[0]||(t[0]=s=>n(a).name=s)},null,8,["modelValue"]),o(f,{label:"Iniciales",modelValue:n(a).abreviacion,"onUpdate:modelValue":t[1]||(t[1]=s=>n(a).abreviacion=s)},null,8,["modelValue"]),o(f,{type:"number",label:"Porcentaje",modelValue:n(a).percent,"onUpdate:modelValue":t[2]||(t[2]=s=>n(a).percent=s),suffix:" %","min-fraction-digits":"2","max-fraction-digits":"2"},null,8,["modelValue"])])]),_:1},8,["visible"]),o(n(N))],64)}}};export{Q as default};
