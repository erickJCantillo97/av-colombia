import{s as V}from"./index-CcD8nito.js";import{e_ as h,z as U,d as m,x as j,f as $,o as k,a as n,b as r,w as u,u as i,F as w,A as B,y as d}from"./app-CR5TIXgE.js";import"./marked.esm-BPgSS2IS.js";import{_ as N}from"./Datatable-D7D9vNHG.js";import{s as S}from"./index-BLFjewY5.js";import{_ as T}from"./Modal-CkIr6hC5.js";import{_ as p}from"./Input-_sN995vB.js";import"./index-BB4mqglX.js";import"./index-BeJpQRAj.js";import"./index-C2j4NfY2.js";import"./index-BzuFzfQg.js";import"./index-CbiW-BEj.js";import"./index-DcRjH6QI.js";import"./index-CI6w-4OQ.js";import"./index-RF8x_EWb.js";import"./index-WWiPAxlN.js";import"./index-BZSpS0da.js";import"./index-BuhF8raU.js";import"./index-CMvioIGF.js";import"./postcss-BXCQkluk.js";import"./postcss-Drp5IyQS.js";import"./index-B5mkndrw.js";import"./index-6pwnZkEf.js";import"./useCommonUtilities-BgDhORlD.js";import"./index-BUCojkr-.js";import"./index-V_D2wMca.js";import"./index-BBDhE1dj.js";import"./index-BV7dJj8H.js";const A={class:"h-[80vh]"},E={class:"space-y-3"},ce={__name:"Channels",setup(z){const b=[{header:"Nombre",field:"name",filter:!0},{header:"iniciales ",field:"abreviacion",filter:!0},{header:"Porcentaje",field:"percent",filter:!0,format:t=>t+"%"},{header:"Creación",field:"created_at",type:"datetime",filter:!0}],g=h(),x=U(),l=m(!1),a=j({name:"",abreviacion:"",percent:""}),s=m(!1),C={action:()=>{a.reset(),l.value=!1,s.value=!0}},y=[{action:t=>{s.value=!0,l.value=t.id,a.name=t.name,a.abreviacion=t.abreviacion,a.percent=t.percent},severity:"secondary",icon:"fa-solid fa-pencil text-sm"},{action:(t,e)=>{x.require({target:e.currentTarget,message:"Seguro de Eliminar el Usuario "+t.name+"?",icon:"fa-solid fa-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-sm p-button-danger",rejectLabel:"Cancelar",acceptLabel:"Eliminar",accept:()=>{d.delete(route("users.destroy",t.id),{onSuccess:()=>{g.add({severity:"error",icon:"fa-solid fa-trash-can",summary:"¡Accion realizada!",detail:"Usuario eliminado con exito",group:"customTooltipDataTable",life:5e3})}})}})},severity:"danger",icon:"fa-regular fa-trash-can text-sm"}],_=()=>{l.value?d.put(route("channels.update",l.value),a,{onSuccess:()=>{s.value=!1,c(),l.value=!1}}):d.post(route("channels.store"),a,{onSuccess:()=>{s.value=!1,c(),l.value=!1}})},f=m([]),c=()=>{B.get(route("channels.index")).then(t=>{f.value=t.data})};return c(),(t,e)=>{const v=V;return k(),$(w,null,[n("div",A,[r(N,{columnas:b,add:C,data:f.value,routecreate:"services.create",actions:y},null,8,["data"])]),r(T,{visible:s.value,"onUpdate:visible":e[4]||(e[4]=o=>s.value=o),"close-on-escape":!0},{title:u(()=>e[5]||(e[5]=[n("span",{class:"text-xl font-bold white-space-nowrap"}," Agregar Canal",-1)])),icon:u(()=>e[6]||(e[6]=[n("i",{class:"fa-solid fa-plus"},null,-1)])),footer:u(()=>[r(v,{onClick:_,title:"Guardar",severity:"success",label:"Guardar",outlined:"",icon:"fa-solid fa-save",class:"!h-8"}),r(v,{onClick:e[3]||(e[3]=o=>s.value=!1),title:"Cancel",severity:"danger",label:"Cancelar",outlined:"",icon:"fa-solid fa-times",class:"!h-8"})]),default:u(()=>[n("div",E,[r(p,{label:"Nombre del Canal",modelValue:i(a).name,"onUpdate:modelValue":e[0]||(e[0]=o=>i(a).name=o)},null,8,["modelValue"]),r(p,{label:"Iniciales",modelValue:i(a).abreviacion,"onUpdate:modelValue":e[1]||(e[1]=o=>i(a).abreviacion=o)},null,8,["modelValue"]),r(p,{type:"number",label:"Porcentaje",modelValue:i(a).percent,"onUpdate:modelValue":e[2]||(e[2]=o=>i(a).percent=o),suffix:" %","min-fraction-digits":"2","max-fraction-digits":"2"},null,8,["modelValue"])])]),_:1},8,["visible"]),r(i(S))],64)}}};export{ce as default};
