import{s as y}from"./index-Cb6nWpSn.js";import{M as V,aA as U,d as m,T,o as $,f as j,a as c,b as s,w as i,u as n,F as k,x as d,G as w}from"./app-8TI6zgDr.js";import{_ as B}from"./Datatable-Dxsb6ZyG.js";import{s as N}from"./index-BiTnGIpq.js";import{_ as S}from"./Modal-Bloxhwuj.js";import{_ as f}from"./Input-BT9jM7H1.js";import"./index-BACj5uX5.js";import"./index-BfsZDoZM.js";import"./index-Ct-HhC_N.js";import"./index-B3ctBVMw.js";import"./index-CY99fINU.js";import"./index-Dm6Gd_u7.js";import"./index-wAE1Zm9D.js";import"./index-C8-PNw12.js";import"./useCommonUtilities-DO03hYfs.js";import"./moment-Cijl8gKs.js";import"./postcss-BUqlTGnw.js";const A={class:"h-[80vh]"},E=c("span",{class:"text-xl font-bold white-space-nowrap"}," Agregar Canal",-1),F=c("i",{class:"fa-solid fa-plus"},null,-1),G={class:"space-y-3"},ae={__name:"Channels",setup(L){const b=[{header:"Nombre",field:"name",filter:!0},{header:"iniciales ",field:"abreviacion",filter:!0},{header:"Porcentaje",field:"percent",filter:!0,format:e=>e+"%"},{header:"Creación",field:"created_at",type:"datetime",filter:!0}],_=V(),g=U(),r=m(!1),a=T({name:"",abreviacion:"",percent:""}),l=m(!1),h={action:()=>{a.reset(),r.value=!1,l.value=!0}},x=[{action:e=>{l.value=!0,r.value=e.id,a.name=e.name,a.abreviacion=e.abreviacion,a.percent=e.percent},severity:"secondary",icon:"fa-solid fa-pencil text-sm"},{action:(e,t)=>{g.require({target:t.currentTarget,message:"Seguro de Eliminar el Usuario "+e.name+"?",icon:"fa-solid fa-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-sm p-button-danger",rejectLabel:"Cancelar",acceptLabel:"Eliminar",accept:()=>{console.log(e),d.delete(route("users.destroy",e.id),{onSuccess:()=>{_.add({severity:"error",icon:"fa-solid fa-trash-can",summary:"¡Accion realizada!",detail:"Usuario eliminado con exito",group:"customTooltipDataTable",life:5e3})}})}})},severity:"danger",icon:"fa-regular fa-trash-can text-sm"}],C=()=>{r.value?d.put(route("channels.update",r.value),a,{onSuccess:()=>{l.value=!1,u(),r.value=!1}}):d.post(route("channels.store"),a,{onSuccess:()=>{l.value=!1,u(),r.value=!1}})},p=m([]),u=()=>{w.get(route("channels.index")).then(e=>{p.value=e.data})};return u(),(e,t)=>{const v=y;return $(),j(k,null,[c("div",A,[s(B,{columnas:b,add:h,data:p.value,routecreate:"services.create",actions:x},null,8,["data"])]),s(S,{visible:l.value,"onUpdate:visible":t[4]||(t[4]=o=>l.value=o),"close-on-escape":!0},{title:i(()=>[E]),icon:i(()=>[F]),footer:i(()=>[s(v,{onClick:C,title:"Guardar",severity:"success",label:"Guardar",outlined:"",icon:"fa-solid fa-save",class:"!h-8"}),s(v,{onClick:t[3]||(t[3]=o=>l.value=!1),title:"Cancel",severity:"danger",label:"Cancelar",outlined:"",icon:"fa-solid fa-times",class:"!h-8"})]),default:i(()=>[c("div",G,[s(f,{label:"Nombre del Canal",modelValue:n(a).name,"onUpdate:modelValue":t[0]||(t[0]=o=>n(a).name=o)},null,8,["modelValue"]),s(f,{label:"Iniciales",modelValue:n(a).abreviacion,"onUpdate:modelValue":t[1]||(t[1]=o=>n(a).abreviacion=o)},null,8,["modelValue"]),s(f,{type:"number",label:"Porcentaje",modelValue:n(a).percent,"onUpdate:modelValue":t[2]||(t[2]=o=>n(a).percent=o),suffix:" %","min-fraction-digits":"2","max-fraction-digits":"2"},null,8,["modelValue"])])]),_:1},8,["visible"]),s(n(N))],64)}}};export{ae as default};
