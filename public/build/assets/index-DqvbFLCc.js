import{fa as nr,q as ar,fb as dr,B as yr,s as cr,E as gr,e7 as J,e9 as Q,fc as mr,dX as br,fd as ir,d as wr,L as Or,dY as fr}from"./app-D3TVovok.js";function M(t){"@babel/helpers - typeof";return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},M(t)}function ur(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);n&&(c=c.filter(function(b){return Object.getOwnPropertyDescriptor(t,b).enumerable})),a.push.apply(a,c)}return a}function Z(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?ur(Object(a),!0).forEach(function(c){vr(t,c,a[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ur(Object(a)).forEach(function(c){Object.defineProperty(t,c,Object.getOwnPropertyDescriptor(a,c))})}return t}function vr(t,n,a){return(n=jr(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function jr(t){var n=kr(t,"string");return M(n)=="symbol"?n:n+""}function kr(t,n){if(M(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var c=a.call(t,n);if(M(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function V(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */V=function(){return n};var t,n={},a=Object.prototype,c=a.hasOwnProperty,b=typeof Symbol=="function"?Symbol:{},O=b.iterator||"@@iterator",k=b.asyncIterator||"@@asyncIterator",S=b.toStringTag||"@@toStringTag";function p(e,r,i,o){return Object.defineProperty(e,r,{value:i,enumerable:!o,configurable:!o,writable:!o})}try{p({},"")}catch{p=function(i,o,l){return i[o]=l}}function _(e,r,i,o){var l=r&&r.prototype instanceof Y?r:Y,f=Object.create(l.prototype);return p(f,"_invoke",function(w,P,h){var m=1;return function($,F){if(m===3)throw Error("Generator is already running");if(m===4){if($==="throw")throw F;return{value:t,done:!0}}for(h.method=$,h.arg=F;;){var K=h.delegate;if(K){var B=s(K,h);if(B){if(B===I)continue;return B}}if(h.method==="next")h.sent=h._sent=h.arg;else if(h.method==="throw"){if(m===1)throw m=4,h.arg;h.dispatchException(h.arg)}else h.method==="return"&&h.abrupt("return",h.arg);m=3;var N=A(w,P,h);if(N.type==="normal"){if(m=h.done?4:2,N.arg===I)continue;return{value:N.arg,done:h.done}}N.type==="throw"&&(m=4,h.method="throw",h.arg=N.arg)}}}(e,i,new g(o||[])),!0),f}function A(e,r,i){try{return{type:"normal",arg:e.call(r,i)}}catch(o){return{type:"throw",arg:o}}}n.wrap=_;var I={};function Y(){}function G(){}function T(){}var C={};p(C,O,function(){return this});var U=Object.getPrototypeOf,D=U&&U(U(j([])));D&&D!==a&&c.call(D,O)&&(C=D);var R=T.prototype=Y.prototype=Object.create(C);function E(e){["next","throw","return"].forEach(function(r){p(e,r,function(i){return this._invoke(r,i)})})}function u(e,r){function i(l,f,w,P){var h=A(e[l],e,f);if(h.type!=="throw"){var m=h.arg,$=m.value;return $&&M($)=="object"&&c.call($,"__await")?r.resolve($.__await).then(function(F){i("next",F,w,P)},function(F){i("throw",F,w,P)}):r.resolve($).then(function(F){m.value=F,w(m)},function(F){return i("throw",F,w,P)})}P(h.arg)}var o;p(this,"_invoke",function(l,f){function w(){return new r(function(P,h){i(l,f,P,h)})}return o=o?o.then(w,w):w()},!0)}function s(e,r){var i=r.method,o=e.i[i];if(o===t)return r.delegate=null,i==="throw"&&e.i.return&&(r.method="return",r.arg=t,s(e,r),r.method==="throw")||i!=="return"&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+i+"' method")),I;var l=A(o,e.i,r.arg);if(l.type==="throw")return r.method="throw",r.arg=l.arg,r.delegate=null,I;var f=l.arg;return f?f.done?(r[e.r]=f.value,r.next=e.n,r.method!=="return"&&(r.method="next",r.arg=t),r.delegate=null,I):f:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,I)}function d(e){this.tryEntries.push(e)}function y(e){var r=e[4]||{};r.type="normal",r.arg=t,e[4]=r}function g(e){this.tryEntries=[[-1]],e.forEach(d,this),this.reset(!0)}function j(e){if(e!=null){var r=e[O];if(r)return r.call(e);if(typeof e.next=="function")return e;if(!isNaN(e.length)){var i=-1,o=function l(){for(;++i<e.length;)if(c.call(e,i))return l.value=e[i],l.done=!1,l;return l.value=t,l.done=!0,l};return o.next=o}}throw new TypeError(M(e)+" is not iterable")}return G.prototype=T,p(R,"constructor",T),p(T,"constructor",G),G.displayName=p(T,S,"GeneratorFunction"),n.isGeneratorFunction=function(e){var r=typeof e=="function"&&e.constructor;return!!r&&(r===G||(r.displayName||r.name)==="GeneratorFunction")},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,T):(e.__proto__=T,p(e,S,"GeneratorFunction")),e.prototype=Object.create(R),e},n.awrap=function(e){return{__await:e}},E(u.prototype),p(u.prototype,k,function(){return this}),n.AsyncIterator=u,n.async=function(e,r,i,o,l){l===void 0&&(l=Promise);var f=new u(_(e,r,i,o),l);return n.isGeneratorFunction(r)?f:f.next().then(function(w){return w.done?w.value:f.next()})},E(R),p(R,S,"Generator"),p(R,O,function(){return this}),p(R,"toString",function(){return"[object Generator]"}),n.keys=function(e){var r=Object(e),i=[];for(var o in r)i.unshift(o);return function l(){for(;i.length;)if((o=i.pop())in r)return l.value=o,l.done=!1,l;return l.done=!0,l}},n.values=j,g.prototype={constructor:g,reset:function(r){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(y),!r)for(var i in this)i.charAt(0)==="t"&&c.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var r=this.tryEntries[0][4];if(r.type==="throw")throw r.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var i=this;function o($){w.type="throw",w.arg=r,i.next=$}for(var l=i.tryEntries.length-1;l>=0;--l){var f=this.tryEntries[l],w=f[4],P=this.prev,h=f[1],m=f[2];if(f[0]===-1)return o("end"),!1;if(!h&&!m)throw Error("try statement without catch or finally");if(f[0]!=null&&f[0]<=P){if(P<h)return this.method="next",this.arg=t,o(h),!0;if(P<m)return o(m),!1}}},abrupt:function(r,i){for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o];if(l[0]>-1&&l[0]<=this.prev&&this.prev<l[2]){var f=l;break}}f&&(r==="break"||r==="continue")&&f[0]<=i&&i<=f[2]&&(f=null);var w=f?f[4]:{};return w.type=r,w.arg=i,f?(this.method="next",this.next=f[2],I):this.complete(w)},complete:function(r,i){if(r.type==="throw")throw r.arg;return r.type==="break"||r.type==="continue"?this.next=r.arg:r.type==="return"?(this.rval=this.arg=r.arg,this.method="return",this.next="end"):r.type==="normal"&&i&&(this.next=i),I},finish:function(r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o[2]===r)return this.complete(o[4],o[3]),y(o),I}},catch:function(r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o[0]===r){var l=o[4];if(l.type==="throw"){var f=l.arg;y(o)}return f}}throw Error("illegal catch attempt")},delegateYield:function(r,i,o){return this.delegate={i:j(r),r:i,n:o},this.method==="next"&&(this.arg=t),I}},n}function or(t,n,a,c,b,O,k){try{var S=t[O](k),p=S.value}catch(_){return void a(_)}S.done?n(p):Promise.resolve(p).then(c,b)}function H(t){return function(){var n=this,a=arguments;return new Promise(function(c,b){var O=t.apply(n,a);function k(p){or(O,c,b,k,S,"next",p)}function S(p){or(O,c,b,k,S,"throw",p)}k(void 0)})}}function rr(t,n){return $r(t)||Pr(t,n)||Sr(t,n)||Er()}function Er(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sr(t,n){if(t){if(typeof t=="string")return sr(t,n);var a={}.toString.call(t).slice(8,-1);return a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set"?Array.from(t):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?sr(t,n):void 0}}function sr(t,n){(n==null||n>t.length)&&(n=t.length);for(var a=0,c=Array(n);a<n;a++)c[a]=t[a];return c}function Pr(t,n){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var c,b,O,k,S=[],p=!0,_=!1;try{if(O=(a=a.call(t)).next,n!==0)for(;!(p=(c=O.call(a)).done)&&(S.push(c.value),S.length!==n);p=!0);}catch(A){_=!0,b=A}finally{try{if(!p&&a.return!=null&&(k=a.return(),Object(k)!==k))return}finally{if(_)throw b}}return S}}function $r(t){if(Array.isArray(t))return t}function Fr(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;dr()?yr(t):n?t():cr(t)}function _r(t,n,a){var c=wr(!0),b=Or(t,function(O,k){c.value&&n(O,k)},a);return{stop:b,pause:function(){c.value=!1},resume:function(){c.value=!0}}}function x(t){return Object.entries(t).reduce(function(n,a){var c=rr(a,2),b=c[0],O=c[1];return b.split(/[\.\[\]]+/).filter(Boolean).reduce(function(k,S,p,_){var A;return(A=k[S])!==null&&A!==void 0?A:k[S]=isNaN(_[p+1])?p===_.length-1?O:{}:[]},n),n},{})}function lr(t,n){if(!t||!n)return null;try{var a=t[n];if(fr(a))return a}catch{}var c=n.split(/[\.\[\]]+/).filter(Boolean);return c.reduce(function(b,O){return b&&b[O]!==void 0?b[O]:void 0},t)}var Tr=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=nr({}),c=nr({}),b=ar(function(){return Object.values(a).every(function(E){return!E.invalid})}),O=ar(function(){return x(a)}),k=function(u,s){return{value:s??lr(n.initialValues,u),touched:!1,dirty:!1,pristine:!0,valid:!0,invalid:!1,error:null,errors:[]}},S=function(u,s){var d=J(s,u);return d===!0||Q(d)&&d.includes(u)},p=function(){var E=H(V().mark(function u(s,d){var y,g,j;return V().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(g={},!Q(n[s])){r.next=7;break}return r.next=4,G(n[s]);case 4:g=r.sent,r.next=12;break;case 7:if(r.t0=(y=n[s])!==null&&y!==void 0?y:d,!r.t0){r.next=12;break}return r.next=11,G();case 11:g=r.sent;case 12:if(j=Object.keys(c).filter(function(i){var o;return(o=c[i])===null||o===void 0||(o=o.options)===null||o===void 0?void 0:o[s]})||[],r.t1=fr(j),!r.t1){r.next=18;break}return r.next=17,G(j);case 17:g=r.sent;case 18:return r.abrupt("return",g);case 19:case"end":return r.stop()}},u)}));return function(s,d){return E.apply(this,arguments)}}(),_=function(u,s,d,y){var g,j;((g=s?.[d])!==null&&g!==void 0?g:S(u,(j=n[d])!==null&&j!==void 0?j:y))&&G(u)},A=function(u,s){var d,y;if(!u)return[];(d=c[u])===null||d===void 0||d._watcher.stop(),a[u]||(a[u]=k(u,s?.initialValue));var g=gr((y=J(s,a[u]))===null||y===void 0?void 0:y.props,J(s?.props,a[u]),{name:u,onBlur:function(){a[u].touched=!0,_(u,s,"validateOnBlur")},onInput:function(r){a[u].value=r&&Object.hasOwn(r,"value")?r.value:r.target.value},onChange:function(r){a[u].value=r&&Object.hasOwn(r,"value")?r.value:r.target.type==="checkbox"||r.target.type==="radio"?r.target.checked:r.target.value},onInvalid:function(r){var i;a[u].invalid=!0,a[u].errors=r,a[u].error=(i=r?.[0])!==null&&i!==void 0?i:null}}),j=_r(function(){return a[u].value},function(e,r){a[u].pristine&&(a[u].pristine=!1),e!==r&&(a[u].dirty=!0),_(u,s,"validateOnValueUpdate",!0)});return c[u]={props:g,states:a[u],options:s,_watcher:j},[a[u],g]},I=function(u){return function(){var s=H(V().mark(function d(y){var g;return V().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("validateOnSubmit",!0);case 2:return g=e.sent,e.abrupt("return",u(Z({originalEvent:y,valid:ir(b),states:ir(O),reset:T},g)));case 4:case"end":return e.stop()}},d)}));return function(d){return s.apply(this,arguments)}}()},Y=function(u){return function(){var s=H(V().mark(function d(y){return V().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return T(),j.abrupt("return",u({originalEvent:y}));case 2:case"end":return j.stop()}},d)}));return function(d){return s.apply(this,arguments)}}()},G=function(){var E=H(V().mark(function u(s){var d,y,g,j,e,r,i,o,l,f,w,P,h,m,$,F,K,B,N,X,W,q,L;return V().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return e=Object.entries(a).reduce(function(z,hr){var er=rr(hr,2),tr=er[0],pr=er[1];return z.names.push(tr),z.values[tr]=pr.value,z},{names:[],values:{}}),r=[e.names,x(e.values)],i=r[0],o=r[1],v.next=4,(y=n.resolver)===null||y===void 0?void 0:y.call(n,{names:i,values:o});case 4:if(v.t1=d=v.sent,v.t0=v.t1!==null,!v.t0){v.next=8;break}v.t0=d!==void 0;case 8:if(!v.t0){v.next=12;break}v.t2=d,v.next=13;break;case 12:v.t2={values:o};case 13:l=v.t2,(j=(g=l).errors)!==null&&j!==void 0||(g.errors={}),f=[s].flat(),w=0,P=Object.entries(c);case 17:if(!(w<P.length)){v.next=45;break}if(h=rr(P[w],2),m=h[0],$=h[1],!(f.includes(m)||!s||br(l.errors))){v.next=42;break}if(N=(F=$.options)===null||F===void 0?void 0:F.resolver,!N){v.next=37;break}return W=$.states.value,v.next=25,N({values:W,value:W,name:m});case 25:if(v.t4=X=v.sent,v.t3=v.t4!==null,!v.t3){v.next=29;break}v.t3=X!==void 0;case 29:if(!v.t3){v.next=33;break}v.t5=X,v.next=34;break;case 33:v.t5={values:W};case 34:q=v.t5,Q(q.errors)&&(q.errors=vr({},m,q.errors)),l=mr(l,q);case 37:L=(K=lr(l.errors,m))!==null&&K!==void 0?K:[],a[m].invalid=L.length>0,a[m].valid=!a[m].invalid,a[m].errors=L,a[m].error=(B=L?.[0])!==null&&B!==void 0?B:null;case 42:w++,v.next=17;break;case 45:return v.abrupt("return",Z(Z({},l),{},{errors:x(l.errors)}));case 46:case"end":return v.stop()}},u)}));return function(s){return E.apply(this,arguments)}}(),T=function(){Object.keys(a).forEach(function(){var u=H(V().mark(function s(d){var y,g;return V().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g=c[d]._watcher,g.pause(),c[d].states=a[d]=k(d,(y=c[d])===null||y===void 0||(y=y.options)===null||y===void 0?void 0:y.initialValue),e.next=5,cr();case 5:g.resume();case 6:case"end":return e.stop()}},s)}));return function(s){return u.apply(this,arguments)}}())},C=function(u,s){a[u].value=s},U=function(u){var s;return(s=c[u])===null||s===void 0?void 0:s.states},D=function(u){Object.keys(u).forEach(function(s){return C(s,u[s])})},R=function(){p("validateOnMount")};return Fr(R),{defineField:A,setFieldValue:C,getFieldState:U,handleSubmit:I,handleReset:Y,validate:G,setValues:D,reset:T,valid:b,states:O,fields:c}};export{Tr as u};
