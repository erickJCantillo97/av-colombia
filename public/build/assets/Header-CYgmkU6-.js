import{d as x,L as G,B as A,f as l,o as i,g as b,et as R,F as q,i as U,a as e,n as S,u as v,t as w,s as de,q as T,dO as ue,b as y,w as M,S as _,c as N,dX as V,en as ce,fa as Y,an as me,G as z}from"./app-GNpnCxhP.js";import{s as f}from"./searchStore-Bfcin7jc.js";/* empty css                                                               */import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{f as Q}from"./useCommonUtilities-EmANIG9p.js";import{s as ve}from"./index-D-lp5OaF.js";import{_ as pe}from"./logo-BCEMJqBL.js";const fe=["onClick"],he=["innerHTML"],ge={__name:"ServiceTypeTabs",props:{modelValue:Object},emits:["update:modelValue"],setup(a,{emit:r}){const t=x([]),s=x(null),n=f.type,p=x({left:"0px",top:"0px",width:"",height:""}),h=[{label:"Tours",value:"TOUR",description:"Experiencias guiadas",icon:'<img src="assets/svgs/beach.svg" alt="Beach Icon" />'},{label:"Embarcaciones",value:"EMBARCACION",description:"Yates y lanchas",icon:`<svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
             <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 15s4-8 9-8 9 8 9 8-4 8-9 8-9-8-9-8z"></path>
             <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 7v10"></path>
             <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 11l8 0"></path>
           </svg>`},{label:"Hospedaje",value:"HOSPEDAJE",description:"Hoteles y caba√±as",icon:`<svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
             <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 21v-4a4 4 0 014-4h10a4 4 0 014 4v4M7 7a4 4 0 118 0v1a3 3 0 01-3 3h-2a3 3 0 01-3-3V7z"></path>
           </svg>`},{label:"Transporte",value:"TRANSPORTE",description:"Traslados y veh√≠culos",icon:`<svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
             <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3a1 1 0 011-1h6a1 1 0 011 1v4m4 0V9a2 2 0 00-2-2H6a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7zM8 7h8M5 21h14"></path>
           </svg>`}];function $(){de(()=>{const c=h.findIndex(k=>k.value==n.value.value),g=t.value[c],m=s.value;if(g&&m){const k=g.getBoundingClientRect(),D=m.getBoundingClientRect();p.value={left:`${k.left-D.left}px`,top:`${k.top-D.top}px`,width:`${k.width}px`,height:`${k.height}px`}}})}function C(c,g){n.value=c}return G(()=>n,$,{deep:!0}),A($),(c,g)=>(i(),l("div",{ref_key:"containerRef",ref:s,class:"flex items-center justify-center service-types-container space-x-2 relative overflow-x-auto"},[p.value.width?(i(),l("div",{key:0,class:"absolute transition-all duration-300 bg-gray-900 rounded-xl z-0 shadow-md border-2 border-gray-900",style:R(p.value)},null,4)):b("",!0),(i(),l(q,null,U(h,(m,k)=>e("div",{key:m.value,ref_for:!0,ref:D=>t.value[k]=D,onClick:D=>C(m),class:S(["service-type-tab flex items-center gap-2 px-3 py-2 rounded-xl cursor-pointer transition-all duration-200 group relative overflow-hidden min-w-fit z-10 flex-shrink-0",v(n).value===m.value?"text-white":"text-gray-700 hover:bg-gray-50 border border-gray-200 hover:border-gray-300 bg-white"]),style:R({animationDelay:`${k*.1}s`})},[e("div",{class:S(["w-5 h-5 sm:w-6 sm:h-6  items-center justify-center transition-all duration-200 relative z-10 flex-shrink-0 hidden sm:flex",v(n).value===m.value?"text-white":"text-gray-600 group-hover:text-gray-800"])},[e("div",{innerHTML:m.icon,class:"w-5 h-5 sm:w-6 sm:h-6"},null,8,he)],2),e("span",{class:S(["text-xs sm:text-sm font-medium transition-all duration-200 relative z-10 leading-tight whitespace-nowrap",v(n).value===m.value?"text-white":"text-gray-700 group-hover:text-gray-900"])},w(m.label),3)],14,fe)),64))],512))}},xe=H(ge,[["__scopeId","data-v-0bae8b9b"]]),be={key:0,class:"text-xs font-semibold text-gray-900 uppercase tracking-wide"},ke={class:"text-sm text-gray-500 mt-1 truncate"},ye={key:0,class:"text-xs font-semibold text-gray-900 uppercase tracking-wide"},we={class:"text-sm text-gray-500 mt-1 truncate"},$e={key:0,class:"text-xs font-semibold text-gray-900 uppercase tracking-wide"},Ce={class:"text-sm text-gray-500 mt-1 truncate"},De={class:"px-2 py-2 sm:px-2 sm:py-2 flex justify-center sm:justify-end"},Se={__name:"SearchBar",props:["isPanelOpen","activeTab","selectedLocation","guestSummary","setActiveTab","formatDate"],setup(a){const r=T(()=>{const s=f.checkin.value,n=f.checkout.value;return s&&n?`${f.checkin.value?Q(s):""} - ${f.checkout.value?Q(n):""}`:s||""}),t=ue("showInputTitles",!0);return(s,n)=>(i(),l("div",{class:S(["flex  sm:items-center bg-white rounded-2xl sm:rounded-full border border-gray-200 overflow-hidden transition-all duration-300",a.isPanelOpen?"shadow-xl border-gray-300":"hover:shadow-md"])},[e("div",{class:S(["flex-1 relative search-section",["px-4 sm:px-6 py-3 sm:py-4 cursor-pointer transition-all duration-200 modern-focus","sm:rounded-l-full first:rounded-t-2xl sm:first:rounded-t-none",a.activeTab==="donde"?"bg-white shadow-md section-active":"hover:bg-gray-50"]]),onClick:n[0]||(n[0]=p=>a.setActiveTab("donde"))},[v(t)?(i(),l("div",be,"D√≥nde")):b("",!0),e("div",ke,w(a.selectedLocation||"Explora destinos"),1)],2),n[7]||(n[7]=e("div",{class:"hidden sm:block w-px h-8 bg-gray-200 divider-animated"},null,-1)),n[8]||(n[8]=e("div",{class:"block sm:hidden h-px bg-gray-200 mx-4"},null,-1)),e("div",{class:S(["flex-1 relative search-section",["px-4 sm:px-6 py-3 sm:py-4 cursor-pointer transition-all duration-200 modern-focus",a.activeTab==="checkin"?"bg-white shadow-md section-active":"hover:bg-gray-50"]]),onClick:n[1]||(n[1]=p=>a.setActiveTab("checkin"))},[v(t)?(i(),l("div",ye,n[4]||(n[4]=[e("span",{class:"hidden sm:inline"},"Check-in / Check-out",-1),e("span",{class:"sm:hidden"},"Fechas",-1)]))):b("",!0),e("div",we,w(r.value||"Selecciona fechas"),1)],2),n[9]||(n[9]=e("div",{class:"hidden sm:block w-px h-8 bg-gray-200 divider-animated"},null,-1)),n[10]||(n[10]=e("div",{class:"block sm:hidden h-px bg-gray-200 mx-4"},null,-1)),e("div",{class:S(["flex-1 relative search-section",["px-4 sm:px-6 py-3 sm:py-4 cursor-pointer transition-all duration-200 modern-focus",a.activeTab==="quien"?"bg-white shadow-md section-active":"hover:bg-gray-50"]]),onClick:n[2]||(n[2]=p=>a.setActiveTab("quien"))},[v(t)?(i(),l("div",$e,n[5]||(n[5]=[e("span",{class:"hidden sm:inline"},"Qui√©n",-1),e("span",{class:"sm:hidden"},"Hu√©spedes",-1)]))):b("",!0),e("div",Ce,w(a.guestSummary||"¬øCu√°ntos?"),1)],2),e("div",De,[y(v(_),{href:s.route("services.home")},{default:M(()=>[e("button",{onClick:n[3]||(n[3]=(...p)=>s.performSearch&&s.performSearch(...p)),class:"bg-gray-500 hover:bg-gray-800 text-white p-3 sm:p-4 rounded-full transition-all duration-200 shadow-lg search-button btn-ripple scale-hover w-12 h-12 sm:w-auto sm:h-auto flex items-center justify-center"},n[6]||(n[6]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)]))]),_:1},8,["href"])])],2))}},je={class:"space-y-6"},Te={class:"flex items-center justify-between"},Me={class:"flex items-center space-x-3"},Le=["disabled"],Oe={class:"w-8 text-center font-medium"},Be={class:"flex items-center justify-between"},Ae={class:"flex items-center space-x-3"},Ve=["disabled"],He={class:"w-8 text-center font-medium"},Ie={class:"flex items-center justify-between"},Pe={class:"flex items-center space-x-3"},Ee=["disabled"],Re={class:"w-8 text-center font-medium"},ze={__name:"GuestSelector",props:{guests:Object},emits:["increment","decrement"],setup(a){return(r,t)=>(i(),l("div",je,[e("div",Te,[t[8]||(t[8]=e("div",null,[e("h4",{class:"font-medium text-gray-900"},"Adultos"),e("p",{class:"text-sm text-gray-500"},"13 a√±os o m√°s")],-1)),e("div",Me,[e("button",{onClick:t[0]||(t[0]=s=>r.$emit("decrement","adults")),disabled:a.guests.adults<=0,class:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center disabled:opacity-50 guest-counter btn-ripple hover:border-gray-400 transition-all duration-200"},t[6]||(t[6]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)]),8,Le),e("span",Oe,w(a.guests.adults),1),e("button",{onClick:t[1]||(t[1]=s=>r.$emit("increment","adults")),class:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center guest-counter btn-ripple hover:border-gray-400 transition-all duration-200"},t[7]||(t[7]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)]))])]),e("div",Be,[t[11]||(t[11]=e("div",null,[e("h4",{class:"font-medium text-gray-900"},"Ni√±os"),e("p",{class:"text-sm text-gray-500"},"De 2 a 12 a√±os")],-1)),e("div",Ae,[e("button",{onClick:t[2]||(t[2]=s=>r.$emit("decrement","children")),disabled:a.guests.children<=0,class:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center disabled:opacity-50 guest-counter btn-ripple hover:border-gray-400 transition-all duration-200"},t[9]||(t[9]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)]),8,Ve),e("span",He,w(a.guests.children),1),e("button",{onClick:t[3]||(t[3]=s=>r.$emit("increment","children")),class:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center guest-counter btn-ripple hover:border-gray-400 transition-all duration-200"},t[10]||(t[10]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)]))])]),e("div",Ie,[t[14]||(t[14]=e("div",null,[e("h4",{class:"font-medium text-gray-900"},"Beb√©s"),e("p",{class:"text-sm text-gray-500"},"Menos de 2 a√±os")],-1)),e("div",Pe,[e("button",{onClick:t[4]||(t[4]=s=>r.$emit("decrement","infants")),disabled:a.guests.infants<=0,class:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center disabled:opacity-50 guest-counter btn-ripple hover:border-gray-400 transition-all duration-200"},t[12]||(t[12]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)]),8,Ee),e("span",Re,w(a.guests.infants),1),e("button",{onClick:t[5]||(t[5]=s=>r.$emit("increment","infants")),class:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center guest-counter btn-ripple hover:border-gray-400 transition-all duration-200"},t[13]||(t[13]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)]))])])]))}},Qe={__name:"CalendarSelector",props:{modelValue:[String,Array],value:[String,Array],minDate:String,maxDate:String,placeholder:String},emits:["update:modelValue","update:value","flex"],setup(a,{emit:r}){const t=a,s=r,n=x(t.modelValue??t.value);G(()=>t.modelValue??t.value,h=>n.value=h);const p=h=>{s("update:modelValue",h),s("update:value",h),Array.isArray(h)&&h.length===2&&(s("update:checkin",h[0]),s("update:checkout",h[1]))};return(h,$)=>{const C=ve;return i(),l("div",null,[y(C,{value:n.value,"onUpdate:value":$[0]||($[0]=c=>n.value=c),range:"",class:"w-full",format:"YYYY-MM-DD",minDate:new Date,maxDate:a.maxDate,clearable:!1,inline:!0,numberOfMonths:2,selectionMode:"range",manualInput:!1,"show-header":!0,"show-week-number":!1,onValueChange:p,pt:{calendarContainer:"!w-full"}},null,8,["value","minDate","maxDate"])])}}},Ge={key:0,class:"absolute z-50 mt-2 sm:mt-4 w-full origin-top rounded-2xl sm:rounded-3xl border border-gray-200 bg-white shadow-2xl dropdown-shadow"},qe={key:0,class:"p-4 sm:p-8 panel-content"},Ue={class:"relative mb-4 sm:mb-6"},_e=["value"],Ne={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},Ye=["onClick"],We={class:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-blue-100 to-blue-200 rounded-lg flex items-center justify-center flex-shrink-0"},Fe={class:"text-xl sm:text-2xl"},Je={class:"min-w-0 flex-1"},Xe={class:"font-medium text-gray-900 truncate"},Ke={class:"text-sm text-gray-500 truncate"},Ze={key:1,class:"p-4 sm:p-8 panel-content"},et={key:2,class:"p-4 sm:p-8 panel-content"},tt={key:0,class:"text-gray-900 font-medium text-base sm:text-lg"},st={key:1,class:"text-gray-500"},nt={key:3,class:"p-4 sm:p-8 panel-content"},ot={key:4,class:"border-t border-gray-200 p-4 sm:p-6 bg-gradient-to-r from-purple-50 to-pink-50"},at={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0"},rt={__name:"DropdownPanels",props:["isPanelOpen","activeTab","locationQuery","selectedCheckin","selectedCheckout","guests","hasSearchCriteria","popularDestinations","quickDateOptions","durationOptions","formatDate"],emits:["selectLocation","openDatePicker","setQuickDate","setDuration","incrementGuests","decrementGuests","searchLocations","generateWithAi","update:locationQuery"],setup(a){return(r,t)=>(i(),N(V,{name:"panel"},{default:M(()=>[a.isPanelOpen?(i(),l("div",Ge,[a.activeTab==="donde"?(i(),l("div",qe,[t[10]||(t[10]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4 sm:mb-6"},"¬øA d√≥nde quieres ir?",-1)),e("div",Ue,[t[8]||(t[8]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),e("input",{value:a.locationQuery,onInput:t[0]||(t[0]=s=>{r.$emit("update:locationQuery",s.target.value),r.$emit("searchLocations")}),type:"text",placeholder:"Buscar destinos",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-rose-500 transition-all duration-200 modern-focus"},null,40,_e)]),e("div",null,[t[9]||(t[9]=e("h4",{class:"text-sm font-medium text-gray-700 mb-3"},"Destinos populares",-1)),e("div",Ne,[(i(!0),l(q,null,U(a.popularDestinations,(s,n)=>(i(),l("div",{key:s.name,onClick:p=>r.$emit("selectLocation",s.name),class:"destination-card flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 cursor-pointer transition-all duration-200 scale-hover"},[e("div",We,[e("span",Fe,w(s.emoji),1)]),e("div",Je,[e("p",Xe,w(s.name),1),e("p",Ke,w(s.description),1)])],8,Ye))),128))])])])):b("",!0),a.activeTab==="checkin"?(i(),l("div",Ze,[t[11]||(t[11]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4 sm:mb-6"},"¬øCu√°ndo es tu viaje?",-1)),e("div",null,[y(Qe,{class:"w-full",value:[v(f).checkin.value,v(f).checkout.value],"min-date":new Date().toISOString().split("T")[0],placeholder:"Selecciona rango de fechas",onChange:t[1]||(t[1]=s=>{Array.isArray(s)&&s.length===2&&(v(f).checkin.value=s[0],v(f).checkout.value=s[1])}),"onUpdate:checkin":t[2]||(t[2]=s=>v(f).checkin.value=s),"onUpdate:checkout":t[3]||(t[3]=s=>v(f).checkout.value=s)},null,8,["value","min-date"])])])):b("",!0),a.activeTab==="checkout"?(i(),l("div",et,[t[12]||(t[12]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4 sm:mb-6"},"¬øCu√°ndo termina tu viaje?",-1)),e("div",{class:"border border-gray-200 rounded-lg p-4 sm:p-6 cursor-pointer hover:border-gray-300 transition-all duration-200 text-center scale-hover modern-focus",onClick:t[4]||(t[4]=s=>r.$emit("openDatePicker","checkout"))},[a.selectedCheckout?(i(),l("div",tt,w(a.formatDate(a.selectedCheckout)),1)):(i(),l("div",st,"Selecciona fecha de salida"))])])):b("",!0),a.activeTab==="quien"?(i(),l("div",nt,[t[13]||(t[13]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4 sm:mb-6"},"¬øQui√©n viene?",-1)),y(ze,{guests:a.guests,onIncrement:t[5]||(t[5]=s=>r.$emit("incrementGuests",s)),onDecrement:t[6]||(t[6]=s=>r.$emit("decrementGuests",s))},null,8,["guests"])])):b("",!0),a.hasSearchCriteria?(i(),l("div",ot,[e("div",at,[t[14]||(t[14]=e("div",{class:"flex items-center space-x-3"},[e("div",{class:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center flex-shrink-0"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])]),e("div",{class:"min-w-0 flex-1"},[e("h4",{class:"font-medium text-gray-900 gradient-text"},"‚ú® B√∫squeda Inteligente"),e("p",{class:"text-sm text-gray-600"},"Encuentra el servicio perfecto con IA")])],-1)),e("button",{onClick:t[7]||(t[7]=s=>r.$emit("generateWithAi")),class:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-2 rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all duration-200 btn-ripple scale-hover w-full sm:w-auto"}," Buscar con IA ")])])):b("",!0)])):b("",!0)]),_:1}))}},it={key:0,class:"fixed inset-0 z-[99999999] flex items-center justify-center bg-black bg-opacity-50 p-4"},lt={class:"modal-container w-full max-w-2xl rounded-xl bg-white shadow-2xl max-h-[90vh] flex flex-col"},dt={class:"p-4 sm:p-6 flex-shrink-0"},ut={class:"flex items-start justify-between"},ct={key:0,class:"mt-4 text-center py-8"},mt={key:0,class:"flex-1 overflow-hidden"},vt={class:"ai-content px-4 sm:px-6 pb-4 h-full overflow-y-auto"},pt=["innerHTML"],ft={key:1,class:"flex flex-col sm:flex-row justify-end gap-2 border-t border-gray-200 bg-gray-50 px-4 sm:px-6 py-3 rounded-b-xl flex-shrink-0"},ht={__name:"AiModal",props:["isModalVisible","isLoading","formattedContent"],emits:["close"],setup(a){return(r,t)=>(i(),N(ce,{to:"body"},[y(V,{name:"modal"},{default:M(()=>[a.isModalVisible?(i(),l("div",it,[e("div",lt,[e("div",dt,[e("div",ut,[t[2]||(t[2]=e("h2",{class:"text-lg font-semibold text-gray-900"},"‚ú® Recomendaci√≥n de Servicio",-1)),e("button",{onClick:t[0]||(t[0]=s=>r.$emit("close")),class:"py-1 px-2 leading-none text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 text-xl flex-shrink-0"},"√ó")]),a.isLoading?(i(),l("div",ct,t[3]||(t[3]=[e("div",{class:"animate-pulse-fast text-gray-500"},"Buscando el mejor Servicio para ti...",-1)]))):b("",!0)]),a.isLoading?b("",!0):(i(),l("div",mt,[e("div",vt,[e("div",{class:"p-4 bg-gray-50 rounded-lg text-gray-700 whitespace-pre-wrap",innerHTML:a.formattedContent},null,8,pt)])])),a.isLoading?b("",!0):(i(),l("div",ft,[e("button",{onClick:t[1]||(t[1]=s=>r.$emit("close")),class:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-medium text-white hover:bg-indigo-700 w-full sm:w-auto"},"Buscar√© yo mismo")]))])])):b("",!0)]),_:1})]))}},gt={class:"flex justify-center w-full px-4 sm:px-6 lg:px-8"},xt={key:"tabs",class:"mb-3 sm:mb-4"},bt={class:"relative"},kt={__name:"Search",setup(a){const r=x(!1),t=x("donde"),s=x(!1),n=x(!1),p=x(""),h=x(null),$=x(""),C=f.location,c=f.checkin,g=f.checkout,m=f.guests,k=x({label:"Tours",value:"TOUR"}),D=o=>{t.value=o,r.value||(r.value=!0)},W=()=>{r.value=!1,t.value=""},F=()=>{s.value=!0},J=()=>{s.value=!1,p.value=""},X=o=>{C.value=o,D("checkin")},K=o=>{const d=new Date;if(o==="checkin"){const u=new Date(d);u.setDate(d.getDate()+1),c.value=u.toISOString().split("T")[0]}else if(o==="checkout"){const u=new Date(c.value||d);u.setDate(u.getDate()+7),g.value=u.toISOString().split("T")[0]}},Z=(o,d)=>{const u=new Date,L=new Date(u);L.setDate(u.getDate()+d),o==="checkin"&&(c.value=L.toISOString().split("T")[0])},ee=o=>{if(c.value){const d=new Date(c.value),u=new Date(d);u.setDate(d.getDate()+o),g.value=u.toISOString().split("T")[0]}},j=o=>new Date(o).toLocaleDateString("es-ES",{weekday:"short",month:"short",day:"numeric"}),te=[{name:"Cartagena",description:"Ciudad amurallada",emoji:"üè∞"},{name:"San Andr√©s",description:"Isla caribe√±a",emoji:"üèùÔ∏è"},{name:"Medell√≠n",description:"Ciudad de la eterna primavera",emoji:"üå∏"},{name:"Bogot√°",description:"Capital cultural",emoji:"üèôÔ∏è"},{name:"Eje Cafetero",description:"Paisaje cafetero",emoji:"‚òï"},{name:"Amazonas",description:"Selva tropical",emoji:"üå≥"}],se=o=>{m.value[o]++},ne=o=>{m.value[o]>0&&m.value[o]--},oe=()=>{console.log("Buscando:",$.value)},O=T(()=>{const o=m.value.adults+m.value.children;if(o===0)return"";let d=`${o} hu√©sped${o>1?"es":""}`;return m.value.infants>0&&(d+=`, ${m.value.infants} beb√©${m.value.infants>1?"s":""}`),d}),I=T(()=>C.value||c.value||g.value||m.value.adults>0||m.value.children>0||m.value.infants>0),ae=T(()=>p.value?marked.parse(p.value).replace(/<a href="([^"]+)">/g,(u,L)=>`<a href="/showservice/${L}" target="_blank" rel="noopener noreferrer" class="text-green-600 hover:text-green-800 font-semibold underline">`):""),re=T(()=>c.value&&g.value?`${j(c.value)} - ${j(g.value)}`:c.value?j(c.value):""),ie=async()=>{if(I.value){F(),n.value=!0;try{let o="";C.value&&(o+=`Destino: ${C.value}. `),c.value&&(o+=`Check-in: ${c.value}. `),g.value&&(o+=`Check-out: ${g.value}. `),O.value&&(o+=`Hu√©spedes: ${O.value}. `),k.value.value&&(o+=`Tipo: ${k.value.label}. `);const u=(await axios.post("/get-service",{prompt:o||"B√∫squeda general",type:k.value.value})).data;p.value=u.recommendation||u.response||"No se recibi√≥ una recomendaci√≥n v√°lida."}catch(o){console.error("Error al contactar el backend:",o),p.value=`Ocurri√≥ un error al buscar el servicio: ${o.message}`}finally{n.value=!1}}},P=o=>{o.target.closest(".mx-datepicker-popup")||o.target.closest(".mx-calendar")||h.value&&!h.value.contains(o.target)&&W()},B=x(!0),le=B;function E(){const o=window.scrollY,d=window.innerWidth<=768?20:10;B.value=o<d}return A(()=>{document.addEventListener("mousedown",P),document.addEventListener("scroll",E)}),Y(()=>{document.removeEventListener("mousedown",P),document.removeEventListener("scroll",E)}),me("showInputTitles",le),(o,d)=>(i(),l("div",gt,[e("div",{class:"relative w-full",ref_key:"searchContainer",ref:h},[y(V,{name:"fade-slide"},{default:M(()=>[B.value?(i(),l("div",xt,[y(xe,{servicesType:o.servicesType,modelValue:v(f).type,"onUpdate:modelValue":d[0]||(d[0]=u=>v(f).type=u)},null,8,["servicesType","modelValue"])])):b("",!0)]),_:1}),e("div",bt,[y(Se,{isPanelOpen:r.value,activeTab:t.value,selectedLocation:v(C),selectedCheckin:v(c),selectedCheckout:v(g),guestSummary:O.value,setActiveTab:D,formatDate:j,dateRange:re.value},null,8,["isPanelOpen","activeTab","selectedLocation","selectedCheckin","selectedCheckout","guestSummary","dateRange"])]),y(rt,{isPanelOpen:r.value,activeTab:t.value,locationQuery:$.value,"onUpdate:locationQuery":d[1]||(d[1]=u=>$.value=u),selectedCheckin:v(c),"onUpdate:selectedCheckin":d[2]||(d[2]=u=>z(c)?c.value=u:null),selectedCheckout:v(g),"onUpdate:selectedCheckout":d[3]||(d[3]=u=>z(g)?g.value=u:null),guests:v(m),hasSearchCriteria:I.value,popularDestinations:te,quickDateOptions:o.quickDateOptions,durationOptions:o.durationOptions,formatDate:j,onSelectLocation:X,onOpenDatePicker:K,onSetQuickDate:Z,onSetDuration:ee,onIncrementGuests:se,onDecrementGuests:ne,onSearchLocations:oe,onGenerateWithAi:ie},null,8,["isPanelOpen","activeTab","locationQuery","selectedCheckin","selectedCheckout","guests","hasSearchCriteria","quickDateOptions","durationOptions"]),y(ht,{isModalVisible:s.value,isLoading:n.value,formattedContent:ae.value,onClose:J},null,8,["isModalVisible","isLoading","formattedContent"])],512)]))}},yt=H(kt,[["__scopeId","data-v-056dbe2b"]]),wt={class:"flex items-center justify-between p-0 lg:px-8","aria-label":"Global"},$t={class:"hidden md:flex w-1/5"},Ct={class:"rounded-md w-full"},Dt={__name:"Header",setup(a){x("");const r=x(!1);x(!1);const t=()=>{window.scrollY>300?r.value=!0:r.value=!1};return A(()=>{window.addEventListener("scroll",t)}),Y(()=>{window.removeEventListener("scroll",t)}),(s,n)=>(i(),l("header",{class:S(["bg-transparent z-30",{scrolled:r.value}])},[e("nav",wt,[e("div",$t,[y(v(_),{href:"/"},{default:M(()=>[y(pe,{width:"60",height:"60"})]),_:1})]),e("div",Ct,[y(yt)])])],2))}},Vt=H(Dt,[["__scopeId","data-v-ac360c84"]]);export{Vt as H};
