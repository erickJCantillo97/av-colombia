import{_ as L}from"./AppLayout-DgpPP5Q6.js";import{Q as O,d as C,c as S,o as d,w as k,a as s,b as l,t as o,h as a,f as g,g as y,i as n,I as V}from"./app-Ba2U9p49.js";import{a as j,s as r}from"./index-CvuW-r9c.js";import{s as z}from"./index-e9CpkAaX.js";import{s as B}from"./index-BEM-t2oN.js";import"./marked.esm-BPgSS2IS.js";import"./Auth-JeWlC0rk.js";/* empty css                                                             */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DeTSZCPX.js";import"./index-DV9tyKJU.js";import"./index-BnYllSRQ.js";import"./index-Cq9AMJ2f.js";import"./index-tq-n4dVB.js";import"./index-BAoKvEwL.js";import"./index-CKgL2077.js";import"./index-DocOhKzs.js";const F={class:"h-[90vh] md:h-[99vh] overflow-y-auto"},I={class:"max-w-4xl mx-auto p-6"},q={class:"flex justify-between items-start mb-6"},A={class:"text-gray-600"},H={class:"flex items-center space-x-3"},_={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},M={class:"lg:col-span-2 space-y-6"},Q={class:"bg-white rounded-lg shadow p-6"},U={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},G={class:"font-semibold text-lg mb-2"},J={class:"space-y-2 text-sm text-gray-600"},K={class:"flex items-center"},W={class:"flex items-center"},X={class:"flex items-center"},Y={class:"flex items-center"},Z={class:"h-32 bg-gray-200 rounded"},ss=["src","alt"],es={key:1,class:"w-full h-full bg-gray-300 flex items-center justify-center rounded"},ts={class:"bg-white rounded-lg shadow p-6"},os={class:"space-y-3"},is={class:"flex justify-between items-center"},ns={class:"flex justify-between items-center"},as={class:"flex justify-between items-center"},ls={class:"flex justify-between items-center"},ds={class:"font-semibold text-green-600"},rs={key:0,class:"mt-4 p-3 bg-gray-50 rounded"},cs={class:"text-sm text-gray-600"},ms={class:"bg-white rounded-lg shadow p-6"},us={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},gs={class:"space-y-3"},fs={class:"text-gray-900"},bs={class:"text-gray-900"},vs={class:"space-y-3"},xs={class:"text-gray-900"},ks={class:"text-gray-900"},ys={key:0,class:"bg-white rounded-lg shadow p-6"},hs={class:"p-4 bg-blue-50 rounded border-l-4 border-blue-400"},ws={class:"text-gray-700"},ps={class:"space-y-6"},Cs={class:"bg-white rounded-lg shadow p-6"},Ss={class:"space-y-4"},js={class:"text-center p-4 bg-green-50 rounded border"},Ds={class:"font-semibold text-lg"},Rs={class:"text-center"},Ns={class:"text-sm text-gray-500 mt-1"},Ts={class:"text-center p-4 bg-red-50 rounded border"},Es={class:"font-semibold text-lg"},Ps={class:"bg-white rounded-lg shadow p-6"},$s={class:"space-y-2"},Ls={class:"flex justify-between"},Os={class:"font-semibold"},Vs={class:"flex justify-between"},zs={class:"font-semibold"},Bs={class:"flex justify-between font-semibold"},Fs={class:"bg-white rounded-lg shadow p-6 border-l-4 border-green-500"},Is={class:"space-y-2"},qs={class:"flex justify-between"},As={class:"flex justify-between"},Hs={class:"flex justify-between text-lg font-bold text-green-600"},_s={class:"bg-white rounded-lg shadow p-6"},Ms={class:"space-y-2 text-sm"},Qs={class:"flex justify-between"},Us={class:"flex justify-between"},Gs={class:"font-mono"},Js={class:"flex justify-between"},Ks={class:"bg-white rounded-lg shadow p-6"},Ws={class:"space-y-3"},be={__name:"Show",props:{booking:Object},setup(t){const f=t,b=O(),c=C(!1),v=C(!1),D=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:0}),x=i=>D.format(i),h=i=>new Date(i).toLocaleDateString("es-CO",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),R=i=>new Date(i).toLocaleString("es-CO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),m=(i,e)=>{const u=new Date(i),$=new Date(e).getTime()-u.getTime();return Math.ceil($/(1e3*3600*24))},w=i=>({pendiente:"Pendiente",confirmada:"Confirmada",cancelada:"Cancelada",completada:"Completada"})[i]||i,p=i=>({pendiente:"warning",confirmada:"success",cancelada:"danger",completada:"info"})[i]||"secondary",N=()=>{c.value=!0},T=()=>{v.value=!0,V.patch(route("booking-accommodations.cancel",f.booking.id),{},{onSuccess:()=>{b.add({severity:"success",summary:"Reserva Cancelada",detail:"La reserva ha sido cancelada exitosamente",life:5e3}),c.value=!1},onError:()=>{b.add({severity:"error",summary:"Error",detail:"No se pudo cancelar la reserva. Inténtalo nuevamente.",life:3e3})},onFinish:()=>{v.value=!1}})},E=()=>{window.open(route("booking-accommodations.voucher",f.booking.id),"_blank")},P=()=>{b.add({severity:"info",summary:"Contactar Soporte",detail:"Redirigiendo al sistema de soporte...",life:3e3}),setTimeout(()=>{window.open("mailto:soporte@av-colombia.com?subject=Consulta sobre Reserva #"+f.booking.id.toString().padStart(6,"0"),"_blank")},1e3)};return(i,e)=>(d(),S(L,{title:"Detalle de Reserva"},{default:k(()=>[s("div",F,[s("div",I,[s("div",q,[s("div",null,[e[3]||(e[3]=s("h1",{class:"text-2xl font-bold mb-2"},"Detalle de Reserva",-1)),s("p",A,"Reserva #"+o(t.booking.id.toString().padStart(6,"0")),1)]),s("div",H,[l(a(j),{value:w(t.booking.status),severity:p(t.booking.status),size:"large"},null,8,["value","severity"])])]),s("div",_,[s("div",M,[s("div",Q,[e[8]||(e[8]=s("h2",{class:"text-lg font-semibold mb-4 flex items-center"},[s("i",{class:"fa-solid fa-building mr-2"}),n(" Alojamiento ")],-1)),s("div",U,[s("div",null,[s("h3",G,o(t.booking.accommodation.name),1),s("div",J,[s("div",K,[e[4]||(e[4]=s("i",{class:"fa-solid fa-map-marker-alt mr-2"},null,-1)),n(" "+o(t.booking.accommodation.address),1)]),s("div",W,[e[5]||(e[5]=s("i",{class:"fa-solid fa-globe mr-2"},null,-1)),n(" "+o(t.booking.accommodation.city)+", "+o(t.booking.accommodation.country),1)]),s("div",X,[e[6]||(e[6]=s("i",{class:"fa-solid fa-tag mr-2"},null,-1)),n(" "+o(t.booking.accommodation.type),1)]),s("div",Y,[l(a(z),{"model-value":t.booking.accommodation.star_rating,readonly:"",cancel:!1,class:"text-xs"},null,8,["model-value"])])])]),s("div",Z,[t.booking.accommodation.photos?.[0]?(d(),g("img",{key:0,src:t.booking.accommodation.photos[0].url,alt:t.booking.accommodation.name,class:"w-full h-full object-cover rounded"},null,8,ss)):(d(),g("div",es,[...e[7]||(e[7]=[s("i",{class:"fa-solid fa-image text-gray-500 text-xl"},null,-1)])]))])])]),s("div",ts,[e[13]||(e[13]=s("h2",{class:"text-lg font-semibold mb-4 flex items-center"},[s("i",{class:"fa-solid fa-bed mr-2"}),n(" Habitación ")],-1)),s("div",os,[s("div",is,[e[9]||(e[9]=s("span",{class:"font-medium"},"Nombre:",-1)),s("span",null,o(t.booking.room.name),1)]),s("div",ns,[e[10]||(e[10]=s("span",{class:"font-medium"},"Tipo:",-1)),s("span",null,o(t.booking.room.type),1)]),s("div",as,[e[11]||(e[11]=s("span",{class:"font-medium"},"Capacidad:",-1)),s("span",null,o(t.booking.room.capacity)+" personas",1)]),s("div",ls,[e[12]||(e[12]=s("span",{class:"font-medium"},"Precio por noche:",-1)),s("span",ds,o(x(t.booking.room.price)),1)])]),t.booking.room.description?(d(),g("div",rs,[s("p",cs,o(t.booking.room.description),1)])):y("",!0)]),s("div",ms,[e[18]||(e[18]=s("h2",{class:"text-lg font-semibold mb-4 flex items-center"},[s("i",{class:"fa-solid fa-user mr-2"}),n(" Información del Huésped ")],-1)),s("div",us,[s("div",gs,[s("div",null,[e[14]||(e[14]=s("span",{class:"block text-sm font-medium text-gray-500"},"Nombre:",-1)),s("span",fs,o(t.booking.guest_name),1)]),s("div",null,[e[15]||(e[15]=s("span",{class:"block text-sm font-medium text-gray-500"},"Email:",-1)),s("span",bs,o(t.booking.guest_email),1)])]),s("div",vs,[s("div",null,[e[16]||(e[16]=s("span",{class:"block text-sm font-medium text-gray-500"},"Teléfono:",-1)),s("span",xs,o(t.booking.guest_phone),1)]),s("div",null,[e[17]||(e[17]=s("span",{class:"block text-sm font-medium text-gray-500"},"Documento:",-1)),s("span",ks,o(t.booking.guest_document),1)])])])]),t.booking.special_requests?(d(),g("div",ys,[e[19]||(e[19]=s("h2",{class:"text-lg font-semibold mb-4 flex items-center"},[s("i",{class:"fa-solid fa-comment mr-2"}),n(" Solicitudes Especiales ")],-1)),s("div",hs,[s("p",ws,o(t.booking.special_requests),1)])])):y("",!0)]),s("div",ps,[s("div",Cs,[e[25]||(e[25]=s("h3",{class:"text-lg font-semibold mb-4 flex items-center"},[s("i",{class:"fa-solid fa-calendar mr-2"}),n(" Fechas de Estadía ")],-1)),s("div",Ss,[s("div",js,[e[20]||(e[20]=s("div",{class:"text-sm text-gray-500"},"Check-in",-1)),s("div",Ds,o(h(t.booking.check_in_date)),1),e[21]||(e[21]=s("div",{class:"text-xs text-gray-500"},"A partir de las 15:00",-1))]),s("div",Rs,[e[22]||(e[22]=s("i",{class:"fa-solid fa-arrow-down text-gray-400"},null,-1)),s("div",Ns,o(m(t.booking.check_in_date,t.booking.check_out_date))+" "+o(m(t.booking.check_in_date,t.booking.check_out_date)===1?"noche":"noches"),1)]),s("div",Ts,[e[23]||(e[23]=s("div",{class:"text-sm text-gray-500"},"Check-out",-1)),s("div",Es,o(h(t.booking.check_out_date)),1),e[24]||(e[24]=s("div",{class:"text-xs text-gray-500"},"Hasta las 11:00",-1))])])]),s("div",Ps,[e[30]||(e[30]=s("h3",{class:"text-lg font-semibold mb-4 flex items-center"},[s("i",{class:"fa-solid fa-users mr-2"}),n(" Huéspedes ")],-1)),s("div",$s,[s("div",Ls,[e[26]||(e[26]=s("span",null,"Adultos:",-1)),s("span",Os,o(t.booking.guests_adults),1)]),s("div",Vs,[e[27]||(e[27]=s("span",null,"Niños:",-1)),s("span",zs,o(t.booking.guests_children),1)]),e[29]||(e[29]=s("hr",null,null,-1)),s("div",Bs,[e[28]||(e[28]=s("span",null,"Total:",-1)),s("span",null,o(t.booking.guests_adults+t.booking.guests_children)+" "+o(t.booking.guests_adults+t.booking.guests_children===1?"huésped":"huéspedes"),1)])])]),s("div",Fs,[e[33]||(e[33]=s("h3",{class:"text-lg font-semibold mb-4 flex items-center"},[s("i",{class:"fa-solid fa-calculator mr-2"}),n(" Resumen de Precios ")],-1)),s("div",Is,[s("div",qs,[s("span",null,o(t.booking.room.name),1),s("span",null,o(x(t.booking.room.price)),1)]),s("div",As,[s("span",null,o(m(t.booking.check_in_date,t.booking.check_out_date))+" "+o(m(t.booking.check_in_date,t.booking.check_out_date)===1?"noche":"noches"),1),s("span",null,"× "+o(m(t.booking.check_in_date,t.booking.check_out_date)),1)]),e[32]||(e[32]=s("hr",null,null,-1)),s("div",Hs,[e[31]||(e[31]=s("span",null,"Total Pagado:",-1)),s("span",null,o(x(t.booking.total_price)),1)])])]),s("div",_s,[e[37]||(e[37]=s("h3",{class:"text-lg font-semibold mb-4 flex items-center"},[s("i",{class:"fa-solid fa-info-circle mr-2"}),n(" Información de Reserva ")],-1)),s("div",Ms,[s("div",Qs,[e[34]||(e[34]=s("span",null,"Fecha de Reserva:",-1)),s("span",null,o(R(t.booking.created_at)),1)]),s("div",Us,[e[35]||(e[35]=s("span",null,"Código de Referencia:",-1)),s("span",Gs,"#"+o(t.booking.id.toString().padStart(6,"0")),1)]),s("div",Js,[e[36]||(e[36]=s("span",null,"Estado:",-1)),l(a(j),{value:w(t.booking.status),severity:p(t.booking.status)},null,8,["value","severity"])])])]),s("div",Ks,[e[38]||(e[38]=s("h3",{class:"text-lg font-semibold mb-4"},"Acciones",-1)),s("div",Ws,[l(a(r),{onClick:e[0]||(e[0]=u=>i.$inertia.visit(i.route("booking-accommodations.index"))),icon:"fa-solid fa-arrow-left",label:"Volver a Reservas",severity:"secondary",size:"small",class:"w-full"}),t.booking.status==="confirmada"?(d(),S(a(r),{key:0,onClick:N,icon:"fa-solid fa-times",label:"Cancelar Reserva",severity:"danger",size:"small",class:"w-full"})):y("",!0),l(a(r),{onClick:E,icon:"fa-solid fa-download",label:"Descargar Comprobante",severity:"success",size:"small",class:"w-full"}),l(a(r),{onClick:P,icon:"fa-solid fa-headset",label:"Contactar Soporte",severity:"info",size:"small",class:"w-full"})])])])])])]),l(a(B),{visible:c.value,"onUpdate:visible":e[2]||(e[2]=u=>c.value=u),modal:"",header:"Confirmar Cancelación",style:{width:"450px"}},{footer:k(()=>[l(a(r),{label:"No, mantener reserva",severity:"secondary",onClick:e[1]||(e[1]=u=>c.value=!1)}),l(a(r),{label:"Sí, cancelar reserva",severity:"danger",onClick:T,loading:v.value},null,8,["loading"])]),default:k(()=>[e[39]||(e[39]=s("div",{class:"flex items-center space-x-3 mb-4"},[s("i",{class:"fa-solid fa-exclamation-triangle text-yellow-500 text-2xl"}),s("div",null,[s("p",{class:"font-semibold"},"¿Estás seguro de que quieres cancelar esta reserva?"),s("p",{class:"text-sm text-gray-600 mt-1"},"Esta acción no se puede deshacer.")])],-1))]),_:1},8,["visible"])]),_:1}))}};export{be as default};
