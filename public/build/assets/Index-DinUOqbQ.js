import{s as C}from"./index-C4ERNQlO.js";import{e3 as w,f1 as U,d as p,C as x,f as N,a as n,b as r,w as m,u as s,F as R,G as S,o as A}from"./app-BlyJcCW_.js";import{_ as E}from"./Datatable-DdwfjIVq.js";import{s as I}from"./index-DumBs_uO.js";import{a as T,_ as i}from"./Modal-Iuuk3afp.js";import"./index-uqsHyE2C.js";import"./index-vI5ATDtn.js";import"./index-aYw4DWXa.js";import"./index-DqfdUyID.js";import"./index-CJaRxO-l.js";import"./index-DxKksobM.js";import"./index-Dv0fcuT4.js";import"./postcss-BTe3Eodp.js";import"./index-CzIgNSAz.js";import"./index-xN5DrfmO.js";import"./index-CXRbRjNR.js";import"./index-DT172eNz.js";import"./useCommonUtilities-DO03hYfs.js";import"./moment-Cijl8gKs.js";import"./index-Xal9nT-q.js";import"./index-D3TlLtTC.js";import"./index-0SBQHL-4.js";const D={class:"h-[99vh]"},_={class:"space-y-3"},oe={__name:"Index",props:{users:Array},setup(c){const f=[{header:"Nombre",field:"name",filter:!0},{header:"Correo",field:"email",filter:!0},{header:"Creación",field:"created_at",type:"datetime",filter:!0},{header:"URL Portafolio",field:"url"}],b=w(),v=U(),u=p(!1),e=x({id:null,name:"",email:"",password:"",rol:"",password_confirmation:""}),t=p(!1),V={action:()=>{e.reset(),u.value=!1,t.value=!0}},g=[{action:l=>{e.reset(),t.value=!0,u.value=!0,e.name=l.name,e.email=l.email,console.log(l.rol),e.rol=l.rol,e.id=l.id},severity:"secondary",icon:"fa-solid fa-pencil text-sm"},{action:(l,o)=>{v.require({target:o.currentTarget,message:"Seguro de Eliminar el Usuario "+l.name+"?",icon:"fa-solid fa-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-sm p-button-danger",rejectLabel:"Cancelar",acceptLabel:"Eliminar",accept:()=>{console.log(l),S.delete(route("users.destroy",l.id),{onSuccess:()=>{b.add({severity:"error",icon:"fa-solid fa-trash-can",summary:"¡Accion realizada!",detail:"Usuario eliminado con exito",group:"customTooltipDataTable",life:5e3})}})}})},severity:"danger",icon:"fa-regular fa-trash-can text-sm"}],y=()=>{u.value?e.put(route("users.update",e.id),{onSuccess:()=>{t.value=!1}}):e.post(route("users.store"),{onSuccess:()=>{t.value=!1}})};return(l,o)=>{const d=C;return A(),N(R,null,[n("div",D,[r(E,{columnas:f,add:V,data:c.users,routecreate:"services.create",actions:g},null,8,["data"])]),r(T,{visible:t.value,"onUpdate:visible":o[6]||(o[6]=a=>t.value=a)},{title:m(()=>o[7]||(o[7]=[n("span",{class:"text-xl font-bold white-space-nowrap"}," Agregar Usuario",-1)])),icon:m(()=>o[8]||(o[8]=[n("i",{class:"fa-solid fa-plus"},null,-1)])),footer:m(()=>[r(d,{onClick:y,title:"Guardar",severity:"success",label:"Guardar",outlined:"",icon:"fa-solid fa-save",class:"!h-8"}),r(d,{onClick:o[5]||(o[5]=a=>t.value=!1),title:"Cancel",severity:"danger",label:"Cancelar",outlined:"",icon:"fa-solid fa-times",class:"!h-8"})]),default:m(()=>[n("div",_,[r(i,{label:"Nombre",modelValue:s(e).name,"onUpdate:modelValue":o[0]||(o[0]=a=>s(e).name=a),"error-message":s(e).errors.name},null,8,["modelValue","error-message"]),r(i,{label:"Email",modelValue:s(e).email,"onUpdate:modelValue":o[1]||(o[1]=a=>s(e).email=a)},null,8,["modelValue"]),r(i,{label:"Rol",type:"dropdown",options:["SUPER ADMINISTRADOR","ADMINISTRADOR","VENDEDOR","VISITANTE","SIN ROL"],modelValue:s(e).rol,"onUpdate:modelValue":o[2]||(o[2]=a=>s(e).rol=a)},null,8,["modelValue"]),r(i,{label:"Contraseña",type:"password",modelValue:s(e).password,"onUpdate:modelValue":o[3]||(o[3]=a=>s(e).password=a)},null,8,["modelValue"]),r(i,{label:"Confirmar contraseña",type:"password",modelValue:s(e).password_confirmation,"onUpdate:modelValue":o[4]||(o[4]=a=>s(e).password_confirmation=a)},null,8,["modelValue"])])]),_:1},8,["visible"]),r(s(I))],64)}}};export{oe as default};
