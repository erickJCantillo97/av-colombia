import{s as T}from"./index-CoewWf-d.js";import{s as j,d as I}from"./index-CGIvZzHx.js";import{s as P}from"./index-BhspKm0x.js";import{aw as V,M as A,d as v,o as d,f as p,b as a,w as _,x as E,a as t,F as L,i as N,t as b,g as R}from"./app-yk402Oog.js";import"./index-rontSgNu.js";import"./index-B8DU8SZU.js";import"./index-DTgbNvHY.js";const D={class:"card"},O={class:"flex flex-wrap justify-between items-center flex-1 gap-4"},Q={class:"flex gap-2"},q={class:"flex flex-col gap-8 pt-4"},G={key:0},H=t("h5",null,"Pending",-1),J={class:"flex flex-wrap gap-4"},K=["alt","src"],W={class:"font-semibold text-ellipsis max-w-60 whitespace-nowrap overflow-hidden"},X=t("div",{class:"flex items-center justify-center flex-col"},[t("i",{class:"pi pi-cloud-upload !border-2 !rounded-full !p-8 !text-xl !text-muted-color"}),t("p",{class:"mt-6 mb-0"},"Arrastrar y soltar Imagenes AQUI.")],-1),ie={__name:"FileSelection",props:{service:{type:Object}},setup(k){const y=k,z=V(),S=A(),m=v(0),w=v(0),f=v([]),F=(e,o,c)=>{o(c),m.value-=parseInt(u(e.size)),w.value=m.value/10},$=e=>{f.value=e.files,f.value.forEach(o=>{m.value+=parseInt(u(o.size))})},C=e=>{e()},U=()=>{S.add({severity:"info",summary:"Success",detail:"File Uploaded",life:3e3})},u=e=>{const l=z.config.locale.fileSizeTypes;if(e===0)return`0 ${l[0]}`;const r=Math.floor(Math.log(e)/Math.log(1024));return`${parseFloat((e/Math.pow(1024,r)).toFixed(3))} ${l[r]}`},B=e=>{let o;o=e.files,E.post(route("upload.images",y.service.slug),{images:o},{onSuccess:()=>{alert("subidos")}})};return(e,o)=>{const c=P,l=j,r=I,g=T;return d(),p("div",D,[a(c),a(g,{name:"demo[]",customUpload:"",onUpload:o[0]||(o[0]=n=>U()),multiple:!0,accept:"image/*",maxFileSize:1e6,onUploader:B,onSelect:$},{header:_(({chooseCallback:n,uploadCallback:h,clearCallback:x,files:i})=>[t("div",O,[t("div",Q,[a(l,{onClick:s=>n(),icon:"pi pi-images",size:"small",severity:"primary",label:"Seleccionar"},null,8,["onClick"]),a(l,{label:"Subir",onClick:s=>C(h),icon:"pi pi-cloud-upload",size:"small",severity:"success",disabled:!i||i.length===0},null,8,["onClick","disabled"]),a(l,{label:"Limpiar",onClick:s=>x(),icon:"pi pi-times",size:"small",severity:"danger",disabled:!i||i.length===0},null,8,["onClick","disabled"])])])]),content:_(({files:n,uploadedFiles:h,removeUploadedFileCallback:x,removeFileCallback:i})=>[t("div",q,[n.length>0?(d(),p("div",G,[H,t("div",J,[(d(!0),p(L,null,N(n,(s,M)=>(d(),p("div",{key:s.name+s.type+s.size,class:"p-8 rounded-border flex flex-col border border-surface items-center gap-4"},[t("div",null,[t("img",{role:"presentation",alt:s.name,src:s.objectURL,width:"100",height:"50"},null,8,K)]),t("span",W,b(s.name),1),t("div",null,b(u(s.size)),1),a(r,{value:"Pending",severity:"warn"}),a(l,{icon:"pi pi-times",onClick:Y=>F(s,i,M),outlined:"",rounded:"",severity:"danger"},null,8,["onClick"])]))),128))])])):R("",!0)])]),empty:_(()=>[X]),_:1})])}}};export{ie as default};
