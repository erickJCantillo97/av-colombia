import{C as c,r as g}from"./chart-bBXEBIVA.js";import{d as C,p as h,B as y,f as _,o as x,a as k}from"./app-BmHNQmxM.js";const w={class:"w-full h-96 shadow-xl rounded-lg p-4 bg-white"},I={__name:"ComparisonBarChart",props:{data:{type:Array,default:()=>[]},title:{type:String,default:""}},setup(u){c.register(...g);const a=u,e=C(null);let r=null;const l=()=>{if(!e.value||!a.data.length)return;r&&r.destroy();const d=e.value.getContext("2d"),s=a.data.map(t=>t.month),m=a.data.map(t=>t.total_pagado),b=a.data.map(t=>t.total_recaudado);r=new c(d,{type:"bar",data:{labels:s,datasets:[{label:"Total Pagado a Proveedores",data:m,backgroundColor:"rgba(239, 68, 68, 0.8)",borderColor:"rgb(239, 68, 68)",borderWidth:2},{label:"Total Recaudado",data:b,backgroundColor:"rgba(16, 185, 129, 0.8)",borderColor:"rgb(16, 185, 129)",borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top"},title:{display:!0,text:a.title,font:{size:16,weight:"bold"}},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.9)",padding:12,titleColor:"#fff",bodyColor:"#fff",borderColor:"rgba(255, 255, 255, 0.2)",borderWidth:1,callbacks:{title:function(t){return t[0].label},beforeBody:function(t){const o=t[0].dataIndex;return a.data[o].total_pagado,a.data[o].total_recaudado,""},label:function(t){let o=t.dataset.label||"";return o&&(o+=": "),o+=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(t.parsed.y),o},footer:function(t){const o=t[0].dataIndex,p=a.data[o].total_pagado,n=a.data[o].total_recaudado,i=n-p,f=n>0?(i/n*100).toFixed(1):0;return["━━━━━━━━━━━━━━━━━","Utilidad: "+new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(i),"Margen: "+f+"%"]}},footerColor:"#10b981",footerFont:{weight:"bold",size:12}}},scales:{x:{ticks:{maxRotation:45,minRotation:45,font:{size:11}}},y:{beginAtZero:!0,ticks:{callback:function(t){return new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,notation:"compact",compactDisplay:"short"}).format(t)}}}}}})};return h(()=>{l()}),y(()=>a.data,()=>{l()},{deep:!0}),(d,s)=>(x(),_("div",w,[k("canvas",{ref_key:"chartCanvas",ref:e},null,512)]))}};export{I as default};
