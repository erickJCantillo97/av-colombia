import{d as h,q as T,L as A,B as U,e as z,f as m,o as u,b as p,a as t,u as c,j as H,l as G,t as a,c as M,g as C,w as D,dW as L,k as J,S as P,h as Y,F as q,y as Q}from"./app-BjNellcI.js";import{s as i}from"./searchStore-iE7B-ufK.js";/* empty css                                                               */import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{H as K,_ as X}from"./Header-DiyhWKk6.js";import{s as F}from"./index-BJkpZOVD.js";import Z from"./IncludesView-DoosJIy8.js";import ee from"./Gallery-P20bVcV_.js";import"./es-BcKD_m4y.js";import"./autoprefixer-BJjK1t6S.js";import te from"./Equipament-DWLLgURM.js";import se from"./CollectionPoints-CXkUQwvS.js";/* empty css                                                                    */import"./useCommonUtilities-BgDhORlD.js";import"./index-D87lpEpz.js";import"./index-MR8hQepx.js";import"./index-B-blYsoq.js";import"./index-B8ZDaUYu.js";import"./index-BW_YNN3o.js";import"./index-CVokoo2X.js";import"./index-CN3SspLc.js";import"./index-Dc1946K4.js";import"./index-D34w2y8j.js";import"./index-QcBfvx1P.js";import"./index-3w6wzWPC.js";import"./index-BmF1DGBv.js";import"./logo--CNFcF9l.js";import"./index-EPmTm4Xc.js";import"./index-Czb2WY5f.js";import"./index-DwRDBBQP.js";import"./index-CH6uACZj.js";import"./postcss-C2lq3Eur.js";import"./Service-BFia0nSn.js";import"./Toats-Cf-A19kw.js";import"./sweetalert2.all-CFi4Py79.js";const oe={class:"px-4 py-36 md:py-48 md:px-56 max-w-full mx-auto pb-20 lg:pb-8"},re={class:"mb-6"},ae={class:"text-2xl md:text-3xl font-semibold text-gray-900 capitalize mb-2"},le={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},ne={class:"lg:col-span-2 space-y-6"},ie={class:"border-b pb-6"},de={class:"prose max-w-none text-gray-700"},ue=["innerHTML"],ce=["innerHTML"],me={class:"lg:col-span-1"},ve={class:"sticky top-24 hidden lg:block"},ge={class:"bg-white border rounded-2xl shadow-md p-6"},fe={class:"flex items-baseline justify-start gap-x-2"},pe={class:"text-2xl md:text-3xl font-bold text-gray-900"},be={class:"text-sm text-gray-600"},ye={class:"mt-4 space-y-3"},xe={class:"grid grid-cols-2 gap-2"},he={class:"text-sm text-gray-900 font-medium"},we={class:"text-sm text-gray-900 font-medium"},ke={class:"p-0"},_e={class:"text-sm text-gray-900 font-medium"},Ce={class:"p-4 min-w-[300px]"},De={class:"pt-2 w-full"},Se={key:0,class:"mt-4"},Ne={class:"border-t pt-3"},Ae={class:"flex items-center justify-between text-sm text-gray-600"},Me={class:"font-medium text-gray-900"},Ee={class:"flex items-center justify-between text-base font-semibold text-gray-900 mt-3 pt-3 border-t"},Te={key:1,class:"mt-4 border-t pt-3"},je={class:"lg:hidden fixed rounded-2xl bottom-2 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50 mx-4"},Le={class:"px-4 py-3"},Fe={class:"flex-1"},Oe={class:"text-lg font-bold text-gray-900"},Ie={class:"text-sm text-gray-600"},Re={class:"sticky top-0 bg-white border-b border-gray-200 px-4 py-4 flex items-center justify-between rounded-t-2xl"},$e={class:"p-4 pb-20"},Ve={class:"mb-6"},Be={class:"flex items-baseline justify-start gap-x-2"},Ue={class:"text-2xl font-bold text-gray-900"},ze={class:"text-sm text-gray-600"},He={class:"space-y-4"},Ge={class:"space-y-3"},Je={class:"grid grid-cols-2 gap-3"},Pe={class:"text-sm text-gray-900 font-medium"},Ye={class:"text-sm text-gray-900 font-medium"},qe={class:"space-y-3"},Qe={class:"text-sm text-gray-900 font-medium"},We={key:0,class:"border-t pt-4 mt-6"},Ke={class:"space-y-2"},Xe={class:"flex items-center justify-between text-sm text-gray-600"},Ze={class:"font-medium text-gray-900"},et={class:"flex items-center justify-between text-base font-semibold text-gray-900 pt-2 border-t"},tt={class:"sticky bottom-0 bg-white border-t border-gray-200 p-4"},st={__name:"Show",props:{service:Object,availabilities:Array},setup(w){const l=w,S=h(!1),d=h(null),n=h(1),b=h(null),E=h(null),N=h(!1),O=T(()=>{if(!l.availabilities)return new Set;try{const s=new Set;return l.availabilities.forEach(e=>{e&&(typeof e=="string"?s.add(e.split("T")[0]):e.date?s.add(e.date.split("T")[0]):e.start_date?s.add(e.start_date.split("T")[0]):e.start&&s.add(e.start.split("T")[0]))}),s}catch{return new Set}});function k(s){if(!s)return null;const e=s.getFullYear(),r=String(s.getMonth()+1).padStart(2,"0"),o=String(s.getDate()).padStart(2,"0");return`${e}-${r}-${o}`}function I(s){console.log("Calendar change:",s);try{if(!s){d.value=null,i.checkin.value="",i.checkout.value="";return}if(Array.isArray(s)){const[e,r]=s;d.value=s,i.checkin.value=e?k(e):"",i.checkout.value=r?k(r):"",e&&r&&setTimeout(()=>{try{b.value?.hide()}catch{}},500)}}catch(e){console.error("Error handling calendar change:",e)}}T(()=>{if(!d.value||d.value.length<2)return!1;const[s,e]=d.value;if(!s||!e)return!1;const r=new Date(s),o=new Date(e);if(r>o)return!1;const x=O.value;if(x.size===0)return!0;for(let _=new Date(r);_<=o;_.setDate(_.getDate()+1)){const B=k(_);if(!x.has(B))return!1}return!0});const v=h(null),g=h(null);A(d,s=>{if(!s){v.value=null,g.value=null;return}Array.isArray(s)&&(v.value=s[0]?k(s[0]):null,g.value=s[1]?k(s[1]):null)}),U(()=>{try{const s=i.checkin?.value,e=i.checkout?.value;if(s&&e){const o=new Date(s),x=new Date(e);!isNaN(o)&&!isNaN(x)&&(d.value=[o,x])}else if(s){const o=new Date(s);isNaN(o)||(d.value=[o,null])}const r=i.guests?.value;if(r){const o=Number(r.adults||0)+Number(r.children||0)+Number(r.infants||0)||1;n.value=o}}catch(s){console.error("Error mounting component:",s)}}),A([()=>i.checkin.value,()=>i.checkout.value],([s,e])=>{try{if(s&&e){const r=new Date(s),o=new Date(e);if(!isNaN(r)&&!isNaN(o)){const x=d.value?.[0],_=d.value?.[1];(!x||!_||k(x)!==s||k(_)!==e)&&(d.value=[r,o])}}else if(s&&!e){const r=new Date(s);isNaN(r)||(d.value=[r,null])}else d.value=null}catch(r){console.error("Error watching store changes:",r)}}),A(()=>i.guests.value,s=>{if(!s)return;const e=Number(s.adults||0)+Number(s.children||0)+Number(s.infants||0)||1;n.value=e},{deep:!0}),A(n,s=>{const e=i.guests.value||{adults:1,children:0,infants:0},r=Math.max(1,Number(s)-(Number(e.children||0)+Number(e.infants||0)));i.guests.value={...e,adults:r}});function R(s){const r={...i.guests.value||{adults:1,children:0,infants:0}};r[s]=Math.max(0,(r[s]||0)+1),i.guests.value=r;const o=r.adults+r.children+r.infants;n.value=o||1}function $(s){const r={...i.guests.value||{adults:1,children:0,infants:0}};s==="adults"?r[s]=Math.max(1,(r[s]||1)-1):r[s]=Math.max(0,(r[s]||0)-1),i.guests.value=r;const o=r.adults+r.children+r.infants;n.value=o||1}const f=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),y={name:l.service.title,price:f.format(l.service.price),rating:4,images:l.service.images.map(s=>s.filepath),features:l.service.features,description:l.service.description,details:[{name:"Incluidos",items:JSON.parse(l.service.includes)},{name:"No Incluidos",items:JSON.parse(l.service.notIncludes)}]},j=T(()=>l.service.type==="TOUR"?l.service.adults_price*n.value:l.service.type==="EMBARCACION"?l.service.adults_price:y.price*n.value),V=()=>{Q.get(route("check.out"))};return(s,e)=>{const r=z("VueDatePicker");return u(),m(q,null,[p(c(H),{title:`Av Colombia -  ${y.name}`},null,8,["title"]),p(K),t("div",oe,[t("div",re,[t("h1",ae,a(y.name),1),e[14]||(e[14]=G('<div class="flex flex-wrap items-center gap-4 text-sm" data-v-73d1bc00><div class="flex items-center gap-3 ml-auto" data-v-73d1bc00><button class="flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg border" data-v-73d1bc00><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-73d1bc00><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z" data-v-73d1bc00></path></svg> Compartir </button><button class="flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg border" data-v-73d1bc00><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-73d1bc00><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" data-v-73d1bc00></path></svg> Guardar </button></div></div>',1))]),p(ee,{images:y.images,class:"mb-8"},null,8,["images"]),t("div",le,[t("main",ne,[e[16]||(e[16]=t("div",{class:"border-b pb-1"},null,-1)),t("section",ie,[e[15]||(e[15]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-3"},"Acerca de esta experiencia",-1)),t("div",de,[p(L,{name:"expand"},{default:D(()=>[S.value||y.description.length<=500?(u(),m("div",{key:"full",innerHTML:y.description},null,8,ue)):(u(),m("div",{key:"short",innerHTML:y.description.slice(0,500)+"..."},null,8,ce))]),_:1}),y.description.length>500?(u(),m("button",{key:0,onClick:e[0]||(e[0]=o=>S.value=!S.value),class:"text-gray-900 hover:underline mt-2 font-medium"},a(S.value?"Mostrar menos":"Mostrar más")+" › ",1)):C("",!0)])]),w.service.type=="EMBARCACION"?(u(),M(te,{key:0,service:w.service,class:"border-b pb-6"},null,8,["service"])):C("",!0),w.service.includes!="[]"?(u(),M(Z,{key:1,service:w.service,class:"border-b pb-6"},null,8,["service"])):C("",!0),w.service.recogidas!="[]"?(u(),M(se,{key:2,service:w.service,class:"border-b pb-6"},null,8,["service"])):C("",!0)]),t("aside",me,[t("div",ve,[t("div",ge,[t("div",fe,[t("div",pe,a(c(f).format(l.service.adults_price)),1),t("div",be,a(l.service.type=="TOUR"?"por persona":"por Embarcación"),1)]),t("form",ye,[t("div",xe,[t("div",null,[e[17]||(e[17]=t("label",{class:"text-xs font-medium text-gray-700 block mb-1"},"LLEGADA",-1)),t("button",{type:"button",class:"w-full text-left border border-gray-300 rounded-lg px-3 py-3 bg-white hover:border-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-400",onClick:e[1]||(e[1]=o=>b.value?.toggle(o))},[t("div",he,a(v.value?new Date(v.value).toLocaleDateString("es-ES",{day:"numeric",month:"short"}):"Agregar fecha"),1)])]),t("div",null,[e[18]||(e[18]=t("label",{class:"text-xs font-medium text-gray-700 block mb-1"},"SALIDA",-1)),t("button",{type:"button",class:"w-full text-left border border-gray-300 rounded-lg px-3 py-3 bg-white hover:border-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-400",onClick:e[2]||(e[2]=o=>b.value?.toggle(o))},[t("div",we,a(g.value?new Date(g.value).toLocaleDateString("es-ES",{day:"numeric",month:"short"}):"Agregar fecha"),1)])]),p(c(F),{ref_key:"op",ref:b,appendTo:"body",class:"!w-auto"},{default:D(()=>[t("div",ke,[p(r,{modelValue:d.value,"onUpdate:modelValue":[e[3]||(e[3]=o=>d.value=o),I],range:"","min-date":new Date,inline:"","auto-apply":"",teleport:!1,locale:"es",format:"dd/MM/yyyy","preview-format":"dd/MM/yyyy",placeholder:"Selecciona fechas"},null,8,["modelValue","min-date"])])]),_:1},512)]),t("div",null,[e[20]||(e[20]=t("label",{class:"text-xs font-medium text-gray-700 block mb-1"},"VIAJEROS",-1)),t("button",{type:"button",class:"w-full text-left border border-gray-300 rounded-lg px-3 py-3 bg-white hover:border-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-400",onClick:e[4]||(e[4]=o=>E.value?.toggle(o))},[t("div",_e,a(n.value)+" viajero"+a(n.value>1?"s":""),1)]),p(c(F),{ref_key:"guestsOp",ref:E,appendTo:"body",class:"!w-auto"},{default:D(()=>[t("div",Ce,[e[19]||(e[19]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"¿Quién viene?",-1)),p(X,{guests:c(i).guests.value||{adults:1,children:0,infants:0},onIncrement:R,onDecrement:$},null,8,["guests"])])]),_:1},512)]),t("div",De,[!v.value||!g.value?(u(),m("button",{key:0,type:"button",class:"w-full bg-[#FF385C] hover:bg-[#E31C5F] text-white rounded-lg py-3 font-semibold transition duration-200",onClick:e[5]||(e[5]=o=>b.value?.toggle(o))}," Revisa las fechas ")):(u(),m("button",{key:1,onClick:V,type:"button",class:"w-full bg-black text-white rounded-lg py-3 font-semibold transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed"}," Reservar "))])]),v.value&&g.value?(u(),m("div",Se,[t("div",Ne,[t("div",Ae,[t("div",null,a(c(f).format(l.service.adults_price))+" x "+a(n.value)+" huésped"+a(n.value>1?"es":""),1),t("div",Me,a(c(f).format(j.value)),1)]),t("div",Ee,[e[21]||(e[21]=t("div",null,"Total",-1)),t("div",null,a(c(f).format(j.value)),1)])])])):(u(),m("div",Te,e[22]||(e[22]=[t("div",{class:"text-center text-gray-500 py-4"},[t("p",{class:"text-sm"},"Selecciona las fechas para ver el precio total")],-1)]))),e[23]||(e[23]=t("p",{class:"mt-3 text-xs text-gray-500"},"Política flexible · Cancelación gratuita hasta 24 horas antes",-1))])])])]),t("div",je,[t("div",Le,[t("div",{class:"flex items-center justify-between",onClick:e[6]||(e[6]=o=>N.value=!0)},[t("div",Fe,[t("div",Oe,a(c(f).format(l.service.adults_price)),1),t("div",Ie,a(l.service.type=="TOUR"?"por persona":"por Embarcación"),1)]),e[24]||(e[24]=t("button",{class:"bg-[#FF385C] hover:bg-[#E31C5F] text-white px-6 py-3 rounded-lg font-semibold transition duration-200"}," Reservar ",-1))])])]),p(L,{name:"mobile-modal"},{default:D(()=>[N.value?(u(),m("div",{key:0,class:"lg:hidden fixed inset-0 z-50 overflow-hidden",onClick:e[13]||(e[13]=o=>N.value=!1)},[e[33]||(e[33]=t("div",{class:"absolute inset-0 bg-black bg-opacity-50 transition-opacity"},null,-1)),t("div",{class:"absolute bottom-0 left-0 right-0 bg-white rounded-t-2xl shadow-xl max-h-[90vh] overflow-y-auto transform transition-transform mobile-booking-content",onClick:e[12]||(e[12]=J(()=>{},["stop"]))},[t("div",Re,[e[26]||(e[26]=t("h2",{class:"text-lg font-semibold text-gray-900"},"Reservar experiencia",-1)),t("button",{onClick:e[7]||(e[7]=o=>N.value=!1),class:"p-2 hover:bg-gray-100 rounded-full transition-colors"},e[25]||(e[25]=[t("svg",{class:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),t("div",$e,[t("div",Ve,[t("div",Be,[t("div",Ue,a(c(f).format(l.service.adults_price)),1),t("div",ze,a(l.service.type=="TOUR"?"por persona":"por Embarcación"),1)])]),t("form",He,[t("div",Ge,[e[29]||(e[29]=t("h3",{class:"text-base font-medium text-gray-900"},"Fechas",-1)),t("div",Je,[t("div",null,[e[27]||(e[27]=t("label",{class:"text-xs font-medium text-gray-700 block mb-1"},"LLEGADA",-1)),t("button",{type:"button",class:"w-full text-left border border-gray-300 rounded-lg px-3 py-3 bg-white hover:border-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-400",onClick:e[8]||(e[8]=o=>b.value?.toggle(o))},[t("div",Pe,a(v.value?new Date(v.value).toLocaleDateString("es-ES",{day:"numeric",month:"short"}):"Agregar fecha"),1)])]),t("div",null,[e[28]||(e[28]=t("label",{class:"text-xs font-medium text-gray-700 block mb-1"},"SALIDA",-1)),t("button",{type:"button",class:"w-full text-left border border-gray-300 rounded-lg px-3 py-3 bg-white hover:border-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-400",onClick:e[9]||(e[9]=o=>b.value?.toggle(o))},[t("div",Ye,a(g.value?new Date(g.value).toLocaleDateString("es-ES",{day:"numeric",month:"short"}):"Agregar fecha"),1)])])])]),t("div",qe,[e[30]||(e[30]=t("h3",{class:"text-base font-medium text-gray-900"},"Viajeros",-1)),t("button",{type:"button",class:"w-full text-left border border-gray-300 rounded-lg px-3 py-3 bg-white hover:border-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-400",onClick:e[10]||(e[10]=o=>E.value?.toggle(o))},[t("div",Qe,a(n.value)+" viajero"+a(n.value>1?"s":""),1)])]),v.value&&g.value?(u(),m("div",We,[t("div",Ke,[t("div",Xe,[t("div",null,a(c(f).format(l.service.adults_price))+" x "+a(n.value)+" huésped"+a(n.value>1?"es":""),1),t("div",Ze,a(c(f).format(l.service.adults_price*n.value)),1)]),t("div",et,[e[31]||(e[31]=t("div",null,"Total",-1)),t("div",null,a(c(f).format(l.service.adults_price*n.value)),1)])])])):C("",!0)])]),t("div",tt,[!v.value||!g.value?(u(),m("button",{key:0,type:"button",class:"w-full bg-[#FF385C] hover:bg-[#E31C5F] text-white rounded-lg py-3 font-semibold transition duration-200",onClick:e[11]||(e[11]=o=>b.value?.toggle(o))}," Revisa las fechas ")):(u(),M(c(P),{key:1,type:"button",class:"w-full bg-black text-white rounded-lg py-3 font-semibold transition duration-200",href:s.route("check.out")},{default:D(()=>e[32]||(e[32]=[Y(" Reservar ")])),_:1},8,["href"]))])])])):C("",!0)]),_:1})])],64)}}},$t=W(st,[["__scopeId","data-v-73d1bc00"]]);export{$t as default};
