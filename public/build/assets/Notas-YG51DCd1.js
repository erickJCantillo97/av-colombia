import{ap as T,aq as U,x as G,d as S,B as q,c as B,o as i,w as h,a as e,f as c,m as O,u as p,v as M,F as D,i as R,t as l,b as u,h as F,g as _,T as Q,y as W,A as I}from"./app-aA9nSitK.js";import{s as X}from"./index-DNXfs0wQ.js";import{s as Y}from"./index-C9ovsqEP.js";import{s as L}from"./index-ChFfcyM7.js";import{S as E}from"./sweetalert2.esm.all-DV3w3JmD.js";import{a as Z}from"./toasts-Bf1FAz7R.js";import{_ as H}from"./Modal-BDzRyNI8.js";import{_ as P}from"./Input-BQyyf2GQ.js";import{_ as ee}from"./logo-D82tl7Jy.js";import{_ as te}from"./Loading-M-4CCUPR.js";const oe={class:"p-2"},se={class:"mb-4 flex flex-col"},le={class:"grid grid-cols-5 border-y items-center border text-right gap-x-4"},ne={class:"col-span-1"},ae={class:"col-span-1 text-nowrap truncate"},ie={class:"col-span-1"},re={class:"col-span-1"},de=["onUpdate:modelValue"],ue={class:"flex justify-end p-6 space-x-4"},ce={__name:"ServiceCancel",props:T({service:Object},{modelValue:{},modelModifiers:{},view:{default:!1},viewModifiers:{}}),emits:["update:modelValue","update:view"],setup(o){const k=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:0}),f=U(o,"modelValue"),b=U(o,"view"),v=o,y=G({date:"",proveedors:[]}),V=S([]);q(()=>{V.value=v.service.proveedors.map(r=>{var s=r.proveedor;return{proveedor_id:r.id,concept:s.concept,proveedor:r,pasajeros:v.service.adults,cost:r.cost,proveedor_name:s.proveedor.nombre,costo_penalidad:s.proveedor.type_penalidad_cost=="Porcentaje"?s.proveedor.penalidad_cancelacion/100*r.cost:s.proveedor.penalidad_cancelacion*v.service.adults}})});const x=()=>{y.proveedors=V.value,y.post(route("cancelar.servicio",v.service.id),{onSuccess:()=>{f.value=!1,b.value=!1,console.log("Cancelado")}})};return(r,s)=>{const a=L;return i(),B(H,{title:`Cancelar Servicio ${o.service.service}`,modelValue:f.value,"onUpdate:modelValue":s[2]||(s[2]=m=>f.value=m),width:"70vw",onClose:s[3]||(s[3]=m=>f.value=!1),"close-on-escape":""},{default:h(()=>[e("div",oe,[e("div",se,[s[4]||(s[4]=e("label",{for:"",class:"font-bold"},"Fecha de Cancelaci贸n",-1)),O(e("input",{label:"Fecha de Cancelaci贸n",type:"date",class:"rounded-lg shadow-sm border-gray-300 p-2","onUpdate:modelValue":s[0]||(s[0]=m=>p(y).date=m)},null,512),[[M,p(y).date]])]),s[5]||(s[5]=e("div",{class:"grid grid-cols-5 font-bold uppercase bg-gray-300 p-2 text-center"},[e("div",{class:"col-span-1"},"Proveedor"),e("div",{class:"col-span-1"},"Concepto"),e("div",{class:"col-span-1"},"Pasajeros"),e("div",{class:"col-span-1"},"Costo"),e("div",{class:"col-span-1"},"Penalidad Total")],-1)),(i(!0),c(D,null,R(V.value,m=>(i(),c("div",le,[e("div",ne,l(m.proveedor_name),1),e("div",ae,l(m.concept),1),e("div",ie,l(m.pasajeros),1),e("div",re,l(p(k).format(m.cost)),1),O(e("input",{class:"col-span-1 rounded-md border border-gray-300 p-2","onUpdate:modelValue":d=>m.costo_penalidad=d,type:"number",mode:"currency"},null,8,de),[[M,m.costo_penalidad]])]))),256))]),e("div",ue,[u(a,{onClick:s[1]||(s[1]=m=>f.value=!1)},{default:h(()=>s[6]||(s[6]=[F("No, Cerrar")])),_:1}),u(a,{severity:"danger",onClick:x},{default:h(()=>s[7]||(s[7]=[F("Si, Cancelar Servicio")])),_:1})])]),_:1},8,["title","modelValue"])}}},ve={class:"p-2"},me={class:"mb-4 flex flex-col"},pe={class:"font-extrabold text-2xl text-center",for:""},fe=["max"],be={class:"grid grid-cols-6 border-y items-center border text-right gap-x-4 py-1"},ye={class:"col-span-1"},xe={class:"col-span-1 text-nowrap truncate"},ge={class:"col-span-1"},we={class:"col-span-1"},Ce=["onUpdate:modelValue","onInput"],$e={class:"col-span-1"},Ve={class:"flex justify-end p-6 space-x-4"},he={__name:"ServiceNoShow",props:T({service:Object},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(o){const k=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:0}),f=U(o,"modelValue"),b=o,v=G({cantidad:b.service.adults,notes:"",proveedors:[]}),y=S([]);q(()=>{y.value=b.service.proveedors.map(s=>{var a=s.proveedor;return{proveedor_id:s.id,concept:a.concept,proveedor:s,pasajeros:b.service.adults,cost:s.cost,proveedor_name:a.proveedor.nombre,totalpayment:0,costo_penalidad:a.proveedor.type_penalidad_cost=="Porcentaje"?a.proveedor.penalidad_no_show/100*s.cost/b.service.adults:a.proveedor.penalidad_no_show}}),x()});const V=()=>{v.proveedors=y.value,v.post(route("noshow.servicio",b.service.id),{onSuccess:()=>{f.value=!1,console.log("No show")}})},x=()=>{y.value.forEach(s=>{s.total_no_show=s.costo_penalidad*v.cantidad,r(s)})},r=s=>{const a=s.pasajeros-v.cantidad,m=s.cost/s.pasajeros*a;s.totalpayment=m+s.costo_penalidad*v.cantidad};return(s,a)=>{const m=L;return i(),B(H,{title:`Marcar como No SHOW ${o.service.service}`,modelValue:f.value,"onUpdate:modelValue":a[3]||(a[3]=d=>f.value=d),width:"70vw",onClose:a[4]||(a[4]=d=>f.value=!1),"close-on-escape":""},{default:h(()=>[e("div",ve,[e("div",me,[e("h1",pe,l(o.service.cliente_name),1),a[5]||(a[5]=e("label",{for:"",class:"font-bold"},"Cuantos no se presentaron?",-1)),O(e("input",{type:"number",min:1,onInput:x,max:o.service.adults,class:"rounded-lg border-gray-300","onUpdate:modelValue":a[0]||(a[0]=d=>p(v).cantidad=d)},null,40,fe),[[M,p(v).cantidad]])]),u(P,{type:"textarea",modelValue:p(v).notes,"onUpdate:modelValue":a[1]||(a[1]=d=>p(v).notes=d),label:"驴Porque no se presentaron?",class:"text-red-500"},null,8,["modelValue"]),a[6]||(a[6]=e("div",{class:"grid grid-cols-6 font-bold uppercase bg-gray-300 p-2 text-center"},[e("div",{class:"col-span-1"},"Proveedor"),e("div",{class:"col-span-1"},"Concepto"),e("div",{class:"col-span-1"},"Pasajeros"),e("div",{class:"col-span-1"},"Costo total Servicio"),e("div",{class:"col-span-1"},"Pago por No Show"),e("div",{class:"col-span-1"},"Total a pagar")],-1)),(i(!0),c(D,null,R(y.value,d=>(i(),c("div",be,[e("div",ye,l(d.proveedor_name),1),e("div",xe,l(d.concept),1),e("div",ge,l(d.pasajeros),1),e("div",we,l(p(k).format(d.cost)),1),O(e("input",{class:"col-span-1 rounded-md border-gray-300 p-2","onUpdate:modelValue":C=>d.costo_penalidad=C,onInput:C=>r(d),type:"number",mode:"currency"},null,40,Ce),[[M,d.costo_penalidad]]),e("div",$e,l(p(k).format(d.totalpayment)),1)]))),256))]),e("div",Ve,[u(m,{onClick:a[2]||(a[2]=d=>f.value=!1)},{default:h(()=>a[7]||(a[7]=[F("No, Cerrar")])),_:1}),u(m,{severity:"warn",onClick:V},{default:h(()=>a[8]||(a[8]=[F("Si, Servicio No show")])),_:1})])]),_:1},8,["title","modelValue"])}}},ke={class:"flex items-center gap-2"},Se={class:"font-bold text-lg"},je={class:"flex flex-col gap-y-1.5 text-sm"},_e={class:"flex justify-between border py-1 bg-white/30 rounded-md px-2"},Oe={class:"flex justify-between border py-1 bg-white/30 rounded-md px-2"},De={key:0,class:"flex justify-between border py-1 bg-white/30 rounded-md px-2"},Ne={class:"flex justify-between border py-1 bg-white/30 rounded-md px-2"},Ae={class:"flex justify-between border py-1 bg-white/30 rounded-md px-2"},Be={class:"flex justify-between border py-1 bg-white/30 rounded-md px-2"},Pe={class:"flex justify-between border py-1 bg-white/30 rounded-md px-2"},Ue=["href"],Fe={class:"flex justify-between border py-1 bg-white/30 rounded-md px-2"},Ie={class:"flex justify-between border py-1 bg-white/30 rounded-md px-2"},Ee={class:"flex justify-between border py-1 bg-white/30 rounded-md px-2"},Me={class:"flex justify-between border py-1 bg-white/30 rounded-md px-2"},Te={class:"flex justify-between border py-1 bg-white/30 rounded-md px-2"},Re={key:1,class:"flex justify-between border py-1 bg-white/30 rounded-md px-2"},Le={key:2,class:"flex justify-between border py-1 bg-white/30 rounded-md px-2"},He={key:3,class:"flex justify-between border py-1 bg-white/30 rounded-md px-2"},Ge={key:4,class:"flex justify-between border py-1 bg-white/30 rounded-md px-2"},qe={key:5,class:"flex justify-between border py-1 bg-white/30 rounded-md px-2"},ze={key:6,class:"flex justify-between border py-1 bg-white/30 rounded-md px-2"},We={class:"flex justify-between border py-1 bg-white/30 rounded-md px-2"},Je={class:"flex justify-between border py-1 bg-white/30 rounded-md px-2"},Ke=["href"],Qe={class:"flex flex-col border py-1 bg-white/30 rounded-md px-2"},Xe={class:"text-lg flex w-full justify-between items-center mt-2"},Ye={class:"rounded-full bg-green-800 text-white px-1.5 py-0.5 text-xs fles items-center justify-center"},Ze={class:"flex justify-between border py-1 bg-white/30 rounded-md px-2"},et={class:"flex flex-col items-center"},tt={class:"grid grid-cols-3 md:grid-cols-6 gap-2"},ot={class:"flex flex-col gap-y-2"},st={class:"flex flex-col gap-y-1"},lt={key:0,class:"flex items-center gap-x-2"},nt={key:1},at={class:"flex items-center gap-2"},it={class:"flex justify-end gap-2"},Bt={__name:"viewBooking",props:T({service:Object,proveedors:Array},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(o){const{toast:k}=Z(),f=o,b=S(null),v=U(o,"modelValue"),y=S(!1),V=S(!1),x=S(!1),r=G({service:f.service.id,current_id:"",new_id:"",state:"REUBICAR",note:"",terminated:!0,value:""}),s=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:0}),a=()=>{y.value=!0},m=(w,t)=>{E.fire({title:w,text:"Estas seguro de realizar esta acci贸n?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si"}).then(j=>{j.isConfirmed&&(E.fire({title:w,text:"Esta reserva ha sido "+w+".",icon:"success"}),W.post(route("set.states"),{service:f.service.id,state:w,terminated:t},{onSuccess:()=>{k("success","Reserva "+w)}}))})},d=()=>{E.fire({title:"Cambio de Fecha",input:"date",inputLabel:"Nueva Fecha",showCancelButton:!0,confirmButtonText:"Cambiar Fecha",showLoaderOnConfirm:!0,preConfirm:async w=>{await W.post(route("set.states"),{service:f.service.id,state:"CAMBIO DE FECHA",date:w,terminated:!1})},allowOutsideClick:()=>!E.isLoading()}).then(w=>{w.isConfirmed&&k("success","Fecha Cambiada")})},C=w=>{if(w==null||w==null)return"Sin definir";var t=new Date(new Date(w).getTime()+new Date(w).getTimezoneOffset()*6e4).toLocaleString("es-CO",{day:"2-digit",month:"2-digit",year:"numeric"});return t=="30/11/2"?"INDEFINIDO":t},g=()=>{if(!b.value||!r.new_id||!r.value)return k("error","Rellene todos los Campos"),0;r.current_id=b.value.id,r.state="REUBICADO",r.terminated=!0,r.post(route("set.states"),{onSuccess:()=>{x.value=!1,r.reset(),k("success","Servicio REUBICADO")}})},N=()=>{r.reset(),x.value=!0},$={reservado:"blue","CAMBIO DE FECHA":"gray","NO SHOW":"amber",REUBICADO:"orange",CANCELADA:"green"};return(w,t)=>{const j=L,J=Y,K=X,A=Q;return i(),c(D,null,[u(J,{visible:v.value,"onUpdate:visible":t[6]||(t[6]=n=>v.value=n),"pt:root:class":`!bg-${$[o.service.status]}-200`,header:"Detalles de la actividad",position:"right"},{header:h(()=>[e("div",ke,[e("span",Se,l(o.service.service),1)])]),footer:h(()=>[e("div",et,[e("div",tt,[O(u(j,{onClick:t[0]||(t[0]=n=>m("reservado",!0)),icon:"fa-solid fa-circle-check",severity:"info"},null,512),[[A,"Reservada",void 0,{top:!0}]]),O(u(j,{onClick:t[1]||(t[1]=n=>V.value=!0),icon:"fa-solid fa-eye-slash",class:"!text-white !bg-yellow-600"},null,512),[[A,"Servicio No show",void 0,{top:!0}]]),O(u(j,{onClick:t[2]||(t[2]=n=>d()),icon:"fa-solid fa-calendar-week",class:"!bg-gray-600 !text-white"},null,512),[[A,"Cambio de Fecha",void 0,{top:!0}]]),O(u(j,{onClick:t[3]||(t[3]=n=>N()),icon:"fa-solid fa-people-arrows",severity:"warn"},null,512),[[A,"Cambio de proveedor",void 0,{top:!0}]]),O(u(j,{onClick:t[4]||(t[4]=n=>a()),icon:"fa-solid fa-xmark-circle",severity:"danger"},null,512),[[A,"Cancelar Servicio",void 0,{top:!0}]]),O(u(j,{onClick:t[5]||(t[5]=n=>m("PROBLEMATICA",!1)),icon:"fa-solid fa-person-dress-burst",class:"flex-auto",severity:"danger"},null,512),[[A,"Servicio Problematico",void 0,{top:!0}]])])])]),default:h(()=>{var n;return[e("div",je,[e("div",_e,[t[17]||(t[17]=e("strong",null,"Fecha del Servicio:",-1)),e("p",null,l(C(o.service.date)),1)]),e("div",Oe,[t[18]||(t[18]=e("strong",null,"Hora del Servicio:",-1)),e("p",null,l(o.service.hour),1)]),o.service.time_service?(i(),c("div",De,[t[19]||(t[19]=e("strong",null,"Duraci贸n del Servicio:",-1)),e("p",null,l(o.service.time_service),1)])):_("",!0),e("div",Ne,[t[20]||(t[20]=e("strong",null,"Canal de Venta:",-1)),e("p",null,l(o.service.channel.name),1)]),e("div",Ae,[t[21]||(t[21]=e("strong",null,"Cliente:",-1)),e("p",null,l(o.service.cliente_name),1)]),e("div",Be,[t[22]||(t[22]=e("strong",null,"Ciudad:",-1)),e("p",null,l(o.service.cliente_city),1)]),e("div",Pe,[t[23]||(t[23]=e("strong",null,"Telelfono:",-1)),e("a",{target:"_blank",href:`https://wa.me/${o.service.cliente_phone}?text=Hola%20,%20mi%20nombre%20es%20*Sandra Gil*,%20Le%20escribo%20desde%20*AV%20COLOMBIA*`},l(o.service.cliente_phone),9,Ue)]),e("div",Fe,[t[24]||(t[24]=e("strong",null,"Edificio:",-1)),e("p",null,l(o.service.cliente_building),1)]),e("div",Ie,[t[25]||(t[25]=e("strong",null,"Adultos:",-1)),e("p",null,l(o.service.adults),1)]),e("div",Ee,[t[26]||(t[26]=e("strong",null,"Ni帽os:",-1)),e("p",null,l(o.service.boys),1)]),e("div",Me,[t[27]||(t[27]=e("strong",null,"Total:",-1)),e("p",null,l(p(s).format(o.service.total)),1)]),e("div",Te,[t[28]||(t[28]=e("strong",null,"Total Real:",-1)),e("p",null,l(p(s).format(o.service.total_real)),1)]),o.service.user?(i(),c("div",Re,[e("strong",null,l(o.service.user.rol=="vendedor"?"Vendedor":"Usuario")+":",1),e("p",null,l((n=o.service.user)==null?void 0:n.name),1)])):_("",!0),o.service.user?(i(),c("div",Le,[t[29]||(t[29]=e("strong",null,"Fecha de reserva:",-1)),e("p",null,l(new Date(o.service.created_at).toLocaleDateString("es-CO")),1)])):_("",!0),o.service.conductor?(i(),c("div",He,[t[30]||(t[30]=e("strong",null,"conductor:",-1)),e("p",null,l(o.service.conductor),1)])):_("",!0),o.service.placa?(i(),c("div",Ge,[t[31]||(t[31]=e("strong",null,"conductor:",-1)),e("p",null,l(o.service.placa),1)])):_("",!0),o.service.total_pago_proveedor?(i(),c("div",qe,[t[32]||(t[32]=e("strong",null,"Valor del Servicio:",-1)),e("p",null,l(p(s).format(o.service.total_pago_proveedor)),1)])):_("",!0),o.service.fecha_cancelacion?(i(),c("div",ze,[t[33]||(t[33]=e("strong",null,"Fecha de Cancelaci贸n:",-1)),e("p",null,l(new Date(new Date(o.service.fecha_cancelacion).setDate(new Date(o.service.fecha_cancelacion).getDate()+1)).toLocaleDateString("es-CO",{day:"numeric",month:"numeric",year:"numeric"})),1)])):_("",!0),e("div",We,[t[34]||(t[34]=e("strong",null,"Saldo:",-1)),e("p",null,l(p(s).format(o.service.saldo)),1)]),e("div",Je,[t[35]||(t[35]=e("strong",null,"Soporte:",-1)),e("a",{target:"_blank",href:o.service.file},"Ver Archivo",8,Ke)]),e("div",Qe,[t[36]||(t[36]=e("strong",null,"Observacion:",-1)),e("p",null,l(o.service.observations),1)]),e("div",Xe,[t[37]||(t[37]=e("p",{class:"font-bold"},"Proveedores",-1)),e("p",Ye,l(o.service.proveedors.length),1)]),(i(!0),c(D,null,R(o.service.proveedors,z=>(i(),c("div",Ze,[e("p",null,l(z.proveedor.proveedor.nombre),1),e("p",null,l(p(s).format(z.cost)),1)]))),256))])]}),_:1},8,["visible","pt:root:class"]),u(H,{modelValue:x.value,"onUpdate:modelValue":t[13]||(t[13]=n=>x.value=n),title:"Cambio de proveedor","close-on-escape":""},{default:h(()=>[e("div",ot,[e("span",st,[t[40]||(t[40]=e("label",{for:"",class:"font-bold"}," Proveedor Actual",-1)),u(K,{placeholder:"Proveedor Actual",options:o.service.proveedors,label:"Proveedor Actual",modelValue:b.value,"onUpdate:modelValue":t[7]||(t[7]=n=>b.value=n),"option-label":"proveedor.name"},{value:h(n=>[n.value?(i(),c("div",lt,[e("div",null,l(b.value.proveedor.proveedor.nombre),1),t[38]||(t[38]=e("span",null,"-",-1)),e("div",null,l(p(s).format(b.value.cost)),1)])):(i(),c("span",nt,l(n.placeholder),1))]),option:h(({option:n})=>[e("div",at,[e("span",null,l(n.proveedor.proveedor.nombre),1),t[39]||(t[39]=e("span",null,"-",-1)),e("span",null,l(p(s).format(n.cost)),1)])]),_:1},8,["options","modelValue"])]),u(P,{"option-label":"nombre",type:"dropdown",label:"Nuevo Proveedor",modelValue:p(r).new_id,"onUpdate:modelValue":t[8]||(t[8]=n=>p(r).new_id=n),options:o.proveedors},null,8,["modelValue","options"]),u(P,{label:"Valor",modelValue:p(r).value,"onUpdate:modelValue":t[9]||(t[9]=n=>p(r).value=n),type:"number",mode:"currency"},null,8,["modelValue"]),u(P,{label:"Nota",modelValue:p(r).note,"onUpdate:modelValue":t[10]||(t[10]=n=>p(r).note=n),type:"textarea",mode:"currency"},null,8,["modelValue"]),e("div",it,[u(j,{onClick:t[11]||(t[11]=n=>x.value=!1),label:"Cancelar",severity:"danger",icon:"fa-solid fa-xmark"}),u(j,{onClick:t[12]||(t[12]=n=>g()),label:"Guardar",severity:"success",icon:"fa-solid fa-save"})])])]),_:1},8,["modelValue"]),y.value?(i(),B(ce,{key:0,modelValue:y.value,"onUpdate:modelValue":t[14]||(t[14]=n=>y.value=n),view:v.value,"onUpdate:view":t[15]||(t[15]=n=>v.value=n),service:o.service},null,8,["modelValue","view","service"])):_("",!0),V.value?(i(),B(he,{key:1,modelValue:V.value,"onUpdate:modelValue":t[16]||(t[16]=n=>V.value=n),service:o.service},null,8,["modelValue","service"])):_("",!0)],64)}}},rt={class:"w-full flex flex-col gap-y-5 p-2"},dt={class:"h-[30vh] overflow-y-auto flex flex-col gap-y-2"},ut={key:0,class:"flex w-full"},ct={class:"w-1/2 flex py-1 px-3 rounded-md items-center justify-between bg-sky-100"},vt={class:"flex flex-col"},mt={class:"text-lg font-bold first-letter:uppercase"},pt={class:"italic text-xs"},ft={key:1,class:"flex w-full"},bt={class:"w-1/2 flex py-1 px-3 rounded-md items-center border justify-between bg-gray-300"},yt={class:"flex flex-col"},xt={class:"text-lg font-bold first-letter:uppercase"},gt={class:"italic text-xs"},wt={key:0,class:"flex justify-center items-center"},Ct={key:0,class:"flex justify-center flex-col items-center"},$t={class:"flex gap-x-2 px-2"},Pt={__name:"Notas",props:T({todayActivity:Boolean,notes:Array,note:String,service:Array},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(o){const k=U(o,"modelValue"),f=o,b=S(f.notes),v=S(!1),y=S(null),V=S(!1),x=S(""),r=()=>{I.post(route("notes.store"),{note:x.value,booking_service_id:f.service.id}).then(C=>{x.value="",d()})},s=C=>{I.delete(route("notes.destroy",C.id)).then(g=>{d()})},a=C=>{x.value=C.note,v.value=!0,y.value=C},m=()=>{I.put(route("notes.update",y.value.id),{note:x.value}).then(C=>{d(),x.value="",v.value=!1,y.value=null})},d=()=>{V.value=!0,I.get(route("notes.index",{booking_service_id:f.service.id})).then(C=>{b.value=C.data.notes,V.value=!1})};return q(()=>{d()}),(C,g)=>{const N=L;return i(),c(D,null,[g[6]||(g[6]=F(" asndlands ")),u(H,{modelValue:k.value,"onUpdate:modelValue":g[1]||(g[1]=$=>k.value=$),"close-on-escape":"",title:"Notas",width:"60vw"},{default:h(()=>[e("div",rt,[g[5]||(g[5]=e("h3",{class:"text-xl font-bold"},"Notas de la Actividad",-1)),e("div",dt,[(i(!0),c(D,null,R(b.value,$=>(i(),c("div",{class:"flex p-2 rounded-md items-center justify-between w-full",key:$.id},[$.user_id==C.$page.props.auth.user.id?(i(),c("div",ut,[g[2]||(g[2]=e("div",{class:"w-1/2"},null,-1)),e("div",ct,[e("span",vt,[e("p",mt,l($.note),1),e("p",pt,l(new Date($.created_at).toISOString().split("T")[0]),1)]),e("div",null,[u(N,{icon:"fa-solid fa-pencil",text:"",severity:"info",onClick:w=>a($)},null,8,["onClick"]),u(N,{icon:"fa-solid fa-trash",text:"",severity:"danger",onClick:w=>s($)},null,8,["onClick"])])])])):(i(),c("div",ft,[e("div",bt,[e("span",yt,[e("p",xt,l($.note),1),e("p",gt,l($.user.name)+" - "+l(new Date($.created_at).toISOString().split("T")[0]),1)])]),g[3]||(g[3]=e("div",{class:"w-1/2"},null,-1))]))]))),128)),V.value?(i(),c("div",wt,[u(te)])):(i(),c(D,{key:1},[b.value.length==0?(i(),c("div",Ct,[u(ee),g[4]||(g[4]=e("p",{class:"font-semibold text-xl"},"Serivicio sin notas",-1))])):_("",!0)],64))]),e("div",$t,[u(P,{type:"textarea",class:"w-full",rowsTextarea:2,modelValue:x.value,"onUpdate:modelValue":g[0]||(g[0]=$=>x.value=$)},null,8,["modelValue"]),v.value?(i(),B(N,{key:1,label:"Editar",severity:"info",icon:"pi pi-send",class:"!h-12",onClick:m})):(i(),B(N,{key:0,label:"Guardar",severity:"success",class:"!h-12",icon:"pi pi-send",onClick:r}))])])]),_:1},8,["modelValue"])],64)}}};export{Bt as _,Pt as a};
