import{C as d,r as b}from"./chart-bBXEBIVA.js";import{d as g,p as f,B as y,f as h,o as m,a as C}from"./app-CCDDEcoO.js";const v={class:"w-full h-96 shadow-xl rounded-lg p-4 bg-white"},k={__name:"GroupedBarChart",props:{data:{type:Array,default:()=>[]},title:{type:String,default:""}},setup(c){d.register(...b);const e=c,s=g(null);let n=null;const i=r=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(r),o=()=>{if(!s.value||!e.data.length)return;n&&n.destroy();const r=s.value.getContext("2d"),l=e.data.map(t=>t.channel),p=e.data.map(t=>t.cantidad),u=e.data.map(t=>t.ventas);n=new d(r,{type:"bar",data:{labels:l,datasets:[{label:"Cantidad de Reservas",data:p,backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:2,yAxisID:"y"},{label:"Ventas (COP)",data:u,backgroundColor:"rgba(16, 185, 129, 0.8)",borderColor:"rgb(16, 185, 129)",borderWidth:2,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Cantidad de Reservas",font:{size:12,weight:"bold"}},ticks:{beginAtZero:!0,precision:0}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Ventas (COP)",font:{size:12,weight:"bold"}},ticks:{beginAtZero:!0,callback:function(t){return i(t)}},grid:{drawOnChartArea:!1}},x:{title:{display:!0,text:"Canal de Venta",font:{size:12,weight:"bold"}}}},plugins:{legend:{display:!0,position:"top",labels:{padding:15,font:{size:12}}},title:{display:!0,text:e.title,font:{size:16,weight:"bold"},padding:{bottom:20}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14,weight:"bold"},bodyFont:{size:13},callbacks:{label:function(t){let a=t.dataset.label||"";return a&&(a+=": "),t.datasetIndex===0?a+=t.parsed.y+" reservas":a+=i(t.parsed.y),a}}}}}})};return f(()=>{o()}),y(()=>e.data,()=>{o()},{deep:!0}),(r,l)=>(m(),h("div",v,[C("canvas",{ref_key:"chartCanvas",ref:s},null,512)]))}};export{k as default};
