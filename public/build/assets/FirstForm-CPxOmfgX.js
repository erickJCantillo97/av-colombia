import{s as he}from"./index-CrAO-pTh.js";import{s as be}from"./index-BUPRgXnv.js";import{s as ge}from"./index-BQSVEH0y.js";import{s as we}from"./index-DTzuHpCb.js";import{ak as ie,q as Oe,e9 as je,af as Se,s as ke,aj as ae,ea as J,dI as $e,eb as Q,ec as oe,ed as _e,ee as Pe,ah as pe,ef as Ee,o as W,f as ye,r as Le,j as Ae,eg as Fe,d as Ie,b as K,w as H,u as Ne,a as X,c as Z,h as ee,t as re,g as te}from"./app-CQji6miA.js";import{s as Te}from"./index-e-lzpWZ_.js";import"./index-BYH6nMLy.js";import"./index-xwT7jKYZ.js";import"./index-C0KZT8TN.js";import"./index-D36AbBdd.js";function U(e){"@babel/helpers - typeof";return U=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},U(e)}function ue(e,r){return Me(e)||Be(e,r)||Ve(e,r)||xe()}function xe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ve(e,r){if(e){if(typeof e=="string")return se(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?se(e,r):void 0}}function se(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,o=Array(r);t<r;t++)o[t]=e[t];return o}function Be(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var o,m,g,h,j=[],w=!0,O=!1;try{if(g=(t=t.call(e)).next,r!==0)for(;!(w=(o=g.call(t)).done)&&(j.push(o.value),j.length!==r);w=!0);}catch(F){O=!0,m=F}finally{try{if(!w&&t.return!=null&&(h=t.return(),Object(h)!==h))return}finally{if(O)throw m}}return j}}function Me(e){if(Array.isArray(e))return e}function le(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(m){return Object.getOwnPropertyDescriptor(e,m).enumerable})),t.push.apply(t,o)}return t}function Ge(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?le(Object(t),!0).forEach(function(o){me(e,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):le(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})}return e}function me(e,r,t){return(r=Ce(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ce(e){var r=De(e,"string");return U(r)=="symbol"?r:r+""}function De(e,r){if(U(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var o=t.call(e,r||"default");if(U(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function D(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */D=function(){return r};var e,r={},t=Object.prototype,o=t.hasOwnProperty,m=Object.defineProperty||function(i,n,a){i[n]=a.value},g=typeof Symbol=="function"?Symbol:{},h=g.iterator||"@@iterator",j=g.asyncIterator||"@@asyncIterator",w=g.toStringTag||"@@toStringTag";function O(i,n,a){return Object.defineProperty(i,n,{value:a,enumerable:!0,configurable:!0,writable:!0}),i[n]}try{O({},"")}catch{O=function(a,s,c){return a[s]=c}}function F(i,n,a,s){var c=n&&n.prototype instanceof b?n:b,d=Object.create(c.prototype),u=new G(s||[]);return m(d,"_invoke",{value:q(i,a,u)}),d}function $(i,n,a){try{return{type:"normal",arg:i.call(n,a)}}catch(s){return{type:"throw",arg:s}}}r.wrap=F;var T="suspendedStart",R="suspendedYield",_="executing",f="completed",l={};function b(){}function S(){}function v(){}var p={};O(p,h,function(){return this});var P=Object.getPrototypeOf,y=P&&P(P(C([])));y&&y!==t&&o.call(y,h)&&(p=y);var I=v.prototype=b.prototype=Object.create(p);function L(i){["next","throw","return"].forEach(function(n){O(i,n,function(a){return this._invoke(n,a)})})}function B(i,n){function a(c,d,u,k){var E=$(i[c],i,d);if(E.type!=="throw"){var x=E.arg,N=x.value;return N&&U(N)=="object"&&o.call(N,"__await")?n.resolve(N.__await).then(function(V){a("next",V,u,k)},function(V){a("throw",V,u,k)}):n.resolve(N).then(function(V){x.value=V,u(x)},function(V){return a("throw",V,u,k)})}k(E.arg)}var s;m(this,"_invoke",{value:function(d,u){function k(){return new n(function(E,x){a(d,u,E,x)})}return s=s?s.then(k,k):k()}})}function q(i,n,a){var s=T;return function(c,d){if(s===_)throw Error("Generator is already running");if(s===f){if(c==="throw")throw d;return{value:e,done:!0}}for(a.method=c,a.arg=d;;){var u=a.delegate;if(u){var k=A(u,a);if(k){if(k===l)continue;return k}}if(a.method==="next")a.sent=a._sent=a.arg;else if(a.method==="throw"){if(s===T)throw s=f,a.arg;a.dispatchException(a.arg)}else a.method==="return"&&a.abrupt("return",a.arg);s=_;var E=$(i,n,a);if(E.type==="normal"){if(s=a.done?f:R,E.arg===l)continue;return{value:E.arg,done:a.done}}E.type==="throw"&&(s=f,a.method="throw",a.arg=E.arg)}}}function A(i,n){var a=n.method,s=i.iterator[a];if(s===e)return n.delegate=null,a==="throw"&&i.iterator.return&&(n.method="return",n.arg=e,A(i,n),n.method==="throw")||a!=="return"&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+a+"' method")),l;var c=$(s,i.iterator,n.arg);if(c.type==="throw")return n.method="throw",n.arg=c.arg,n.delegate=null,l;var d=c.arg;return d?d.done?(n[i.resultName]=d.value,n.next=i.nextLoc,n.method!=="return"&&(n.method="next",n.arg=e),n.delegate=null,l):d:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}function z(i){var n={tryLoc:i[0]};1 in i&&(n.catchLoc=i[1]),2 in i&&(n.finallyLoc=i[2],n.afterLoc=i[3]),this.tryEntries.push(n)}function M(i){var n=i.completion||{};n.type="normal",delete n.arg,i.completion=n}function G(i){this.tryEntries=[{tryLoc:"root"}],i.forEach(z,this),this.reset(!0)}function C(i){if(i||i===""){var n=i[h];if(n)return n.call(i);if(typeof i.next=="function")return i;if(!isNaN(i.length)){var a=-1,s=function c(){for(;++a<i.length;)if(o.call(i,a))return c.value=i[a],c.done=!1,c;return c.value=e,c.done=!0,c};return s.next=s}}throw new TypeError(U(i)+" is not iterable")}return S.prototype=v,m(I,"constructor",{value:v,configurable:!0}),m(v,"constructor",{value:S,configurable:!0}),S.displayName=O(v,w,"GeneratorFunction"),r.isGeneratorFunction=function(i){var n=typeof i=="function"&&i.constructor;return!!n&&(n===S||(n.displayName||n.name)==="GeneratorFunction")},r.mark=function(i){return Object.setPrototypeOf?Object.setPrototypeOf(i,v):(i.__proto__=v,O(i,w,"GeneratorFunction")),i.prototype=Object.create(I),i},r.awrap=function(i){return{__await:i}},L(B.prototype),O(B.prototype,j,function(){return this}),r.AsyncIterator=B,r.async=function(i,n,a,s,c){c===void 0&&(c=Promise);var d=new B(F(i,n,a,s),c);return r.isGeneratorFunction(n)?d:d.next().then(function(u){return u.done?u.value:d.next()})},L(I),O(I,w,"Generator"),O(I,h,function(){return this}),O(I,"toString",function(){return"[object Generator]"}),r.keys=function(i){var n=Object(i),a=[];for(var s in n)a.push(s);return a.reverse(),function c(){for(;a.length;){var d=a.pop();if(d in n)return c.value=d,c.done=!1,c}return c.done=!0,c}},r.values=C,G.prototype={constructor:G,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(M),!n)for(var a in this)a.charAt(0)==="t"&&o.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if(n.type==="throw")throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var a=this;function s(x,N){return u.type="throw",u.arg=n,a.next=x,N&&(a.method="next",a.arg=e),!!N}for(var c=this.tryEntries.length-1;c>=0;--c){var d=this.tryEntries[c],u=d.completion;if(d.tryLoc==="root")return s("end");if(d.tryLoc<=this.prev){var k=o.call(d,"catchLoc"),E=o.call(d,"finallyLoc");if(k&&E){if(this.prev<d.catchLoc)return s(d.catchLoc,!0);if(this.prev<d.finallyLoc)return s(d.finallyLoc)}else if(k){if(this.prev<d.catchLoc)return s(d.catchLoc,!0)}else{if(!E)throw Error("try statement without catch or finally");if(this.prev<d.finallyLoc)return s(d.finallyLoc)}}}},abrupt:function(n,a){for(var s=this.tryEntries.length-1;s>=0;--s){var c=this.tryEntries[s];if(c.tryLoc<=this.prev&&o.call(c,"finallyLoc")&&this.prev<c.finallyLoc){var d=c;break}}d&&(n==="break"||n==="continue")&&d.tryLoc<=a&&a<=d.finallyLoc&&(d=null);var u=d?d.completion:{};return u.type=n,u.arg=a,d?(this.method="next",this.next=d.finallyLoc,l):this.complete(u)},complete:function(n,a){if(n.type==="throw")throw n.arg;return n.type==="break"||n.type==="continue"?this.next=n.arg:n.type==="return"?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):n.type==="normal"&&a&&(this.next=a),l},finish:function(n){for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a];if(s.finallyLoc===n)return this.complete(s.completion,s.afterLoc),M(s),l}},catch:function(n){for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a];if(s.tryLoc===n){var c=s.completion;if(c.type==="throw"){var d=c.arg;M(s)}return d}}throw Error("illegal catch attempt")},delegateYield:function(n,a,s){return this.delegate={iterator:C(n),resultName:a,nextLoc:s},this.method==="next"&&(this.arg=e),l}},r}function ce(e,r,t,o,m,g,h){try{var j=e[g](h),w=j.value}catch(O){return void t(O)}j.done?r(w):Promise.resolve(w).then(o,m)}function ne(e){return function(){var r=this,t=arguments;return new Promise(function(o,m){var g=e.apply(r,t);function h(w){ce(g,o,m,h,j,"next",w)}function j(w){ce(g,o,m,h,j,"throw",w)}h(void 0)})}}function Ue(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;je()?Se(e):r?e():ke(e)}var Re=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=ie({}),o=ie({}),m=Oe(function(){return Object.values(t).every(function(_){return!_.invalid})}),g=function(f,l){var b;return{value:l??((b=r.initialValues)===null||b===void 0?void 0:b[f]),touched:!1,dirty:!1,pristine:!0,valid:!0,invalid:!1,error:null,errors:[]}},h=function(f,l){var b=J(l,f);return b===!0||Q(b)&&b.includes(f)},j=function(){var _=ne(D().mark(function f(l,b){var S,v,p;return D().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(v={},!Q(r[l])){y.next=7;break}return y.next=4,$(r[l]);case 4:v=y.sent,y.next=12;break;case 7:if(y.t0=(S=r[l])!==null&&S!==void 0?S:b,!y.t0){y.next=12;break}return y.next=11,$();case 11:v=y.sent;case 12:if(p=Object.keys(o).filter(function(I){var L;return(L=o[I])===null||L===void 0||(L=L.options)===null||L===void 0?void 0:L[l]})||[],y.t1=Pe(p),!y.t1){y.next=18;break}return y.next=17,$(p);case 17:v=y.sent;case 18:return y.abrupt("return",v);case 19:case"end":return y.stop()}},f)}));return function(l,b){return _.apply(this,arguments)}}(),w=function(f,l,b,S){var v,p;((v=l==null?void 0:l[b])!==null&&v!==void 0?v:h(f,(p=r[b])!==null&&p!==void 0?p:S))&&$(f)},O=function(f,l){var b;t[f]||(t[f]=g(f,l==null?void 0:l.initialValue));var S=ae((b=J(l,t[f]))===null||b===void 0?void 0:b.props,J(l==null?void 0:l.props,t[f]),{name:f,onBlur:function(){t[f].touched=!0,w(f,l,"validateOnBlur")},onInput:function(p){t[f].value=p.hasOwnProperty("value")?p.value:p.target.value},onChange:function(p){t[f].value=p.hasOwnProperty("value")?p.value:p.target.type==="checkbox"||p.target.type==="radio"?p.target.checked:p.target.value},onInvalid:function(p){var P;t[f].invalid=!0,t[f].errors=p,t[f].error=(P=p==null?void 0:p[0])!==null&&P!==void 0?P:null}});return o[f]={props:S,states:t[f],options:l},$e(function(){return t[f].value},function(v,p){t[f].pristine&&(t[f].pristine=!1),v!==p&&(t[f].dirty=!0),w(f,l,"validateOnValueUpdate",!0)}),[t[f],S]},F=function(f){return function(){var l=ne(D().mark(function b(S){var v;return D().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,j("validateOnSubmit",!0);case 2:return v=P.sent,P.abrupt("return",f(Ge({originalEvent:S,valid:oe(m),states:oe(t),reset:T},v)));case 4:case"end":return P.stop()}},b)}));return function(b){return l.apply(this,arguments)}}()},$=function(){var _=ne(D().mark(function f(l){var b,S,v,p,P,y,I,L,B,q,A,z,M,G,C,i,n,a,s,c;return D().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return P=Object.entries(t).reduce(function(k,E){var x=ue(E,2),N=x[0],V=x[1];return k.names.push(N),k.values[N]=V.value,k},{names:[],values:{}}),u.next=3,(S=r.resolver)===null||S===void 0?void 0:S.call(r,P);case 3:if(u.t1=b=u.sent,u.t0=u.t1!==null,!u.t0){u.next=7;break}u.t0=b!==void 0;case 7:if(!u.t0){u.next=11;break}u.t2=b,u.next=12;break;case 11:u.t2={};case 12:y=u.t2,(p=(v=y).errors)!==null&&p!==void 0||(v.errors={}),I=[l].flat(),L=0,B=Object.entries(o);case 16:if(!(L<B.length)){u.next=44;break}if(q=ue(B[L],2),A=q[0],z=q[1],!(I.includes(A)||!l)){u.next=41;break}if(i=(M=z.options)===null||M===void 0?void 0:M.resolver,!i){u.next=36;break}return a=z.states.value,u.next=24,i({values:a,value:a,name:A});case 24:if(u.t4=n=u.sent,u.t3=u.t4!==null,!u.t3){u.next=28;break}u.t3=n!==void 0;case 28:if(!u.t3){u.next=32;break}u.t5=n,u.next=33;break;case 32:u.t5={};case 33:s=u.t5,Q(s.errors)&&(s.errors=me({},A,s.errors)),y=_e(y,s);case 36:c=(G=y.errors[A])!==null&&G!==void 0?G:[],t[A].invalid=c.length>0,t[A].valid=!t[A].invalid,t[A].errors=c,t[A].error=(C=c==null?void 0:c[0])!==null&&C!==void 0?C:null;case 41:L++,u.next=16;break;case 44:return u.abrupt("return",y);case 45:case"end":return u.stop()}},f)}));return function(l){return _.apply(this,arguments)}}(),T=function(){Object.keys(t).forEach(function(f){var l;return o[f].states=t[f]=g(f,(l=o[f])===null||l===void 0||(l=l.options)===null||l===void 0?void 0:l.initialValue)})},R=function(){j("validateOnMount")};return Ue(R),{defineField:O,handleSubmit:F,validate:$,reset:T,valid:m,states:t,fields:o}},Ke={root:"p-form p-component"},qe=pe.extend({name:"form",classes:Ke}),ze={name:"BaseForm",extends:Te,style:qe,props:{resolver:{type:Function,default:null},initialValues:{type:Object,default:null},validateOnValueUpdate:{type:[Boolean,Array],default:!0},validateOnBlur:{type:[Boolean,Array],default:!1},validateOnMount:{type:[Boolean,Array],default:!1},validateOnSubmit:{type:[Boolean,Array],default:!0}},provide:function(){return{$pcForm:this,$parentInstance:this}}};function Y(e){"@babel/helpers - typeof";return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Y(e)}function fe(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(m){return Object.getOwnPropertyDescriptor(e,m).enumerable})),t.push.apply(t,o)}return t}function We(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?fe(Object(t),!0).forEach(function(o){Ye(e,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fe(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})}return e}function Ye(e,r,t){return(r=He(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function He(e){var r=Je(e,"string");return Y(r)=="symbol"?r:r+""}function Je(e,r){if(Y(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var o=t.call(e,r||"default");if(Y(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Qe(e,r){return rr(e)||er(e,r)||Ze(e,r)||Xe()}function Xe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ze(e,r){if(e){if(typeof e=="string")return de(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?de(e,r):void 0}}function de(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,o=Array(r);t<r;t++)o[t]=e[t];return o}function er(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var o,m,g,h,j=[],w=!0,O=!1;try{if(g=(t=t.call(e)).next,r!==0)for(;!(w=(o=g.call(t)).done)&&(j.push(o.value),j.length!==r);w=!0);}catch(F){O=!0,m=F}finally{try{if(!w&&t.return!=null&&(h=t.return(),Object(h)!==h))return}finally{if(O)throw m}}return j}}function rr(e){if(Array.isArray(e))return e}var ve={name:"Form",extends:ze,inheritAttrs:!1,emits:["submit"],setup:function(r,t){var o=t.emit,m=Re(r),g=function(w,O){var F=m.defineField(w,O),$=Qe(F,2),T=$[1];return T},h=m.handleSubmit(function(j){o("submit",j)});return We({register:g,onSubmit:h},Ee(m,["handleSubmit"]))}};function tr(e,r,t,o,m,g){return W(),ye("form",ae({onSubmit:r[0]||(r[0]=Ae(function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)},["prevent"])),class:e.cx("root")},e.ptmi("root")),[Le(e.$slots,"default",ae({register:o.register,valid:e.valid,reset:e.reset},e.states))],16)}ve.render=tr;var nr={root:"p-formfield p-component"};pe.extend({name:"formfield",classes:nr});const ar={class:"card flex justify-center"},ir={class:"flex flex-col gap-1"},or={class:"flex flex-col gap-1"},ur={class:"flex flex-col gap-1"},br={__name:"FirstForm",setup(e){const r=Fe(),t=Ie({username:"",firstName:"",lastName:""}),o=({values:g})=>{const h={};return g.username||(h.username=[{message:"Username is required."}]),g.name||(h.firstName=[{message:"First name is required."}]),g.surname||(h.lastName=[{message:"Last name is required."}]),{errors:h}},m=({valid:g})=>{g&&r.add({severity:"success",summary:"Form is submitted.",life:3e3})};return(g,h)=>{const j=we,w=ge,O=be,F=he;return W(),ye("div",ar,[K(j),K(Ne(ve),{initialValues:t.value,resolver:o,validateOnValueUpdate:!1,validateOnBlur:!0,validateOnMount:["firstName"],onSubmit:m,class:"flex flex-col gap-4 w-full sm:w-56"},{default:H($=>{var T,R,_;return[X("div",ir,[K(w,{name:"username",type:"text",placeholder:"Username",fluid:""}),(T=$.username)!=null&&T.invalid?(W(),Z(O,{key:0,severity:"error",size:"small",variant:"simple"},{default:H(()=>[ee(re($.username.error.message),1)]),_:2},1024)):te("",!0)]),X("div",or,[K(w,{name:"firstName",type:"text",placeholder:"First Name",fluid:"",formControl:{validateOnValueUpdate:!0}}),(R=$.firstName)!=null&&R.invalid?(W(),Z(O,{key:0,severity:"error",size:"small",variant:"simple"},{default:H(()=>[ee(re($.firstName.error.message),1)]),_:2},1024)):te("",!0)]),X("div",ur,[K(w,{name:"lastName",type:"text",placeholder:"Last Name",fluid:""}),(_=$.lastName)!=null&&_.invalid?(W(),Z(O,{key:0,severity:"error",size:"small",variant:"simple"},{default:H(()=>[ee(re($.lastName.error.message),1)]),_:2},1024)):te("",!0)]),K(F,{type:"submit",severity:"secondary",label:"Submit"})]}),_:1},8,["initialValues"])])}}};export{br as default};
