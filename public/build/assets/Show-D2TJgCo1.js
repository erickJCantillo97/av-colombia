import{s as J}from"./index-C8Nh8EeO.js";import{d as w,A as R,B as S,p as U,e as z,f as d,o as n,b as y,a as t,h as g,S as G,c as E,g as p,U as Q,t as i,w as N,aa as L,k as Y,n as q,I as F,F as K}from"./app-BiCF3IzH.js";import{s as c}from"./searchStore-DitXpblf.js";import{H as W,_ as X}from"./Header-BMHE3Nfu.js";import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{s as j}from"./index-BG8ijusw.js";import ee from"./IncludesView-Bs_MUUTU.js";import te from"./Gallery-gpqFJSVs.js";import"./es-D9--irQy.js";import"./autoprefixer-KdR3VrXg.js";import se from"./Equipament-CFNhVKsb.js";import ae from"./CollectionPoints-C2pIJqgk.js";/* empty css                                                                    */import oe from"./ServicesMain-fvce1CTz.js";import re from"./ItineraryView-BinTgd9W.js";import"./index-BC3nQaCs.js";import"./index-C-LyeXV0.js";import"./index-Cz5bFCyd.js";import"./useCommonUtilities-BgDhORlD.js";import"./index-CeFPHSRN.js";import"./index-CigoOZpX.js";import"./index-Bmqk9T0l.js";import"./index-Be2QayHB.js";import"./index-B6CNKQ0Q.js";import"./index-uGbqV2Si.js";import"./index-BlifwGZk.js";import"./index-BjmJuzYW.js";import"./index-hL0THrXB.js";import"./logo-CS-2_ydv.js";import"./index-DPrgc9fT.js";import"./index-DcAouQmH.js";import"./index-DFgbQRVa.js";import"./index-DlN_eDmy.js";import"./index-DScIuIrb.js";import"./postcss-BJzvnunT.js";const ie={class:"px-4 py-36 md:py-48 md:px-56 max-w-full mx-auto pb-20 lg:pb-8"},le={class:"mb-6"},ne={class:"text-2xl md:text-3xl font-semibold text-gray-900 capitalize mb-2"},ue={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},de={class:"lg:col-span-2 space-y-6"},ce={class:"border-b pb-6"},ve={class:"prose max-w-none text-gray-700"},me=["innerHTML"],fe=["innerHTML"],ge={class:"lg:col-span-1"},ye={class:"sticky top-24 hidden lg:block"},pe={class:"bg-white border rounded-2xl shadow-md p-6"},be={class:"flex items-baseline justify-start gap-x-2"},xe={class:"text-2xl md:text-3xl font-bold text-gray-900"},he={class:"text-sm text-gray-600"},we={class:"mt-4 space-y-3"},ke={class:"flex gap-2"},_e={class:"w-full"},Ce={class:"text-xs font-medium text-gray-700 block mb-1"},De={key:0,class:"text-sm text-gray-900 font-medium"},Ae={key:1,class:"text-md text-gray-900 font-medium text-center"},Se={key:0,class:"w-full"},Ee={class:"text-sm text-gray-900 font-medium"},Ne={key:0,class:"p-0 h-[330px]"},Me={key:1,class:"p-0 h-[330px]"},Oe={class:"text-sm text-gray-900 font-medium"},Re={class:"p-4 min-w-[300px]"},Te={class:"pt-2 w-full"},Ie={key:0,class:"mt-4"},Le={class:"border-t pt-3"},Fe={class:"flex items-center justify-between text-sm text-gray-600"},je={class:"font-medium text-gray-900"},Be={class:"flex items-center justify-between text-base font-semibold text-gray-900 mt-3 pt-3 border-t"},He={key:1,class:"mt-4 border-t pt-3"},Ve={class:"lg:hidden fixed rounded-2xl bottom-2 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50 mx-4"},$e={class:"px-4 py-3"},Pe={class:"flex-1"},Je={class:"text-lg font-bold text-gray-900"},Ue={class:"text-sm text-gray-600"},ze={class:"sticky top-0 bg-white border-b border-gray-200 px-4 py-4 flex items-center justify-between rounded-t-2xl"},Ge={class:"p-4 pb-20"},Qe={class:"mb-6"},Ye={class:"flex items-baseline justify-start gap-x-2"},qe={class:"text-2xl font-bold text-gray-900"},Ke={class:"text-sm text-gray-600"},We={class:"space-y-4"},Xe={class:"space-y-3"},Ze={class:"text-base font-medium text-gray-900"},et={class:"grid grid-cols-2 gap-3"},tt={key:0,class:"text-xs font-medium text-gray-700 block mb-1"},st={key:0,class:"text-sm text-gray-900 font-medium"},at={key:1,class:"text-sm text-gray-900 font-medium w-full text-center"},ot={key:0},rt={class:"text-sm text-gray-900 font-medium"},it={class:"space-y-3"},lt={class:"text-base font-medium text-gray-900"},nt={class:"text-sm text-gray-900 font-medium"},ut={key:0,class:"border-t pt-4 mt-6"},dt={class:"space-y-2"},ct={class:"flex items-center justify-between text-sm text-gray-600"},vt={class:"font-medium text-gray-900"},mt={class:"flex items-center justify-between text-base font-semibold text-gray-900 pt-2 border-t"},ft={class:"sticky bottom-0 bg-white border-t border-gray-200 p-4"},gt={__name:"Show",props:{service:Object,availabilities:Array,features:Array,itineraries:Array},setup(u){const r=u,D=w(!1),m=w(null),M=w(new Date),v=w(1),k=w(null),O=w(null),A=w(!1),B=R(()=>{if(!r.availabilities)return new Set;try{const s=new Set;return r.availabilities.forEach(e=>{e&&(typeof e=="string"?s.add(e.split("T")[0]):e.date?s.add(e.date.split("T")[0]):e.start_date?s.add(e.start_date.split("T")[0]):e.start&&s.add(e.start.split("T")[0]))}),s}catch{return new Set}});function h(s){return s?s.toISOString():null}function T(s){console.log("Calendar change:",s);try{if(!s){m.value=null,c.checkin.value="",c.checkout.value="";return}if(Array.isArray(s)){const[e,a]=s;m.value=s,c.checkin.value=e?h(e):"",c.checkout.value=a?h(a):"",e&&a&&setTimeout(()=>{try{k.value?.hide()}catch{}},500)}else M.value=s,c.checkin.value=h(s),c.checkout.value=h(s)}catch(e){console.error("Error handling calendar change:",e)}}R(()=>{if(!m.value||m.value.length<2)return!1;const[s,e]=m.value;if(!s||!e)return!1;const a=new Date(s),l=new Date(e);if(a>l)return!1;const o=B.value;if(o.size===0)return!0;for(let _=new Date(a);_<=l;_.setDate(_.getDate()+1)){const P=h(_);if(!o.has(P))return!1}return!0});const f=w(null),b=w(null);S(m,s=>{if(!s){f.value=null,b.value=null;return}Array.isArray(s)&&(f.value=s[0]?h(s[0]):null,b.value=s[1]?h(s[1]):null)}),U(()=>{try{const s=c.checkin?.value,e=c.checkout?.value;if(s&&e){const l=new Date(s),o=new Date(e);!isNaN(l)&&!isNaN(o)&&(m.value=[l,o])}else if(s){const l=new Date(s);isNaN(l)||(m.value=[l,null])}const a=c.guests?.value;if(a){const l=Number(a.adults||0)+Number(a.children||0)+Number(a.infants||0)||1;v.value=l}}catch(s){console.error("Error mounting component:",s)}}),S([()=>c.checkin.value,()=>c.checkout.value],([s,e])=>{try{if(s&&e){const a=new Date(s),l=new Date(e);if(!isNaN(a)&&!isNaN(l)){const o=m.value?.[0],_=m.value?.[1];(!o||!_||h(o)!==s||h(_)!==e)&&(m.value=[a,l])}}else if(s&&!e){const a=new Date(s);isNaN(a)||(m.value=[a,null])}else m.value=null}catch(a){console.error("Error watching store changes:",a)}}),S(()=>c.guests.value,s=>{if(!s)return;const e=Number(s.adults||0)+Number(s.children||0)+Number(s.infants||0)||1;v.value=e},{deep:!0}),S(v,s=>{const e=c.guests.value||{adults:1,children:0,infants:0},a=Math.max(1,Number(s)-(Number(e.children||0)+Number(e.infants||0)));c.guests.value={...e,adults:a}});function H(s){const e=c.guests.value||{adults:1,children:0,infants:0},a=r.service.capacidad_max;if(a&&e.adults+e.children+e.infants+1>a&&r.service.type==="TRANSFER ")return;const l={...e};l[s]=Math.max(0,(l[s]||0)+1),c.guests.value=l;const o=l.adults+l.children+l.infants;v.value=o||1}function V(s){const a={...c.guests.value||{adults:1,children:0,infants:0}};s==="adults"?a[s]=Math.max(1,(a[s]||1)-1):a[s]=Math.max(0,(a[s]||0)-1),c.guests.value=a;const l=a.adults+a.children+a.infants;v.value=l||1}const x=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),C={name:r.service.title,price:x.format(r.service.price),rating:4,images:r.service.images.map(s=>s.filepath),features:r.service.features,description:r.service.description,details:[{name:"Incluidos",items:JSON.parse(r.service.includes)},{name:"No Incluidos",items:JSON.parse(r.service.notIncludes)}]},I=R(()=>{const s=r.service.capacidad_max;return r.service.type==="TOUR"?r.service.adults_price*v.value:r.service.type==="EMBARCACION"?r.service.adults_price:r.service.type==="TRANSFER"?r.service.adults_price*Math.ceil(v.value/s):r.service.adults_price*v.value}),$=()=>{F.get(route("check.out",r.service.slug))};return(s,e)=>{const a=z("VueDatePicker"),l=J;return n(),d(K,null,[y(g(G),{title:`Av Colombia -  ${C.name}`},null,8,["title"]),y(W),t("div",ie,[t("div",le,[t("h1",ne,i(C.name),1),e[16]||(e[16]=Q('<div class="flex flex-wrap items-center gap-4 text-sm" data-v-a22a66ef><div class="flex items-center gap-3 ml-auto" data-v-a22a66ef><button class="flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg border" data-v-a22a66ef><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-a22a66ef><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z" data-v-a22a66ef></path></svg> Compartir </button><button class="flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg border" data-v-a22a66ef><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-a22a66ef><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" data-v-a22a66ef></path></svg> Guardar </button></div></div>',1))]),u.service.type!="TRANSFER"?(n(),E(te,{key:0,images:C.images,class:"mb-8"},null,8,["images"])):p("",!0),t("div",ue,[t("main",de,[e[18]||(e[18]=t("div",{class:"border-b pb-1"},null,-1)),u.service.type=="EMBARCACION"?(n(),E(se,{key:0,service:u.service,class:"border-b pb-6"},null,8,["service"])):p("",!0),t("section",ce,[e[17]||(e[17]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-3"},"Descripción del servicio",-1)),t("div",ve,[y(L,{name:"expand"},{default:N(()=>[D.value||C.description.length<=500?(n(),d("div",{key:"full",innerHTML:C.description},null,8,me)):(n(),d("div",{key:"short",innerHTML:C.description.slice(0,500)+"..."},null,8,fe))]),_:1}),C.description.length>500?(n(),d("button",{key:0,onClick:e[0]||(e[0]=o=>D.value=!D.value),class:"text-gray-900 hover:underline mt-2 font-medium"},i(D.value?"Mostrar menos":"Mostrar más")+" › ",1)):p("",!0)])]),y(re,{itineraries:u.itineraries,readOnly:!0},null,8,["itineraries"]),y(oe,{service:u.service,features:u.features},null,8,["service","features"]),u.service.includes!="[]"?(n(),E(ee,{key:1,service:u.service,features:u.features,class:"border-b pb-6"},null,8,["service","features"])):p("",!0),u.service.recogidas!="[]"?(n(),E(ae,{key:2,service:u.service,class:"border-b pb-6"},null,8,["service"])):p("",!0)]),t("aside",ge,[t("div",ye,[t("div",pe,[t("div",be,[t("div",xe,i(g(x).format(r.service.adults_price)),1),t("div",he,i(r.service.type=="TOUR"?"por persona":"por Embarcación"),1)]),t("form",we,[t("div",ke,[t("div",_e,[t("label",Ce,i(u.service.type=="HOSPEDAJE"?"LLEGADA":"FECHA"),1),t("button",{type:"button",class:"w-full text-left border border-gray-300 rounded-lg px-3 py-3 bg-white hover:border-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-400",onClick:e[1]||(e[1]=o=>k.value?.toggle(o))},[u.service.type=="HOSPEDAJE"?(n(),d("div",De,i(f.value?new Date(f.value).toLocaleDateString("es-ES",{day:"numeric",month:"short"}):"Agregar fecha"),1)):(n(),d("div",Ae,i(f.value?new Date(f.value).toLocaleDateString("es-ES",{day:"2-digit",month:"long",year:"numeric"}):"Agregar fecha"),1))])]),u.service.type=="HOSPEDAJE"?(n(),d("div",Se,[e[19]||(e[19]=t("label",{class:"text-xs font-medium text-gray-700 block mb-1"},"SALIDA",-1)),t("button",{type:"button",class:"w-full text-left border border-gray-300 rounded-lg px-3 py-3 bg-white hover:border-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-400",onClick:e[2]||(e[2]=o=>k.value?.toggle(o))},[t("div",Ee,i(b.value?new Date(b.value).toLocaleDateString("es-ES",{day:"numeric",month:"short"}):"Agregar fecha"),1)])])):p("",!0),y(g(j),{ref_key:"op",ref:k,appendTo:"body",class:"!w-auto"},{default:N(()=>[u.service.type=="HOSPEDAJE"?(n(),d("div",Ne,[y(a,{modelValue:m.value,"onUpdate:modelValue":[e[3]||(e[3]=o=>m.value=o),T],range:"","min-date":new Date,inline:"","auto-apply":"",teleport:!1,locale:"es",format:"dd/MM/yyyy","preview-format":"dd/MM/yyyy",placeholder:"Selecciona fechas"},null,8,["modelValue","min-date"])])):(n(),d("div",Me,[y(a,{modelValue:M.value,"onUpdate:modelValue":[e[4]||(e[4]=o=>M.value=o),T],"min-date":new Date,inline:"","auto-apply":"",teleport:!1,locale:"es",format:"dd/MM/yyyy","preview-format":"dd/MM/yyyy",placeholder:"Selecciona fechas"},null,8,["modelValue","min-date"])]))]),_:1},512)]),t("div",null,[e[21]||(e[21]=t("label",{class:"text-xs font-medium text-gray-700 block mb-1"},"VIAJEROS",-1)),t("button",{type:"button",class:"w-full text-left border border-gray-300 rounded-lg px-3 py-3 bg-white hover:border-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-400",onClick:e[5]||(e[5]=o=>O.value?.toggle(o))},[t("div",Oe,i(v.value)+" viajero"+i(v.value>1?"s":""),1)]),y(g(j),{ref_key:"guestsOp",ref:O,appendTo:"body",class:"!w-auto"},{default:N(()=>[t("div",Re,[e[20]||(e[20]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"¿Quién viene?",-1)),y(X,{guests:g(c).guests.value||{adults:1,children:0,infants:0},onIncrement:H,onDecrement:V},null,8,["guests"])])]),_:1},512)]),t("div",Te,[!f.value||!b.value?(n(),d("button",{key:0,type:"button",class:"w-full bg-[#FF385C] hover:bg-[#E31C5F] text-white rounded-lg py-3 font-semibold transition duration-200",onClick:e[6]||(e[6]=o=>k.value?.toggle(o))}," Revisa las fechas ")):(n(),d("button",{key:1,onClick:$,type:"button",class:"w-full bg-black text-white rounded-lg py-3 font-semibold transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed"}," Reservar "))])]),f.value&&b.value?(n(),d("div",Ie,[t("div",Le,[t("div",Fe,[t("div",null,i(g(x).format(r.service.adults_price))+" x "+i(v.value)+" huésped"+i(v.value>1?"es":""),1),t("div",je,i(g(x).format(I.value)),1)]),t("div",Be,[e[22]||(e[22]=t("div",null,"Total",-1)),t("div",null,i(g(x).format(I.value)),1)])])])):(n(),d("div",He,[...e[23]||(e[23]=[t("div",{class:"text-center text-gray-500 py-4"},[t("p",{class:"text-sm"},"Selecciona las fechas para ver el precio total")],-1)])])),e[24]||(e[24]=t("p",{class:"mt-3 text-xs text-gray-500"},"Política flexible · Cancelación gratuita hasta 24 horas antes",-1))])])])]),t("div",Ve,[t("div",$e,[t("div",{class:"flex items-center justify-between",onClick:e[7]||(e[7]=o=>A.value=!0)},[t("div",Pe,[t("div",Je,i(g(x).format(r.service.adults_price)),1),t("div",Ue,i(r.service.type=="TOUR"?"por persona":"por Embarcación"),1)]),e[25]||(e[25]=t("button",{class:"bg-[#FF385C] hover:bg-[#E31C5F] text-white px-6 py-3 rounded-lg font-semibold transition duration-200"}," Reservar ",-1))])])]),y(L,{name:"mobile-modal"},{default:N(()=>[A.value?(n(),d("div",{key:0,class:"lg:hidden fixed inset-0 z-50 overflow-hidden",onClick:e[15]||(e[15]=o=>A.value=!1)},[e[30]||(e[30]=t("div",{class:"absolute inset-0 bg-black bg-opacity-50 transition-opacity"},null,-1)),t("div",{class:"absolute bottom-0 left-0 right-0 bg-white rounded-t-2xl shadow-xl max-h-[90vh] overflow-y-auto transform transition-transform mobile-booking-content",onClick:e[14]||(e[14]=Y(()=>{},["stop"]))},[t("div",ze,[e[27]||(e[27]=t("h2",{class:"text-lg font-semibold text-gray-900"},"Reservar experiencia",-1)),t("button",{onClick:e[8]||(e[8]=o=>A.value=!1),class:"p-2 hover:bg-gray-100 rounded-full transition-colors"},[...e[26]||(e[26]=[t("svg",{class:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",Ge,[t("div",Qe,[t("div",Ye,[t("div",qe,i(g(x).format(r.service.adults_price)),1),t("div",Ke,i(r.service.type=="TOUR"?"por persona":"por Embarcación"),1)])]),t("form",We,[t("div",Xe,[t("h3",Ze,i(u.service.type!="EMBARCACION"?"Fechas":"Dia a reservar"),1),t("div",et,[t("div",{class:q(u.service.type!="HOSPEDAJE"?"col-span-2 w-full":"")},[u.service.type=="HOSPEDAJE"?(n(),d("label",tt,"LLEGADA")):p("",!0),t("button",{type:"button",class:"w-full text-left border border-gray-300 rounded-lg px-3 py-3 bg-white hover:border-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-400",onClick:e[9]||(e[9]=o=>k.value?.toggle(o))},[u.service.type!="EMBARCACION"?(n(),d("div",st,i(f.value?new Date(f.value).toLocaleDateString("es-ES",{day:"numeric",month:"short"}):"Agregar fecha"),1)):(n(),d("div",at,i(f.value?new Date(f.value).toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"}):"Agregar fecha"),1))])],2),u.service.type=="HOSPEDAJE"?(n(),d("div",ot,[e[28]||(e[28]=t("label",{class:"text-xs font-medium text-gray-700 block mb-1"},"SALIDA",-1)),t("button",{type:"button",class:"w-full text-left border border-gray-300 rounded-lg px-3 py-3 bg-white hover:border-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-400",onClick:e[10]||(e[10]=o=>k.value?.toggle(o))},[t("div",rt,i(b.value?new Date(b.value).toLocaleDateString("es-ES",{day:"numeric",month:"short"}):"Agregar fecha"),1)])])):p("",!0)])]),t("div",it,[t("h3",lt,i(u.service.type!="EMBARCACION"?"Viajeros":"Pasajeros"),1),t("button",{type:"button",class:"w-full text-left border border-gray-300 rounded-lg px-3 py-3 bg-white hover:border-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-400",onClick:e[11]||(e[11]=o=>O.value?.toggle(o))},[t("div",nt,i(v.value)+" viajero"+i(v.value>1?"s":""),1)])]),f.value&&b.value&&u.service.type!="EMBARCACION"?(n(),d("div",ut,[t("div",dt,[t("div",ct,[t("div",null,i(g(x).format(r.service.adults_price))+" x "+i(v.value)+" Personas"+i(v.value>1?"es":""),1),t("div",vt,i(g(x).format(r.service.adults_price*v.value)),1)]),t("div",mt,[e[29]||(e[29]=t("div",null,"Total",-1)),t("div",null,i(g(x).format(r.service.adults_price*v.value)),1)])])])):p("",!0)])]),t("div",ft,[!f.value||!b.value?(n(),d("button",{key:0,type:"button",class:"w-full bg-[#FF385C] hover:bg-[#E31C5F] text-white rounded-lg py-3 font-semibold transition duration-200",onClick:e[12]||(e[12]=o=>k.value?.toggle(o))}," Revisa las fechas ")):p("",!0),y(l,{class:"w-full",onClick:e[13]||(e[13]=o=>g(F).get(s.route("check.out",r.service))),label:"Reservar"})])])])):p("",!0)]),_:1})])],64)}}},Wt=Z(gt,[["__scopeId","data-v-a22a66ef"]]);export{Wt as default};
