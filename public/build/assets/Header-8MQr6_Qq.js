import{d as b,B as W,p as Q,f as v,o as u,g as w,b0 as Y,F as H,j as I,a as e,n as C,h as d,t as x,s as ue,A as j,m as ce,c as R,w as T,X as L,b as D,a9 as J,x as X,v as me,a1 as F}from"./app-DO_Av447.js";import{s as l}from"./searchStore-BVYRGY-z.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{f as B}from"./useCommonUtilities-BgDhORlD.js";import{s as ve}from"./index-Uf4rfLcl.js";import{_ as pe}from"./logo-BvUF_eNm.js";const ge=["onClick"],fe=["innerHTML"],he={__name:"ServiceTypeTabs",props:{modelValue:Object},emits:["update:modelValue"],setup(a,{emit:g}){const o=b([]),f=b(null),m=l.type,n=b({left:"0px",top:"0px",width:"",height:""}),h=[{label:"Tours",value:"TOUR",description:"Experiencias guiadas",icon:'<img src="/images/beach.png" alt="Beach Icon" />'},{label:"Embarcaciones",value:"EMBARCACION",description:"Yates y lanchas",icon:'<img src="/assets/svgs/motor-boat.svg" alt="Motor Boat Icon" />'},{label:"Hospedaje",value:"HOSPEDAJE",description:"Hoteles y caba√±as",icon:'<img src="/assets/svgs/house.svg" alt="House Icon" />'},{label:"Transporte",value:"TRANSFER",description:"Traslados y veh√≠culos",icon:'<img src="/images/car.png" alt="Automobile Icon" />'}];function $(){ue(()=>{const r=h.findIndex(y=>y.value==m.value.value),s=o.value[r],t=f.value;if(s&&t){const y=s.getBoundingClientRect(),S=t.getBoundingClientRect();n.value={left:`${y.left-S.left}px`,top:`${y.top-S.top}px`,width:`${y.width}px`,height:`${y.height}px`}}})}function k(r,s){m.value=r}return W(()=>m,$,{deep:!0}),Q($),(r,s)=>(u(),v("div",{ref_key:"containerRef",ref:f,class:"flex items-center justify-center service-types-container space-x-2 relative overflow-x-auto"},[n.value.width?(u(),v("div",{key:0,class:"absolute transition-all duration-300 bg-gray-900 rounded-xl z-0 shadow-md border-2 border-gray-900",style:Y(n.value)},null,4)):w("",!0),(u(),v(H,null,I(h,(t,y)=>e("div",{key:t.value,ref_for:!0,ref:S=>o.value[y]=S,onClick:S=>k(t),class:C(["service-type-tab flex items-center gap-2 px-3 py-2 rounded-xl cursor-pointer transition-all duration-200 group relative overflow-hidden min-w-fit z-10 flex-shrink-0",d(m).value===t.value?"text-white":"text-gray-700 hover:bg-gray-50 border border-gray-200 hover:border-gray-300 bg-white"]),style:Y({animationDelay:`${y*.1}s`})},[e("div",{class:C(["w-5 h-5 sm:w-6 sm:h-6  items-center justify-center transition-all duration-200 relative z-10 flex-shrink-0 hidden sm:flex",d(m).value===t.value?"text-white":"text-gray-600 group-hover:text-gray-800"])},[e("div",{innerHTML:t.icon,class:"w-5 h-5 sm:w-6 sm:h-6"},null,8,fe)],2),e("span",{class:C(["text-xs sm:text-sm font-medium transition-all duration-200 relative z-10 leading-tight whitespace-nowrap",d(m).value===t.value?"text-white":"text-gray-700 group-hover:text-gray-900"])},x(t.label),3)],14,ge)),64))],512))}},be=V(he,[["__scopeId","data-v-e0c7dac6"]]),ye={key:0,class:"text-xs font-semibold text-gray-900 uppercase tracking-wide"},xe={class:"text-sm text-gray-500 mt-1 truncate"},ke={key:0,class:"text-xs font-semibold text-gray-900 uppercase tracking-wide"},we={class:"text-sm text-gray-500 mt-1 truncate"},$e={key:0,class:"text-xs font-semibold text-gray-900 uppercase tracking-wide"},De={class:"hidden sm:inline"},Ce={class:"text-sm text-gray-500 mt-1 truncate"},Se={key:0,class:"text-xs font-semibold text-gray-900 uppercase tracking-wide"},Te={class:"sm:hidden"},je={class:"text-sm text-gray-500 mt-1 truncate"},Oe={class:"px-2 py-2 sm:px-2 sm:py-2 flex justify-center sm:justify-end"},Le={__name:"SearchBar",props:["isPanelOpen","activeTab","selectedLocation","guestSummary","setActiveTab","selectedOrigin","formatDate","type"],setup(a){const g=a,o=j(()=>{const m=l.checkin.value,n=l.checkout.value;return g.type!="Hospedaje"&&m?B(m):m&&n?`${m?B(m):""} - ${n?B(n):""}`:m?B(m):""}),f=ce("showInputTitles",!0);return(m,n)=>(u(),v("div",{class:C(["flex  sm:items-center bg-white rounded-2xl sm:rounded-full border border-gray-200 overflow-hidden transition-all duration-300",a.isPanelOpen?"shadow-xl border-gray-300":"hover:shadow-md"])},[e("div",{class:C(["flex-1 relative search-section",["px-4 sm:px-6 py-3 sm:py-4 cursor-pointer transition-all duration-200 modern-focus","sm:rounded-l-full first:rounded-t-2xl sm:first:rounded-t-none",a.activeTab==="donde"?"bg-white shadow-md section-active":"hover:bg-gray-50"]]),onClick:n[0]||(n[0]=h=>a.setActiveTab("donde"))},[d(f)?(u(),v("div",ye,"D√≥nde")):w("",!0),e("div",xe,x(a.selectedLocation||"Explora destinos"),1)],2),n[11]||(n[11]=e("div",{class:"hidden sm:block w-px h-8 bg-gray-200 divider-animated"},null,-1)),n[12]||(n[12]=e("div",{class:"block sm:hidden h-px bg-gray-200 mx-4"},null,-1)),a.type==="Transporte"?(u(),v("div",{key:0,class:C(["flex-1 relative search-section",["px-4 sm:px-6 py-3 sm:py-4 cursor-pointer transition-all duration-200 modern-focus",a.activeTab==="checkin"?"bg-white shadow-md section-active":"hover:bg-gray-50"]]),onClick:n[1]||(n[1]=h=>a.setActiveTab("origin"))},[d(f)?(u(),v("div",ke,[...n[6]||(n[6]=[e("span",{class:"hidden sm:inline"}," Origen/Destino ",-1),e("span",{class:"sm:hidden"}," Origen/Destino",-1)])])):w("",!0),e("div",we,x((d(l).origen.value||"Origen")+" - "+(d(l).destino.value||"Destino")),1)],2)):w("",!0),n[13]||(n[13]=e("div",{class:"hidden sm:block w-px h-8 bg-gray-200 divider-animated"},null,-1)),n[14]||(n[14]=e("div",{class:"block sm:hidden h-px bg-gray-200 mx-4"},null,-1)),e("div",{class:C(["flex-1 relative search-section",["px-4 sm:px-6 py-3 sm:py-4 cursor-pointer transition-all duration-200 modern-focus",a.activeTab==="checkin"?"bg-white shadow-md section-active":"hover:bg-gray-50"]]),onClick:n[2]||(n[2]=h=>a.setActiveTab("checkin"))},[d(f)?(u(),v("div",$e,[e("span",De,x(a.type=="Hospedaje"?"Check-in/Check-out":"Cuando"),1),n[7]||(n[7]=e("span",{class:"sm:hidden"},"Fechas",-1))])):w("",!0),e("div",Ce,x(o.value||"Selecciona fechas"),1)],2),n[15]||(n[15]=e("div",{class:"hidden sm:block w-px h-8 bg-gray-200 divider-animated"},null,-1)),n[16]||(n[16]=e("div",{class:"block sm:hidden h-px bg-gray-200 mx-4"},null,-1)),e("div",{class:C(["flex-1 relative search-section",["px-4 sm:px-6 py-3 sm:py-4 cursor-pointer transition-all duration-200 modern-focus",a.activeTab==="quien"?"bg-white shadow-md section-active":"hover:bg-gray-50"]]),onClick:n[3]||(n[3]=h=>a.setActiveTab("quien"))},[d(f)?(u(),v("div",Se,[n[8]||(n[8]=e("span",{class:"hidden sm:inline"},"Qui√©n",-1)),e("span",Te,x(a.type=="Hospedaje"?"Hu√©spedes":"Pasajeros"),1)])):w("",!0),e("div",je,x(a.guestSummary||"¬øCu√°ntos?"),1)],2),e("div",Oe,[a.type=="Transporte"?(u(),R(d(L),{key:0,href:m.route("services.home",{type:"TRANSFER",origen:d(l).origen.value,destino:d(l).destino.value,date:d(l).checkin.value})},{default:T(()=>[e("button",{onClick:n[4]||(n[4]=()=>{}),class:"bg-gray-500 hover:bg-teal-800 text-white p-3 sm:p-4 rounded-full transition-all duration-200 shadow-lg search-button btn-ripple scale-hover w-12 h-12 sm:w-auto sm:h-auto flex items-center justify-center"},[...n[9]||(n[9]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)])])]),_:1},8,["href"])):(u(),R(d(L),{key:1,href:m.route("services.home")},{default:T(()=>[e("button",{onClick:n[5]||(n[5]=()=>{}),class:"bg-teal-500 hover:bg-teal-800 text-white p-3 sm:p-4 rounded-full transition-all duration-200 shadow-lg search-button btn-ripple scale-hover w-12 h-12 sm:w-auto sm:h-auto flex items-center justify-center"},[...n[10]||(n[10]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)])])]),_:1},8,["href"]))])],2))}},Ae={class:"space-y-6"},Be={class:"flex items-center justify-between"},He={class:"flex items-center space-x-3"},Ie=["disabled"],Me={class:"w-8 text-center font-medium"},Pe={class:"flex items-center justify-between"},Ee={class:"flex items-center space-x-3"},Re=["disabled"],Qe={class:"w-8 text-center font-medium"},Ve={class:"flex items-center justify-between"},qe={class:"flex items-center space-x-3"},ze=["disabled"],Ue={class:"w-8 text-center font-medium"},Ge={__name:"GuestSelector",props:{guests:Object},emits:["increment","decrement"],setup(a){return(g,o)=>(u(),v("div",Ae,[e("div",Be,[o[8]||(o[8]=e("div",null,[e("h4",{class:"font-medium text-gray-900"},"Adultos"),e("p",{class:"text-sm text-gray-500"},"13 a√±os o m√°s")],-1)),e("div",He,[e("button",{onClick:o[0]||(o[0]=f=>g.$emit("decrement","adults")),disabled:a.guests.adults<=0,class:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center disabled:opacity-50 guest-counter btn-ripple hover:border-gray-400 transition-all duration-200"},[...o[6]||(o[6]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)])],8,Ie),e("span",Me,x(a.guests.adults),1),e("button",{onClick:o[1]||(o[1]=f=>g.$emit("increment","adults")),class:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center guest-counter btn-ripple hover:border-gray-400 transition-all duration-200"},[...o[7]||(o[7]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])])])]),e("div",Pe,[o[11]||(o[11]=e("div",null,[e("h4",{class:"font-medium text-gray-900"},"Ni√±os"),e("p",{class:"text-sm text-gray-500"},"De 2 a 12 a√±os")],-1)),e("div",Ee,[e("button",{onClick:o[2]||(o[2]=f=>g.$emit("decrement","children")),disabled:a.guests.children<=0,class:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center disabled:opacity-50 guest-counter btn-ripple hover:border-gray-400 transition-all duration-200"},[...o[9]||(o[9]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)])],8,Re),e("span",Qe,x(a.guests.children),1),e("button",{onClick:o[3]||(o[3]=f=>g.$emit("increment","children")),class:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center guest-counter btn-ripple hover:border-gray-400 transition-all duration-200"},[...o[10]||(o[10]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])])])]),e("div",Ve,[o[14]||(o[14]=e("div",null,[e("h4",{class:"font-medium text-gray-900"},"Beb√©s"),e("p",{class:"text-sm text-gray-500"},"Menos de 2 a√±os")],-1)),e("div",qe,[e("button",{onClick:o[4]||(o[4]=f=>g.$emit("decrement","infants")),disabled:a.guests.infants<=0,class:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center disabled:opacity-50 guest-counter btn-ripple hover:border-gray-400 transition-all duration-200"},[...o[12]||(o[12]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)])],8,ze),e("span",Ue,x(a.guests.infants),1),e("button",{onClick:o[5]||(o[5]=f=>g.$emit("increment","infants")),class:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center guest-counter btn-ripple hover:border-gray-400 transition-all duration-200"},[...o[13]||(o[13]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])])])])]))}},Ne={__name:"CalendarSelector",props:{modelValue:[String,Array],value:[String,Array],minDate:String,maxDate:String,placeholder:String,range:Boolean},emits:["update:modelValue","update:value","flex"],setup(a,{emit:g}){const o=a,f=g,m=b(o.modelValue??o.value);W(()=>o.modelValue??o.value,h=>m.value=h);const n=h=>{f("update:modelValue",h),f("update:value",h),Array.isArray(h)&&h.length===2&&(f("update:checkin",h[0]),f("update:checkout",h[1]))};return(h,$)=>{const k=ve;return u(),v("div",null,[D(k,{value:m.value,"onUpdate:value":$[0]||($[0]=r=>m.value=r),range:a.range,class:"w-full",format:"YYYY-MM-DD",minDate:new Date,maxDate:a.maxDate,clearable:!1,inline:!0,numberOfMonths:2,selectionMode:a.range?"range":"single",manualInput:!1,"show-header":!0,"show-week-number":!1,onValueChange:n,pt:{calendarContainer:"!w-full"}},null,8,["value","range","minDate","maxDate","selectionMode"])])}}},Ye={key:0,class:"absolute z-50 mt-2 sm:mt-4 w-full origin-top rounded-2xl sm:rounded-3xl border border-gray-200 bg-white shadow-2xl dropdown-shadow"},Fe={key:0,class:"p-4 sm:p-8 panel-content"},We={class:"relative mb-4 sm:mb-6"},Je=["value"],Xe={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},Ke=["onClick"],Ze={class:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-blue-100 to-blue-200 rounded-lg flex items-center justify-center flex-shrink-0"},_e={class:"text-xl sm:text-2xl"},et={class:"min-w-0 flex-1"},tt={class:"font-medium text-gray-900 truncate"},st={class:"text-sm text-gray-500 truncate"},nt={key:1,class:"p-4 sm:p-8 panel-content"},ot={class:"flex justify-between gap-4"},at={class:"w-full py-2 rounded-md"},rt={class:"grid grid-cols-4 gap-2 mt-2"},it=["onClick"],lt={key:0,class:"w-full py-2 rounded-md"},dt={class:"grid grid-cols-4 gap-2 mt-2"},ut=["onClick"],ct={key:2,class:"p-4 sm:p-8 panel-content"},mt={class:"text-lg font-semibold text-gray-900 mb-4 sm:mb-6"},vt={key:3,class:"p-4 sm:p-8 panel-content"},pt={key:0,class:"text-gray-900 font-medium text-base sm:text-lg"},gt={key:1,class:"text-gray-500"},ft={key:4,class:"p-4 sm:p-8 panel-content"},ht={__name:"DropdownPanels",props:["isPanelOpen","activeTab","locationQuery","selectedCheckin","selectedCheckout","guests","hasSearchCriteria","popularDestinations","quickDateOptions","durationOptions","formatDate","type","selectedLocation","origenes"],emits:["selectLocation","openDatePicker","setQuickDate","setDuration","incrementGuests","decrementGuests","searchLocations","generateWithAi","update:locationQuery"],setup(a){const g=a,o=j(()=>{const r=l.checkin?.value,s=l.checkout?.value;if(g.type==="Hospedaje")if(r){const t=new Date(r).toLocaleDateString(),y=s?new Date(s).toLocaleDateString():null;return y?`¬°Bien! Llegar√≠as el ${t}, hasta el d√≠a ${y}`:`¬°Bien! Llegar√≠as el ${t}, hasta que dia?`}else return"¬øCu√°ndo llegar√≠as?";return g.type==="Embarcaciones"?"¬øQu√© d√≠a quieres la embarcaci√≥n?":g.type==="Tours"?"¬øQu√© d√≠a quieres el tour?":"¬øQu√© d√≠a necesitas tu transporte?"}),f=b([]);function m(r){Array.isArray(r)&&r.length===2?(l.checkin.value=r[0],l.checkout.value=r[1]):(l.checkin.value=r,l.checkout.value=r),console.log(f.value)}const n=r=>{l.origen.value=r,l.destino.value=null,k()},h=r=>{l.destino.value=r},$=b([]),k=async()=>{const r=await axios.get(`/getAllDestinations?origen=${l.origen.value}`);$.value=r.data.filter(s=>s!==l.origen.value)};return k(),(r,s)=>(u(),R(J,{name:"panel"},{default:T(()=>[a.isPanelOpen?(u(),v("div",Ye,[a.activeTab==="donde"?(u(),v("div",Fe,[s[9]||(s[9]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4 sm:mb-6"},"¬øA d√≥nde quieres ir?",-1)),e("div",We,[s[7]||(s[7]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),e("input",{value:a.locationQuery,onInput:s[0]||(s[0]=t=>{r.$emit("update:locationQuery",t.target.value),r.$emit("searchLocations")}),type:"text",placeholder:"Buscar destinos",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-rose-500 transition-all duration-200 modern-focus"},null,40,Je)]),e("div",null,[s[8]||(s[8]=e("h4",{class:"text-sm font-medium text-gray-700 mb-3"},"Destinos populares",-1)),e("div",Xe,[(u(!0),v(H,null,I(a.popularDestinations,(t,y)=>(u(),v("div",{key:t.name,onClick:S=>r.$emit("selectLocation",t.name),class:"destination-card flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 cursor-pointer transition-all duration-200 scale-hover"},[e("div",Ze,[e("span",_e,x(t.emoji),1)]),e("div",et,[e("p",tt,x(t.name),1),e("p",st,x(t.description),1)])],8,Ke))),128))])])])):w("",!0),a.activeTab==="origin"?(u(),v("div",nt,[s[12]||(s[12]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"¬øD√≥nde te recogemos y d√≥nde te llevamos? ",-1)),e("div",ot,[e("div",at,[s[10]||(s[10]=e("p",{class:"font-bold"},"Origen",-1)),e("div",rt,[(u(!0),v(H,null,I(a.origenes,t=>(u(),v("div",{key:t,onClick:y=>n(t)},[e("div",{class:C(["p-2 border border-gray-200 rounded-lg shadow-md cursor-pointer hover:bg-rose-500 hover:text-white transition-all duration-200 text-center scale-hover modern-focus",{"bg-rose-500 text-white":d(l).origen.value===t}])},x(t),3)],8,it))),128))])]),d(l).origen.value?(u(),v("div",lt,[s[11]||(s[11]=e("p",{class:"font-bold"},"Destino",-1)),e("div",dt,[(u(!0),v(H,null,I($.value,t=>(u(),v("div",{key:t,onClick:y=>h(t)},[e("div",{class:C(["p-2 border border-gray-200 rounded-lg shadow-md cursor-pointer hover:bg-blue-500 hover:text-white transition-all duration-200 text-center scale-hover modern-focus",{"bg-blue-500 text-white":d(l).destino.value===t}])},x(t),3)],8,ut))),128))])])):w("",!0)])])):w("",!0),a.activeTab==="checkin"?(u(),v("div",ct,[e("h3",mt,x(o.value),1),e("div",null,[D(Ne,{class:"w-full",value:f.value,"min-date":new Date().toISOString().split("T")[0],placeholder:"Selecciona rango de fechas","onUpdate:value":s[1]||(s[1]=t=>m(t)),"onUpdate:checkin":s[2]||(s[2]=t=>d(l).checkin.value=t),"onUpdate:checkout":s[3]||(s[3]=t=>d(l).checkout.value=t),range:a.type=="Hospedaje"},null,8,["value","min-date","range"])])])):w("",!0),a.activeTab==="checkout"?(u(),v("div",vt,[s[13]||(s[13]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4 sm:mb-6"},"¬øCu√°ndo termina tu viaje?",-1)),e("div",{class:"border border-gray-200 rounded-lg p-4 sm:p-6 cursor-pointer hover:border-gray-300 transition-all duration-200 text-center scale-hover modern-focus",onClick:s[4]||(s[4]=t=>r.$emit("openDatePicker","checkout"))},[a.selectedCheckout?(u(),v("div",pt,x(a.formatDate(a.selectedCheckout)),1)):(u(),v("div",gt,"Selecciona fecha de salida"))])])):w("",!0),a.activeTab==="quien"?(u(),v("div",ft,[s[14]||(s[14]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4 sm:mb-6"},"¬øQui√©n viene?",-1)),D(Ge,{guests:a.guests,onIncrement:s[5]||(s[5]=t=>r.$emit("incrementGuests",t)),onDecrement:s[6]||(s[6]=t=>r.$emit("decrementGuests",t))},null,8,["guests"])])):w("",!0)])):w("",!0)]),_:1}))}},bt={class:"flex justify-center w-full px-4 sm:px-6 lg:px-8"},yt={key:"tabs",class:"mb-3 sm:mb-4 w-full items-center flex justify-center"},xt={class:"relative"},kt={__name:"Search",setup(a){const g=b(!1),o=b("donde"),f=b(!1),m=b(!1),n=b(""),h=b(null),$=b(""),k=l.location,r=l.checkin,s=l.checkout,t=l.guests,y=l.origen,S=b({label:"Tours",value:"TOUR"}),M=i=>{o.value=i,g.value||(g.value=!0)},K=()=>{g.value=!1,o.value=""};b([]);const q=b([]);b([]);const Z=()=>{f.value=!0},_=async i=>{if(k.value=i,z(i),l.type.value.label=="Transporte"){M("origin");return}M("checkin")},z=async i=>{const c=await axios.get(`/getAllOrigins?city=${i}`);q.value=c.data};z(k.value);const ee=i=>{const c=new Date;if(i==="checkin"){const p=new Date(c);p.setDate(c.getDate()+1),r.value=p.toISOString().split("T")[0]}else if(i==="checkout"){const p=new Date(r.value||c);p.setDate(p.getDate()+7),s.value=p.toISOString().split("T")[0]}},te=(i,c)=>{const p=new Date,A=new Date(p);A.setDate(p.getDate()+c),i==="checkin"&&(r.value=A.toISOString().split("T")[0])},se=i=>{if(r.value){const c=new Date(r.value),p=new Date(c);p.setDate(c.getDate()+i),s.value=p.toISOString().split("T")[0]}},O=i=>new Date(i).toLocaleDateString("es-ES",{weekday:"short",month:"short",day:"numeric"}),ne=[{name:"Cartagena",description:"Ciudad amurallada",emoji:"üè∞"},{name:"San Andr√©s",description:"Isla caribe√±a",emoji:"üèùÔ∏è"},{name:"Medell√≠n",description:"Ciudad de la eterna primavera",emoji:"üå∏"},{name:"Bogot√°",description:"Capital cultural",emoji:"üèôÔ∏è"},{name:"Eje Cafetero",description:"Paisaje cafetero",emoji:"‚òï"},{name:"Amazonas",description:"Selva tropical",emoji:"üå≥"}],oe=i=>{t.value[i]++},ae=i=>{t.value[i]>0&&t.value[i]--},re=()=>{console.log("Buscando:",$.value)},P=j(()=>{const i=l.type.value.label=="Hospedaje"?"hu√©sped":"persona",c=t.value.adults+t.value.children;if(c===0)return"";let p=`${c} ${i}${c>1?i=="hu√©sped"?"es":"s":""}`;return t.value.infants>0&&(p+=`, ${t.value.infants} beb√©${t.value.infants>1?"s":""}`),p}),U=j(()=>k.value||r.value||s.value||t.value.adults>0||t.value.children>0||t.value.infants>0);j(()=>n.value?marked.parse(n.value).replace(/<a href="([^"]+)">/g,(p,A)=>`<a href="/showservice/${A}" target="_blank" rel="noopener noreferrer" class="text-green-600 hover:text-green-800 font-semibold underline">`):"");const ie=j(()=>r.value&&s.value?`${O(r.value)} - ${O(s.value)}`:r.value?O(r.value):""),le=async()=>{if(U.value){Z(),m.value=!0;try{let i="";k.value&&(i+=`Destino: ${k.value}. `),r.value&&(i+=`Check-in: ${r.value}. `),s.value&&(i+=`Check-out: ${s.value}. `),P.value&&(i+=`Hu√©spedes: ${P.value}. `),S.value.value&&(i+=`Tipo: ${S.value.label}. `);const p=(await axios.post("/get-service",{prompt:i||"B√∫squeda general",type:S.value.value})).data;n.value=p.recommendation||p.response||"No se recibi√≥ una recomendaci√≥n v√°lida."}catch(i){console.error("Error al contactar el backend:",i),n.value=`Ocurri√≥ un error al buscar el servicio: ${i.message}`}finally{m.value=!1}}},G=i=>{i.target.closest(".mx-datepicker-popup")||i.target.closest(".mx-calendar")||h.value&&!h.value.contains(i.target)&&K()},E=b(!0),de=E;function N(){const i=window.scrollY,c=window.innerWidth<=768?20:10;E.value=i<c}return Q(()=>{document.addEventListener("mousedown",G),document.addEventListener("scroll",N)}),X(()=>{document.removeEventListener("mousedown",G),document.removeEventListener("scroll",N)}),me("showInputTitles",de),(i,c)=>(u(),v("div",bt,[e("div",{class:"relative w-full",ref_key:"searchContainer",ref:h},[D(J,{name:"fade-slide"},{default:T(()=>[E.value?(u(),v("div",yt,[D(be,{servicesType:i.servicesType,modelValue:d(l).type,"onUpdate:modelValue":c[0]||(c[0]=p=>d(l).type=p)},null,8,["servicesType","modelValue"]),D(d(L),{class:"sm:hidden fixed right-0 top-9 bg-white/90 rounded-full px-2 py-1",href:i.route("login")},{default:T(()=>[...c[4]||(c[4]=[e("i",{class:"fa-solid fa-right-to-bracket"},null,-1)])]),_:1},8,["href"])])):w("",!0)]),_:1}),e("div",xt,[D(Le,{type:d(l).type.value.label,isPanelOpen:g.value,activeTab:o.value,selectedLocation:d(k),selectedCheckin:d(r),selectedCheckout:d(s),guestSummary:P.value,setActiveTab:M,formatDate:O,dateRange:ie.value,selectedOrigin:d(y)},null,8,["type","isPanelOpen","activeTab","selectedLocation","selectedCheckin","selectedCheckout","guestSummary","dateRange","selectedOrigin"])]),D(ht,{isPanelOpen:g.value,activeTab:o.value,locationQuery:$.value,"onUpdate:locationQuery":c[1]||(c[1]=p=>$.value=p),selectedCheckin:d(r),"onUpdate:selectedCheckin":c[2]||(c[2]=p=>F(r)?r.value=p:null),selectedCheckout:d(s),"onUpdate:selectedCheckout":c[3]||(c[3]=p=>F(s)?s.value=p:null),guests:d(t),hasSearchCriteria:U.value,popularDestinations:ne,selectedLocation:d(k),quickDateOptions:i.quickDateOptions,durationOptions:i.durationOptions,formatDate:O,onSelectLocation:_,onOpenDatePicker:ee,onSetQuickDate:te,onSetDuration:se,onIncrementGuests:oe,onDecrementGuests:ae,onSearchLocations:re,onGenerateWithAi:le,type:d(l).type.value.label,origenes:q.value},null,8,["isPanelOpen","activeTab","locationQuery","selectedCheckin","selectedCheckout","guests","hasSearchCriteria","selectedLocation","quickDateOptions","durationOptions","type","origenes"])],512)]))}},wt=V(kt,[["__scopeId","data-v-d2b4677c"]]),$t={class:"flex items-center justify-between p-0 lg:px-8","aria-label":"Global"},Dt={class:"hidden md:flex w-1/5"},Ct={class:"rounded-md w-full"},St={__name:"Header",setup(a){b("");const g=b(!1);b(!1);const o=()=>{window.scrollY>300?g.value=!0:g.value=!1};return Q(()=>{window.addEventListener("scroll",o)}),X(()=>{window.removeEventListener("scroll",o)}),(f,m)=>(u(),v("header",{class:C(["bg-transparent z-30",{scrolled:g.value}])},[e("nav",$t,[e("div",Dt,[D(d(L),{href:"/"},{default:T(()=>[D(pe,{width:"60",height:"60"})]),_:1})]),e("div",Ct,[D(wt)]),D(d(L),{class:"rounded-md w-1/5 sm:flex hidden justify-center",href:f.route("login")},{default:T(()=>[...m[0]||(m[0]=[e("div",{class:"flex items-center gap-x-3 justify-center h-full bg-white/90 rounded-md px-2 py-1"},[e("i",{class:"fa-solid fa-right-to-bracket"}),e("span",{class:"text-lg font-bold text-gray-800"},"Entrar")],-1)])]),_:1},8,["href"])])],2))}},It=V(St,[["__scopeId","data-v-9a3609f7"]]);export{It as H,Ge as _};
