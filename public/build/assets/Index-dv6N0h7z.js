import{s as se}from"./index-CRpoWIZW.js";import{_ as le}from"./Datatable-DbgdKA67.js";import{ec as W,eg as _,d as B,fs as te,af as ue,F as $,eb as de,fd as ce,q as Z,C as fe,f as z,a as w,i as j,b as P,w as H,u as C,W as ee,o as T,n as re,t as Q,g as G}from"./app-dQpQWY87.js";import{s as he}from"./index-14qoEfgy.js";import{a as ve,_ as L}from"./Modal-CkaisDHP.js";import"./index-CRnPzJmM.js";import"./index-Dz_wgFar.js";import"./index-BQcSw6Lh.js";import"./index-C_gSQSGl.js";import"./index-BnutmeHe.js";import"./index-BekUkbx8.js";import"./index-B3euGxXH.js";import"./index-yHtilBtG.js";import"./index-r1MlNKdD.js";import"./index-DCuLCKa6.js";import"./index-Ct9Zc0yn.js";import"./index-BuT9STnY.js";import"./useCommonUtilities-DO03hYfs.js";import"./moment-Cijl8gKs.js";import"./postcss-Czs7P3a3.js";import"./index--N-fN2mM.js";import"./index-DL7P3Yjg.js";import"./index-Cnxyj3Hy.js";/*!
 * qrcode.vue v3.6.0
 * A Vue.js component to generate QRCode. Both support Vue 2 and Vue 3
 * © 2017-PRESENT @scopewu(https://github.com/scopewu)
 * MIT License.
 */var k=function(){return k=Object.assign||function(h){for(var f,u=1,v=arguments.length;u<v;u++){f=arguments[u];for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(h[p]=f[p])}return h},k.apply(this,arguments)};var U;(function(i){var h=function(){function a(r,t,e,n){if(this.version=r,this.errorCorrectionLevel=t,this.modules=[],this.isFunction=[],r<a.MIN_VERSION||r>a.MAX_VERSION)throw new RangeError("Version value out of range");if(n<-1||n>7)throw new RangeError("Mask value out of range");this.size=r*4+17;for(var s=[],l=0;l<this.size;l++)s.push(!1);for(var l=0;l<this.size;l++)this.modules.push(s.slice()),this.isFunction.push(s.slice());this.drawFunctionPatterns();var c=this.addEccAndInterleave(e);if(this.drawCodewords(c),n==-1)for(var E=1e9,l=0;l<8;l++){this.applyMask(l),this.drawFormatBits(l);var S=this.getPenaltyScore();S<E&&(n=l,E=S),this.applyMask(l)}v(0<=n&&n<=7),this.mask=n,this.applyMask(n),this.drawFormatBits(n),this.isFunction=[]}return a.encodeText=function(r,t){var e=i.QrSegment.makeSegments(r);return a.encodeSegments(e,t)},a.encodeBinary=function(r,t){var e=i.QrSegment.makeBytes(r);return a.encodeSegments([e],t)},a.encodeSegments=function(r,t,e,n,s,l){if(e===void 0&&(e=1),n===void 0&&(n=40),s===void 0&&(s=-1),l===void 0&&(l=!0),!(a.MIN_VERSION<=e&&e<=n&&n<=a.MAX_VERSION)||s<-1||s>7)throw new RangeError("Invalid value");var c,E;for(c=e;;c++){var S=a.getNumDataCodewords(c,t)*8,y=p.getTotalBits(r,c);if(y<=S){E=y;break}if(c>=n)throw new RangeError("Data too long")}for(var M=0,A=[a.Ecc.MEDIUM,a.Ecc.QUARTILE,a.Ecc.HIGH];M<A.length;M++){var b=A[M];l&&E<=a.getNumDataCodewords(c,b)*8&&(t=b)}for(var g=[],R=0,o=r;R<o.length;R++){var d=o[R];f(d.mode.modeBits,4,g),f(d.numChars,d.mode.numCharCountBits(c),g);for(var N=0,m=d.getData();N<m.length;N++){var O=m[N];g.push(O)}}v(g.length==E);var D=a.getNumDataCodewords(c,t)*8;v(g.length<=D),f(0,Math.min(4,D-g.length),g),f(0,(8-g.length%8)%8,g),v(g.length%8==0);for(var I=236;g.length<D;I^=253)f(I,8,g);for(var V=[];V.length*8<g.length;)V.push(0);return g.forEach(function(Y,x){return V[x>>>3]|=Y<<7-(x&7)}),new a(c,t,V,s)},a.prototype.getModule=function(r,t){return 0<=r&&r<this.size&&0<=t&&t<this.size&&this.modules[t][r]},a.prototype.getModules=function(){return this.modules},a.prototype.drawFunctionPatterns=function(){for(var r=0;r<this.size;r++)this.setFunctionModule(6,r,r%2==0),this.setFunctionModule(r,6,r%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var t=this.getAlignmentPatternPositions(),e=t.length,r=0;r<e;r++)for(var n=0;n<e;n++)r==0&&n==0||r==0&&n==e-1||r==e-1&&n==0||this.drawAlignmentPattern(t[r],t[n]);this.drawFormatBits(0),this.drawVersion()},a.prototype.drawFormatBits=function(r){for(var t=this.errorCorrectionLevel.formatBits<<3|r,e=t,n=0;n<10;n++)e=e<<1^(e>>>9)*1335;var s=(t<<10|e)^21522;v(s>>>15==0);for(var n=0;n<=5;n++)this.setFunctionModule(8,n,u(s,n));this.setFunctionModule(8,7,u(s,6)),this.setFunctionModule(8,8,u(s,7)),this.setFunctionModule(7,8,u(s,8));for(var n=9;n<15;n++)this.setFunctionModule(14-n,8,u(s,n));for(var n=0;n<8;n++)this.setFunctionModule(this.size-1-n,8,u(s,n));for(var n=8;n<15;n++)this.setFunctionModule(8,this.size-15+n,u(s,n));this.setFunctionModule(8,this.size-8,!0)},a.prototype.drawVersion=function(){if(!(this.version<7)){for(var r=this.version,t=0;t<12;t++)r=r<<1^(r>>>11)*7973;var e=this.version<<12|r;v(e>>>18==0);for(var t=0;t<18;t++){var n=u(e,t),s=this.size-11+t%3,l=Math.floor(t/3);this.setFunctionModule(s,l,n),this.setFunctionModule(l,s,n)}}},a.prototype.drawFinderPattern=function(r,t){for(var e=-4;e<=4;e++)for(var n=-4;n<=4;n++){var s=Math.max(Math.abs(n),Math.abs(e)),l=r+n,c=t+e;0<=l&&l<this.size&&0<=c&&c<this.size&&this.setFunctionModule(l,c,s!=2&&s!=4)}},a.prototype.drawAlignmentPattern=function(r,t){for(var e=-2;e<=2;e++)for(var n=-2;n<=2;n++)this.setFunctionModule(r+n,t+e,Math.max(Math.abs(n),Math.abs(e))!=1)},a.prototype.setFunctionModule=function(r,t,e){this.modules[t][r]=e,this.isFunction[t][r]=!0},a.prototype.addEccAndInterleave=function(r){var t=this.version,e=this.errorCorrectionLevel;if(r.length!=a.getNumDataCodewords(t,e))throw new RangeError("Invalid argument");for(var n=a.NUM_ERROR_CORRECTION_BLOCKS[e.ordinal][t],s=a.ECC_CODEWORDS_PER_BLOCK[e.ordinal][t],l=Math.floor(a.getNumRawDataModules(t)/8),c=n-l%n,E=Math.floor(l/n),S=[],y=a.reedSolomonComputeDivisor(s),M=0,A=0;M<n;M++){var b=r.slice(A,A+E-s+(M<c?0:1));A+=b.length;var g=a.reedSolomonComputeRemainder(b,y);M<c&&b.push(0),S.push(b.concat(g))}for(var R=[],o=function(d){S.forEach(function(N,m){(d!=E-s||m>=c)&&R.push(N[d])})},M=0;M<S[0].length;M++)o(M);return v(R.length==l),R},a.prototype.drawCodewords=function(r){if(r.length!=Math.floor(a.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var t=0,e=this.size-1;e>=1;e-=2){e==6&&(e=5);for(var n=0;n<this.size;n++)for(var s=0;s<2;s++){var l=e-s,c=(e+1&2)==0,E=c?this.size-1-n:n;!this.isFunction[E][l]&&t<r.length*8&&(this.modules[E][l]=u(r[t>>>3],7-(t&7)),t++)}}v(t==r.length*8)},a.prototype.applyMask=function(r){if(r<0||r>7)throw new RangeError("Mask value out of range");for(var t=0;t<this.size;t++)for(var e=0;e<this.size;e++){var n=void 0;switch(r){case 0:n=(e+t)%2==0;break;case 1:n=t%2==0;break;case 2:n=e%3==0;break;case 3:n=(e+t)%3==0;break;case 4:n=(Math.floor(e/3)+Math.floor(t/2))%2==0;break;case 5:n=e*t%2+e*t%3==0;break;case 6:n=(e*t%2+e*t%3)%2==0;break;case 7:n=((e+t)%2+e*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][e]&&n&&(this.modules[t][e]=!this.modules[t][e])}},a.prototype.getPenaltyScore=function(){for(var r=0,t=0;t<this.size;t++){for(var e=!1,n=0,s=[0,0,0,0,0,0,0],l=0;l<this.size;l++)this.modules[t][l]==e?(n++,n==5?r+=a.PENALTY_N1:n>5&&r++):(this.finderPenaltyAddHistory(n,s),e||(r+=this.finderPenaltyCountPatterns(s)*a.PENALTY_N3),e=this.modules[t][l],n=1);r+=this.finderPenaltyTerminateAndCount(e,n,s)*a.PENALTY_N3}for(var l=0;l<this.size;l++){for(var e=!1,c=0,s=[0,0,0,0,0,0,0],t=0;t<this.size;t++)this.modules[t][l]==e?(c++,c==5?r+=a.PENALTY_N1:c>5&&r++):(this.finderPenaltyAddHistory(c,s),e||(r+=this.finderPenaltyCountPatterns(s)*a.PENALTY_N3),e=this.modules[t][l],c=1);r+=this.finderPenaltyTerminateAndCount(e,c,s)*a.PENALTY_N3}for(var t=0;t<this.size-1;t++)for(var l=0;l<this.size-1;l++){var E=this.modules[t][l];E==this.modules[t][l+1]&&E==this.modules[t+1][l]&&E==this.modules[t+1][l+1]&&(r+=a.PENALTY_N2)}for(var S=0,y=0,M=this.modules;y<M.length;y++){var A=M[y];S=A.reduce(function(R,o){return R+(o?1:0)},S)}var b=this.size*this.size,g=Math.ceil(Math.abs(S*20-b*10)/b)-1;return v(0<=g&&g<=9),r+=g*a.PENALTY_N4,v(0<=r&&r<=2568888),r},a.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var r=Math.floor(this.version/7)+2,t=Math.floor((this.version*8+r*3+5)/(r*4-4))*2,e=[6],n=this.size-7;e.length<r;n-=t)e.splice(1,0,n);return e},a.getNumRawDataModules=function(r){if(r<a.MIN_VERSION||r>a.MAX_VERSION)throw new RangeError("Version number out of range");var t=(16*r+128)*r+64;if(r>=2){var e=Math.floor(r/7)+2;t-=(25*e-10)*e-55,r>=7&&(t-=36)}return v(208<=t&&t<=29648),t},a.getNumDataCodewords=function(r,t){return Math.floor(a.getNumRawDataModules(r)/8)-a.ECC_CODEWORDS_PER_BLOCK[t.ordinal][r]*a.NUM_ERROR_CORRECTION_BLOCKS[t.ordinal][r]},a.reedSolomonComputeDivisor=function(r){if(r<1||r>255)throw new RangeError("Degree out of range");for(var t=[],e=0;e<r-1;e++)t.push(0);t.push(1);for(var n=1,e=0;e<r;e++){for(var s=0;s<t.length;s++)t[s]=a.reedSolomonMultiply(t[s],n),s+1<t.length&&(t[s]^=t[s+1]);n=a.reedSolomonMultiply(n,2)}return t},a.reedSolomonComputeRemainder=function(r,t){for(var e=t.map(function(E){return 0}),n=function(E){var S=E^e.shift();e.push(0),t.forEach(function(y,M){return e[M]^=a.reedSolomonMultiply(y,S)})},s=0,l=r;s<l.length;s++){var c=l[s];n(c)}return e},a.reedSolomonMultiply=function(r,t){if(r>>>8||t>>>8)throw new RangeError("Byte out of range");for(var e=0,n=7;n>=0;n--)e=e<<1^(e>>>7)*285,e^=(t>>>n&1)*r;return v(e>>>8==0),e},a.prototype.finderPenaltyCountPatterns=function(r){var t=r[1];v(t<=this.size*3);var e=t>0&&r[2]==t&&r[3]==t*3&&r[4]==t&&r[5]==t;return(e&&r[0]>=t*4&&r[6]>=t?1:0)+(e&&r[6]>=t*4&&r[0]>=t?1:0)},a.prototype.finderPenaltyTerminateAndCount=function(r,t,e){return r&&(this.finderPenaltyAddHistory(t,e),t=0),t+=this.size,this.finderPenaltyAddHistory(t,e),this.finderPenaltyCountPatterns(e)},a.prototype.finderPenaltyAddHistory=function(r,t){t[0]==0&&(r+=this.size),t.pop(),t.unshift(r)},a.MIN_VERSION=1,a.MAX_VERSION=40,a.PENALTY_N1=3,a.PENALTY_N2=3,a.PENALTY_N3=40,a.PENALTY_N4=10,a.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],a.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],a}();i.QrCode=h;function f(a,r,t){if(r<0||r>31||a>>>r)throw new RangeError("Value out of range");for(var e=r-1;e>=0;e--)t.push(a>>>e&1)}function u(a,r){return(a>>>r&1)!=0}function v(a){if(!a)throw new Error("Assertion error")}var p=function(){function a(r,t,e){if(this.mode=r,this.numChars=t,this.bitData=e,t<0)throw new RangeError("Invalid argument");this.bitData=e.slice()}return a.makeBytes=function(r){for(var t=[],e=0,n=r;e<n.length;e++){var s=n[e];f(s,8,t)}return new a(a.Mode.BYTE,r.length,t)},a.makeNumeric=function(r){if(!a.isNumeric(r))throw new RangeError("String contains non-numeric characters");for(var t=[],e=0;e<r.length;){var n=Math.min(r.length-e,3);f(parseInt(r.substring(e,e+n),10),n*3+1,t),e+=n}return new a(a.Mode.NUMERIC,r.length,t)},a.makeAlphanumeric=function(r){if(!a.isAlphanumeric(r))throw new RangeError("String contains unencodable characters in alphanumeric mode");var t=[],e;for(e=0;e+2<=r.length;e+=2){var n=a.ALPHANUMERIC_CHARSET.indexOf(r.charAt(e))*45;n+=a.ALPHANUMERIC_CHARSET.indexOf(r.charAt(e+1)),f(n,11,t)}return e<r.length&&f(a.ALPHANUMERIC_CHARSET.indexOf(r.charAt(e)),6,t),new a(a.Mode.ALPHANUMERIC,r.length,t)},a.makeSegments=function(r){return r==""?[]:a.isNumeric(r)?[a.makeNumeric(r)]:a.isAlphanumeric(r)?[a.makeAlphanumeric(r)]:[a.makeBytes(a.toUtf8ByteArray(r))]},a.makeEci=function(r){var t=[];if(r<0)throw new RangeError("ECI assignment value out of range");if(r<128)f(r,8,t);else if(r<16384)f(2,2,t),f(r,14,t);else if(r<1e6)f(6,3,t),f(r,21,t);else throw new RangeError("ECI assignment value out of range");return new a(a.Mode.ECI,0,t)},a.isNumeric=function(r){return a.NUMERIC_REGEX.test(r)},a.isAlphanumeric=function(r){return a.ALPHANUMERIC_REGEX.test(r)},a.prototype.getData=function(){return this.bitData.slice()},a.getTotalBits=function(r,t){for(var e=0,n=0,s=r;n<s.length;n++){var l=s[n],c=l.mode.numCharCountBits(t);if(l.numChars>=1<<c)return 1/0;e+=4+c+l.bitData.length}return e},a.toUtf8ByteArray=function(r){r=encodeURI(r);for(var t=[],e=0;e<r.length;e++)r.charAt(e)!="%"?t.push(r.charCodeAt(e)):(t.push(parseInt(r.substring(e+1,e+3),16)),e+=2);return t},a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",a}();i.QrSegment=p})(U||(U={}));(function(i){(function(h){var f=function(){function u(v,p){this.ordinal=v,this.formatBits=p}return u.LOW=new u(0,1),u.MEDIUM=new u(1,0),u.QUARTILE=new u(2,3),u.HIGH=new u(3,2),u}();h.Ecc=f})(i.QrCode||(i.QrCode={}))})(U||(U={}));(function(i){(function(h){var f=function(){function u(v,p){this.modeBits=v,this.numBitsCharCount=p}return u.prototype.numCharCountBits=function(v){return this.numBitsCharCount[Math.floor((v+7)/17)]},u.NUMERIC=new u(1,[10,12,14]),u.ALPHANUMERIC=new u(2,[9,11,13]),u.BYTE=new u(4,[8,16,16]),u.KANJI=new u(8,[8,10,12]),u.ECI=new u(7,[0,0,0]),u}();h.Mode=f})(i.QrSegment||(i.QrSegment={}))})(U||(U={}));var F=U,q="L",K={L:F.QrCode.Ecc.LOW,M:F.QrCode.Ecc.MEDIUM,Q:F.QrCode.Ecc.QUARTILE,H:F.QrCode.Ecc.HIGH},me=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function X(i){return i in K}function ae(i,h){h===void 0&&(h=0);var f=[];return i.forEach(function(u,v){var p=null;u.forEach(function(a,r){if(!a&&p!==null){f.push("M".concat(p+h," ").concat(v+h,"h").concat(r-p,"v1H").concat(p+h,"z")),p=null;return}if(r===u.length-1){if(!a)return;p===null?f.push("M".concat(r+h,",").concat(v+h," h1v1H").concat(r+h,"z")):f.push("M".concat(p+h,",").concat(v+h," h").concat(r+1-p,"v1H").concat(p+h,"z"));return}a&&p===null&&(p=r)})}),f.join("")}function ne(i,h,f,u){var v=u.width,p=u.height,a=u.x,r=u.y,t=i.length+f*2,e=Math.floor(h*.1),n=t/h,s=(v||e)*n,l=(p||e)*n,c=a==null?i.length/2-s/2:a*n,E=r==null?i.length/2-l/2:r*n,S=null;if(u.excavate){var y=Math.floor(c),M=Math.floor(E),A=Math.ceil(s+c-y),b=Math.ceil(l+E-M);S={x:y,y:M,w:A,h:b}}return{x:c,y:E,h:l,w:s,excavation:S}}function oe(i,h){return i.slice().map(function(f,u){return u<h.y||u>=h.y+h.h?f:f.map(function(v,p){return p<h.x||p>=h.x+h.w?v:!1})})}var J={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:q,validator:function(i){return X(i)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0},imageSettings:{type:Object,required:!1,default:function(){return{}}},gradient:{type:Boolean,required:!1,default:!1},gradientType:{type:String,required:!1,default:"linear",validator:function(i){return["linear","radial"].indexOf(i)>-1}},gradientStartColor:{type:String,required:!1,default:"#000"},gradientEndColor:{type:String,required:!1,default:"#fff"}},pe=k(k({},J),{renderAs:{type:String,required:!1,default:"canvas",validator:function(i){return["canvas","svg"].indexOf(i)>-1}}}),ge=W({name:"QRCodeSvg",props:J,setup:function(i){var h=B(0),f=B(""),u,v=function(){var a=i.value,r=i.level,t=i.margin,e=t>>>0,n=X(r)?r:q,s=F.QrCode.encodeText(a,K[n]).getModules();if(h.value=s.length+e*2,i.imageSettings.src){var l=ne(s,i.size,e,i.imageSettings);u={x:l.x+e,y:l.y+e,width:l.w,height:l.h},l.excavation&&(s=oe(s,l.excavation))}f.value=ae(s,e)},p=function(){if(!i.gradient)return null;var a=i.gradientType==="linear"?{x1:"0%",y1:"0%",x2:"100%",y2:"100%"}:{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"};return _(i.gradientType==="linear"?"linearGradient":"radialGradient",k({id:"qr-gradient"},a),[_("stop",{offset:"0%",style:{stopColor:i.gradientStartColor}}),_("stop",{offset:"100%",style:{stopColor:i.gradientEndColor}})])};return v(),te(v),function(){return _("svg",{width:i.size,height:i.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(h.value," ").concat(h.value)},[_("defs",{},[p()]),_("rect",{width:"100%",height:"100%",fill:i.background}),_("path",{fill:i.gradient?"url(#qr-gradient)":i.foreground,d:f.value}),i.imageSettings.src&&_("image",k({href:i.imageSettings.src},u))])}}}),we=W({name:"QRCodeCanvas",props:J,setup:function(i,h){var f=B(null),u=B(null),v=function(){var a=i.value,r=i.level,t=i.size,e=i.margin,n=i.background,s=i.foreground,l=i.gradient,c=i.gradientType,E=i.gradientStartColor,S=i.gradientEndColor,y=e>>>0,M=X(r)?r:q,A=f.value;if(A){var b=A.getContext("2d");if(b){var g=F.QrCode.encodeText(a,K[M]).getModules(),R=g.length+y*2,o=u.value,d={x:0,y:0,width:0,height:0},N=i.imageSettings.src&&o!=null&&o.naturalWidth!==0&&o.naturalHeight!==0;if(N){var m=ne(g,i.size,y,i.imageSettings);d={x:m.x+y,y:m.y+y,width:m.w,height:m.h},m.excavation&&(g=oe(g,m.excavation))}var O=window.devicePixelRatio||1,D=t/R*O;if(A.height=A.width=t*O,b.scale(D,D),b.fillStyle=n,b.fillRect(0,0,R,R),l){var I=void 0;c==="linear"?I=b.createLinearGradient(0,0,R,R):I=b.createRadialGradient(R/2,R/2,0,R/2,R/2,R/2),I.addColorStop(0,E),I.addColorStop(1,S),b.fillStyle=I}else b.fillStyle=s;me?b.fill(new Path2D(ae(g,y))):g.forEach(function(V,Y){V.forEach(function(x,ie){x&&b.fillRect(ie+y,Y+y,1,1)})}),N&&b.drawImage(o,d.x,d.y,d.width,d.height)}}};ue(v),te(v);var p=h.attrs.style;return function(){return _($,[_("canvas",k(k({},h.attrs),{ref:f,style:k(k({},p),{width:"".concat(i.size,"px"),height:"".concat(i.size,"px")})})),i.imageSettings.src&&_("img",{ref:u,src:i.imageSettings.src,style:{display:"none"},onLoad:v})])}}}),Ce=W({name:"Qrcode",render:function(){var i=this.$props,h=i.renderAs,f=i.value,u=i.size,v=i.margin,p=i.level,a=i.background,r=i.foreground,t=i.imageSettings,e=i.gradient,n=i.gradientType,s=i.gradientStartColor,l=i.gradientEndColor;return _(h==="svg"?ge:we,{value:f,size:u,margin:v,level:p,background:a,foreground:r,imageSettings:t,gradient:e,gradientType:n,gradientStartColor:s,gradientEndColor:l})},props:pe});const Ee={class:"h-[99vh]"},be={class:"flex justify-center w-full gap-x-3 py-2"},Me=["onClick"],ye={class:"flex gap-x-3 py-2"},Re={class:"grid grid-cols-2 w-full shadow-2xl border rounded-md gap-2 p-4"},Se={key:0,class:"flex flex-col"},Ae={class:"rounded-md border border-gray-100 bg-white p-4 shadow-md"},Pe={for:"upload",class:"flex flex-col items-center gap-2 cursor-pointer"},_e={class:"text-gray-600 font-medium text-sm truncate w-full"},Ne={key:1,class:"flex flex-col"},ke={class:"rounded-md border border-gray-100 bg-white p-4 shadow-md"},Ie={for:"uploadRut",class:"flex flex-col items-center gap-2 cursor-pointer"},ze={class:"text-gray-600 font-medium text-sm truncate w-full text-center"},Te={key:2,class:"flex flex-col"},Be={class:"rounded-md border border-gray-100 bg-white p-4 shadow-md"},Le={for:"uploadCuenta",class:"flex flex-col items-center gap-2 cursor-pointer"},Ue={class:"text-gray-600 font-medium text-sm truncate w-full text-center"},Oe={key:3,class:"w-full flex flex-col justify-center items-center"},De=["href"],Ve={class:"w-full shadow-2xl border rounded-md gap-2 p-4"},Fe={class:"grid grid-cols-3 gap-2"},Qe=["onClick"],cr={__name:"Index",props:{users:Array,permisos:Array},setup(i){const h=[{label:"Usuarios AV Colombia",value:"av",color:"green"},{label:"Vendedores",value:"vendedor",color:"blue"},{label:"Proveedores",value:"proveedor",color:"yellow"}],f=B("vendedor"),u=[{header:"Nombre",field:"name",filter:!0},{header:"Tipo de Usuario",field:"rol",filter:!0},{header:"Correo",field:"email",filter:!0},{header:"Telefono",field:"phone",filter:!0},{header:"Cuenta Bancaria",field:"cuenta",filter:!0,type:"html-custom",renderer:o=>`<a href="${o.cuenta}" class="text-sky-600 underline" target="_blank">Ver Comprobante</a>`},{header:"URL Portafolio",field:"url"}],v=de(),p=ce(),a=B(!1),r=B(),t=Z(()=>c.permisos.filter(o=>!r.value||o.name.includes(r.value))),e=fe({id:null,name:"",phone:"",email:"",password:"",url:"",rol:"",password_confirmation:"",permissions:[],camara:null,rut:null,cuenta:null}),n=B(!1),s={action:()=>{e.reset(),a.value=!1,n.value=!0}},l=[{action:o=>{e.reset(),n.value=!0,a.value=!0,e.name=o.name,e.email=o.email,e.rol=o.rol,e.id=o.id,e.url=o.url,e.permissions=o.permissions.map(d=>d.name)},severity:"secondary",icon:"fa-solid fa-pencil text-sm"},{action:(o,d)=>{p.require({target:d.currentTarget,message:"Seguro de Eliminar el Usuario "+o.name+"?",icon:"fa-solid fa-exclamation-triangle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-sm p-button-danger",rejectLabel:"Cancelar",acceptLabel:"Eliminar",accept:()=>{ee.delete(route("users.destroy",o.id),{onSuccess:()=>{v.add({severity:"error",icon:"fa-solid fa-trash-can",summary:"¡Accion realizada!",detail:"Usuario eliminado con exito",group:"customTooltipDataTable",life:5e3})}})}})},severity:"danger",icon:"fa-regular fa-trash-can text-sm"}],c=i,E=()=>{let o=new FormData;o.append("name",e.name),o.append("email",e.email),o.append("password",e.password),o.append("password_confirmation",e.password_confirmation),o.append("phone",e.phone),o.append("rol",e.rol),o.append("permissions",e.permissions),o.append("camara",e.camara),o.append("rut",e.rut),o.append("cuenta",e.cuenta),a.value?ee.post(route("users.update",e.id),o,{onSuccess:()=>{n.value=!1}}):e.post(route("users.store"),{onSuccess:()=>{n.value=!1}})},S=[{label:"Super Administrador",value:"superadmin"},{label:"Administrador",value:"admin"},{label:"Cordinador",value:"cordinador"},{label:"Vendedor",value:"vendedor"},{label:"Proveedor",value:"proveedor"}];function y(){e.rol=="superadmin"?e.permissions=c.permisos.map(o=>o.name):e.rol=="admin"?e.permissions=c.permisos.filter(o=>(o=o.name,!(o.includes("usuarios")||o.includes("pagos")||o.includes("entradas")))).map(o=>o.name):e.rol=="cordinador"?e.permissions=c.permisos.filter(o=>(o=o.name,!(o.includes("usuarios")||o.includes("pagos")||o.includes("entradas")||o.includes("eliminar"))&&o!="crear experiencas")).map(o=>o.name):e.rol=="vendedor"?e.permissions=c.permisos.filter(o=>(o=o.name,!(o.includes("usuarios")||o.includes("pagos")||o.includes("entradas")||o.includes("eliminar"))&&o!="crear experiencas")).map(o=>o.name):e.rol=="proveedor"&&(e.permissions=c.permisos.filter(o=>(o=o.name,!(o.includes("usuarios")||o.includes("pagos")||o.includes("entradas")||o.includes("eliminar"))&&o!="crear experiencas")).map(o=>o.name))}function M(o){e.permissions.includes(o)?e.permissions=e.permissions.filter(d=>d!=o):e.permissions.push(o)}const A=Z(()=>f.value=="av"?c.users.filter(o=>o.rol=="superadmin"||o.rol=="admin"||o.rol=="cordinador"):c.users.filter(o=>o.rol==f.value)),b=o=>{e.camara=o.target.files[0]},g=o=>{e.rut=o.target.files[0]},R=o=>{e.cuenta=o.target.files[0]};return(o,d)=>{const N=se;return T(),z($,null,[w("div",Ee,[w("div",be,[(T(),z($,null,j(h,m=>w("span",{class:re(["bg-black p-1 rounded-md cursor-pointer text-center uppercase hover:text-black font-bold",[`bg-${m.color}-200 p-2 rounded-lg`,f.value==m.value?"border-2 border-gray-500 scale-105":"border-2 border-transparent scale-95"]]),onClick:O=>f.value=m.value},Q(m.label),11,Me)),64))]),P(le,{columnas:u,add:s,data:A.value,routecreate:"services.create",actions:l},null,8,["data"])]),P(ve,{visible:n.value,"onUpdate:visible":d[8]||(d[8]=m=>n.value=m),width:"90vw","close-on-escape":""},{title:H(()=>d[9]||(d[9]=[w("span",{class:"text-xl font-bold white-space-nowrap"}," Agregar Usuario",-1)])),icon:H(()=>d[10]||(d[10]=[w("i",{class:"fa-solid fa-plus"},null,-1)])),footer:H(()=>[P(N,{onClick:E,title:"Guardar",severity:"success",label:"Guardar",outlined:"",icon:"fa-solid fa-save",class:"!h-8"}),P(N,{onClick:d[7]||(d[7]=m=>n.value=!1),title:"Cancel",severity:"danger",label:"Cancelar",outlined:"",icon:"fa-solid fa-times",class:"!h-8"})]),default:H(()=>[w("div",ye,[w("div",Re,[P(L,{label:"Tipo de Usuario",modelValue:C(e).rol,"onUpdate:modelValue":d[0]||(d[0]=m=>C(e).rol=m),onValueChange:y,type:"dropdown","option-value":"value","option-label":"label",options:S},null,8,["modelValue"]),P(L,{label:"Nombre",modelValue:C(e).name,"onUpdate:modelValue":d[1]||(d[1]=m=>C(e).name=m),"error-message":C(e).errors.name},null,8,["modelValue","error-message"]),P(L,{label:"Email",modelValue:C(e).email,"onUpdate:modelValue":d[2]||(d[2]=m=>C(e).email=m)},null,8,["modelValue"]),P(L,{label:"Contraseña",type:"password",modelValue:C(e).password,"onUpdate:modelValue":d[3]||(d[3]=m=>C(e).password=m)},null,8,["modelValue"]),P(L,{label:"Confirmar contraseña",type:"password",modelValue:C(e).password_confirmation,"onUpdate:modelValue":d[4]||(d[4]=m=>C(e).password_confirmation=m)},null,8,["modelValue"]),P(L,{label:"Telefono",modelValue:C(e).phone,"onUpdate:modelValue":d[5]||(d[5]=m=>C(e).phone=m)},null,8,["modelValue"]),C(e).rol=="vendedor"?(T(),z("div",Se,[w("div",Ae,[w("label",Pe,[d[11]||(d[11]=w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10 fill-white stroke-indigo-500",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),w("span",_e,Q(C(e).camara?C(e).camara.name:"Seleccionar Camara de Comercio"),1)]),w("input",{id:"upload",accept:".pdf",onChange:b,type:"file",class:"hidden"},null,32)])])):G("",!0),C(e).rol=="vendedor"?(T(),z("div",Ne,[w("div",ke,[w("label",Ie,[d[12]||(d[12]=w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10 fill-white stroke-indigo-500",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),w("span",ze,Q(C(e).rut?C(e).rut.name:"Seleccionar Rut"),1)]),w("input",{id:"uploadRut",accept:".pdf",onChange:g,type:"file",class:"hidden"},null,32)])])):G("",!0),C(e).rol=="vendedor"?(T(),z("div",Te,[w("div",Be,[w("label",Le,[d[13]||(d[13]=w("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10 fill-white stroke-indigo-500",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[w("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),w("span",Ue,Q(C(e).cuenta?C(e).cuenta.name:"Seleccionar Certificado de Cuenta Bancari"),1)]),w("input",{id:"uploadCuenta",accept:".pdf",onChange:R,type:"file",class:"hidden"},null,32)])])):G("",!0),C(e).rol=="vendedor"?(T(),z("div",Oe,[w("a",{target:"_blank",href:C(e).url},[P(Ce,{value:C(e).url,size:150,level:"H","render-as":"svg"},null,8,["value"])],8,De)])):G("",!0)]),w("div",Ve,[d[14]||(d[14]=w("h3",{class:"text-center font-semibold text-lg"},"Permisos",-1)),P(L,{class:"my-1",modelValue:r.value,"onUpdate:modelValue":d[6]||(d[6]=m=>r.value=m)},null,8,["modelValue"]),w("div",Fe,[(T(!0),z($,null,j(t.value,m=>(T(),z("span",{onClick:O=>M(m.name),class:re([{"bg-black text-white":C(e).permissions.includes(m.name),"bg-gray-100":!C(e).permissions.includes(m.name)},"p-1 rounded-md cursor-pointer border border-black text-center uppercase hover:bg-black hover:text-white"])},Q(m.name),11,Qe))),256))])])])]),_:1},8,["visible"]),P(C(he))],64)}}};export{cr as default};
