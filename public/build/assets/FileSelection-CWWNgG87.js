import{s as B}from"./index-BT8CLyo_.js";import{a as P,s as M}from"./index-bj9O3hlO.js";import{P as T,Q as V,d as v,f as d,o as p,b as n,w as f,a as t,g as A,F as E,j as L,t as h,I as N}from"./app-BK8deXaT.js";import"./index-9idzQMBQ.js";import"./index-Dez0cGUx.js";import"./index-VrIQ1wqv.js";import"./index-CYd3fb05.js";import"./index-CKRHdx0h.js";import"./index-BXU4213m.js";const R={class:"card"},q={class:"flex flex-wrap justify-between items-center flex-1 gap-4"},Q={class:"flex gap-2"},D={class:"flex flex-col gap-8 pt-4"},O={key:0},G={class:"flex flex-wrap gap-4"},H=["alt","src"],J={class:"font-semibold text-ellipsis max-w-60 whitespace-nowrap overflow-hidden"},ie={__name:"FileSelection",props:{service:{type:Object},route:{type:String,required:!1,default:null}},setup(y){const g=y,S=g.route||route("services.photos.upload",g.service.id),k=T(),z=V(),u=v(0),w=v(0),x=v([]),F=(o,e,l)=>{e(l),u.value-=parseInt(m(o.size)),w.value=u.value/10},C=o=>{x.value=o.files,x.value.forEach(e=>{u.value+=parseInt(m(e.size))})},$=o=>{o()},U=()=>{z.add({severity:"info",summary:"Success",detail:"File Uploaded",life:3e3})},m=o=>{const r=k.config.locale.fileSizeTypes;if(o===0)return`0 ${r[0]}`;const c=Math.floor(Math.log(o)/Math.log(1024));return`${parseFloat((o/Math.pow(1024,c)).toFixed(3))} ${r[c]}`},I=o=>{let e=o.files;N.post(S,{images:e},{onSuccess:()=>{alert("subidos")}})};return(o,e)=>{const l=M,r=P,c=B;return p(),d("div",R,[n(c,{name:"demo[]",customUpload:"",onUpload:e[0]||(e[0]=i=>U()),multiple:!0,accept:"image/*",maxFileSize:1e6,onUploader:I,onSelect:C},{header:f(({chooseCallback:i,uploadCallback:_,clearCallback:b,files:a})=>[t("div",q,[t("div",Q,[n(l,{onClick:s=>i(),icon:"pi pi-images",size:"small",severity:"primary",label:"Seleccionar"},null,8,["onClick"]),n(l,{label:"Subir",onClick:s=>$(_),icon:"pi pi-cloud-upload",size:"small",severity:"success",disabled:!a||a.length===0},null,8,["onClick","disabled"]),n(l,{label:"Limpiar",onClick:s=>b(),icon:"pi pi-times",size:"small",severity:"danger",disabled:!a||a.length===0},null,8,["onClick","disabled"])]),e[1]||(e[1]=t("h1",{class:"text-lg font-bold"},"Subir Imagenes",-1))])]),content:f(({files:i,uploadedFiles:_,removeUploadedFileCallback:b,removeFileCallback:a})=>[t("div",D,[i.length>0?(p(),d("div",O,[e[2]||(e[2]=t("h5",null,"Pending",-1)),t("div",G,[(p(!0),d(E,null,L(i,(s,j)=>(p(),d("div",{key:s.name+s.type+s.size,class:"p-8 rounded-border flex flex-col border border-surface items-center gap-4"},[t("div",null,[t("img",{role:"presentation",alt:s.name,src:s.objectURL,width:"100",height:"50"},null,8,H)]),t("span",J,h(s.name),1),t("div",null,h(m(s.size)),1),n(r,{value:"Pending",severity:"warn"}),n(l,{icon:"pi pi-times",onClick:K=>F(s,a,j),outlined:"",rounded:"",severity:"danger"},null,8,["onClick"])]))),128))])])):A("",!0)])]),empty:f(()=>[...e[3]||(e[3]=[t("div",{class:"flex items-center justify-center flex-col"},[t("i",{class:"pi pi-cloud-upload !border-2 !rounded-full !p-8 !text-xl !text-muted-color"}),t("p",{class:"mt-6 mb-0"},"Arrastrar y soltar Imagenes AQUI.")],-1)])]),_:1})])}}};export{ie as default};
