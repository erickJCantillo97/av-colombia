import{R,A as b,d as c,p as E,a0 as $,c as A,o as d,w as M,a as t,f as n,g as y,E as k,F as f,j as h,t as r,a6 as O,G as w,n as _}from"./app-Cw7xsTJx.js";import{_ as P}from"./AppLayout-ZqjxxfCO.js";import"./marked.esm-BPgSS2IS.js";import"./Auth-BNZPDch_.js";/* empty css                                                             */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DrBED-Nv.js";import"./index-qyQ5kLeS.js";import"./index-DqpStZEi.js";import"./index-DU9fqVmv.js";import"./index-B3k101oV.js";import"./index-B9CkpScn.js";import"./index-BLf5dnhX.js";import"./index-B1X3AlAi.js";const N={class:"py-12"},I={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},T={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-xl sm:rounded-lg"},B={class:"p-6 bg-gray-50 dark:bg-gray-900"},L={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},U=["disabled"],z=["value"],j={key:0,class:"flex items-end"},G={key:0,class:"p-6"},H={class:"mb-6"},q={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},J={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},K={class:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4"},Q={class:"text-2xl font-bold text-blue-900 dark:text-blue-300"},W={class:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4"},X={class:"text-2xl font-bold text-green-900 dark:text-green-300"},Y={class:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4"},Z={class:"text-2xl font-bold text-purple-900 dark:text-purple-300"},tt={class:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4"},et={class:"text-2xl font-bold text-orange-900 dark:text-orange-300"},at={class:"overflow-x-auto"},rt={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},st={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},ot={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},dt={class:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100"},lt={class:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100"},nt={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100"},it={class:"px-4 py-3 whitespace-nowrap text-sm text-right text-gray-900 dark:text-gray-100"},gt={class:"px-4 py-3 whitespace-nowrap text-sm text-right text-green-600 dark:text-green-400 font-medium"},ut={class:"px-4 py-3 whitespace-nowrap text-sm text-right text-purple-600 dark:text-purple-400 font-medium"},xt={class:"px-4 py-3 whitespace-nowrap"},pt={key:1,class:"p-12 text-center"},ct={key:2,class:"p-12 text-center"},Rt={__name:"VendedorReport",props:{vendedores:Array},setup(C){const V=R(),v=b(()=>V.props.auth.user),g=b(()=>v.value?.rol==="vendedor"),i=c(null),u=c(null),x=c(null),o=c(null),m=c(!1);E(()=>{g.value&&(i.value=v.value.id,p())});const p=async()=>{if(!i.value){o.value=null;return}m.value=!0;try{const s={};u.value&&(s.fecha_inicio=u.value),x.value&&(s.fecha_fin=x.value);const{data:e}=await $.get(route("vendedor.report.show",i.value),{params:s});o.value=e}catch(s){console.error("Error al cargar el informe:",s),alert("Error al cargar el informe. Por favor, intente nuevamente.")}finally{m.value=!1}},D=()=>{g.value||(i.value=null),u.value=null,x.value=null,o.value=null,g.value&&p()},l=s=>new Intl.NumberFormat("es-CO",{minimumFractionDigits:0,maximumFractionDigits:2}).format(s),F=s=>new Date(s).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit"}),S=s=>({RESERVADO:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",CONFIRMADO:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",CANCELADO:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",COMPLETADO:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400"})[s?.toUpperCase()]||"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400";return(s,e)=>(d(),A(P,{title:"Informe de Vendedores"},{default:M(()=>[t("div",N,[t("div",I,[t("div",T,[e[15]||(e[15]=t("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700"},[t("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Informe de Contabilidad - Vendedores "),t("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Consulta las ventas, recaudos y pagos realizados a cada vendedor ")],-1)),t("div",B,[t("div",L,[t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Vendedor ",-1)),k(t("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>i.value=a),disabled:g.value,class:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 disabled:opacity-60 disabled:cursor-not-allowed",onChange:p},[e[3]||(e[3]=t("option",{value:null},"Seleccione un vendedor",-1)),(d(!0),n(f,null,h(C.vendedores,a=>(d(),n("option",{key:a.id,value:a.id},r(a.name),9,z))),128))],40,U),[[O,i.value]])]),t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Fecha Inicio ",-1)),k(t("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>u.value=a),type:"date",class:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onChange:p},null,544),[[w,u.value]])]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Fecha Fin ",-1)),k(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>x.value=a),type:"date",class:"w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500",onChange:p},null,544),[[w,x.value]])]),g.value?y("",!0):(d(),n("div",j,[t("button",{onClick:D,class:"w-full px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-md transition-colors"}," Limpiar Filtros ")]))])]),o.value?(d(),n("div",G,[t("div",H,[t("h3",q," Resumen - "+r(o.value.vendedor.name),1),t("div",J,[t("div",K,[e[7]||(e[7]=t("p",{class:"text-sm text-blue-600 dark:text-blue-400 font-medium"},"Total Vendido",-1)),t("p",Q," $"+r(l(o.value.totales.total_vendido)),1)]),t("div",W,[e[8]||(e[8]=t("p",{class:"text-sm text-green-600 dark:text-green-400 font-medium"},"Total Recaudo",-1)),t("p",X," $"+r(l(o.value.totales.total_recaudo)),1)]),t("div",Y,[e[9]||(e[9]=t("p",{class:"text-sm text-purple-600 dark:text-purple-400 font-medium"},"Total Pagado",-1)),t("p",Z," $"+r(l(o.value.totales.total_pagado)),1)]),t("div",tt,[e[10]||(e[10]=t("p",{class:"text-sm text-orange-600 dark:text-orange-400 font-medium"},"Saldo Pendiente",-1)),t("p",et," $"+r(l(o.value.totales.saldo_pendiente)),1)])])]),t("div",at,[e[12]||(e[12]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," Detalle de Reservaciones ",-1)),t("table",rt,[e[11]||(e[11]=t("thead",{class:"bg-gray-50 dark:bg-gray-900"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Fecha "),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Servicio "),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Cliente "),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Pax "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Precio Total "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Recaudo "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Pagado "),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Saldo "),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Estado ")])],-1)),t("tbody",st,[(d(!0),n(f,null,h(o.value.detalles,a=>(d(),n("tr",{key:a.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[t("td",ot,r(F(a.fecha)),1),t("td",dt,r(a.servicio),1),t("td",lt,r(a.cliente),1),t("td",nt,r(a.adultos)+"A / "+r(a.ninos)+"N ",1),t("td",it," $"+r(l(a.precio_total)),1),t("td",gt," $"+r(l(a.recaudo)),1),t("td",ut," $"+r(l(a.pagado)),1),t("td",{class:_(["px-4 py-3 whitespace-nowrap text-sm text-right font-medium",a.saldo_pendiente>0?"text-orange-600 dark:text-orange-400":"text-gray-500 dark:text-gray-400"])}," $"+r(l(a.saldo_pendiente)),3),t("td",xt,[t("span",{class:_(["px-2 py-1 text-xs font-medium rounded-full",S(a.status)])},r(a.status),3)])]))),128))])])])])):m.value?y("",!0):(d(),n("div",pt,[...e[13]||(e[13]=[t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),t("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"},"Sin datos",-1),t("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Selecciona un vendedor para ver su informe ",-1)])])),m.value?(d(),n("div",ct,[...e[14]||(e[14]=[t("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"},null,-1),t("p",{class:"mt-4 text-sm text-gray-600 dark:text-gray-400"},"Cargando informe...",-1)])])):y("",!0)])])])]),_:1}))}};export{Rt as default};
