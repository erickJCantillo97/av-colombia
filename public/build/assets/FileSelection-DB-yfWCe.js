import{s as j}from"./index-CJfblDQ-.js";import{s as I,b as M}from"./index-DDd98yEy.js";import{s as P}from"./index-B_pahb4N.js";import{b7 as V,aJ as A,d as v,f as d,b as i,w as f,G as E,o as p,a as o,F as L,i as N,t as h,g as G}from"./app-BdkCE9W3.js";import"./index-DTRwGntd.js";import"./index-BUFgW1K2.js";import"./index-kSF6Lcq3.js";import"./index-BYMLE8oP.js";import"./index-C9dTGDPq.js";import"./index-Db4iClnZ.js";import"./index-KDdHpqSL.js";const R={class:"card"},D={class:"flex flex-wrap justify-between items-center flex-1 gap-4"},J={class:"flex gap-2"},O={class:"flex flex-col gap-8 pt-4"},Q={key:0},q={class:"flex flex-wrap gap-4"},H=["alt","src"],K={class:"font-semibold text-ellipsis max-w-60 whitespace-nowrap overflow-hidden"},re={__name:"FileSelection",props:{service:{type:Object}},setup(k){const y=k,z=V(),S=A(),m=v(0),w=v(0),g=v([]),F=(t,e,r)=>{e(r),m.value-=parseInt(u(t.size)),w.value=m.value/10},$=t=>{g.value=t.files,g.value.forEach(e=>{m.value+=parseInt(u(e.size))})},C=t=>{t()},U=()=>{S.add({severity:"info",summary:"Success",detail:"File Uploaded",life:3e3})},u=t=>{const l=z.config.locale.fileSizeTypes;if(t===0)return`0 ${l[0]}`;const c=Math.floor(Math.log(t)/Math.log(1024));return`${parseFloat((t/Math.pow(1024,c)).toFixed(3))} ${l[c]}`},B=t=>{let e;e=t.files,E.post(route("upload.images",y.service.slug),{images:e},{onSuccess:()=>{alert("subidos")}})};return(t,e)=>{const r=P,l=I,c=M,_=j;return p(),d("div",R,[i(r),i(_,{name:"demo[]",customUpload:"",onUpload:e[0]||(e[0]=n=>U()),multiple:!0,accept:"image/*",maxFileSize:1e6,onUploader:B,onSelect:$},{header:f(({chooseCallback:n,uploadCallback:x,clearCallback:b,files:a})=>[o("div",D,[o("div",J,[i(l,{onClick:s=>n(),icon:"pi pi-images",size:"small",severity:"primary",label:"Seleccionar"},null,8,["onClick"]),i(l,{label:"Subir",onClick:s=>C(x),icon:"pi pi-cloud-upload",size:"small",severity:"success",disabled:!a||a.length===0},null,8,["onClick","disabled"]),i(l,{label:"Limpiar",onClick:s=>b(),icon:"pi pi-times",size:"small",severity:"danger",disabled:!a||a.length===0},null,8,["onClick","disabled"])])])]),content:f(({files:n,uploadedFiles:x,removeUploadedFileCallback:b,removeFileCallback:a})=>[o("div",O,[n.length>0?(p(),d("div",Q,[e[1]||(e[1]=o("h5",null,"Pending",-1)),o("div",q,[(p(!0),d(L,null,N(n,(s,T)=>(p(),d("div",{key:s.name+s.type+s.size,class:"p-8 rounded-border flex flex-col border border-surface items-center gap-4"},[o("div",null,[o("img",{role:"presentation",alt:s.name,src:s.objectURL,width:"100",height:"50"},null,8,H)]),o("span",K,h(s.name),1),o("div",null,h(u(s.size)),1),i(c,{value:"Pending",severity:"warn"}),i(l,{icon:"pi pi-times",onClick:W=>F(s,a,T),outlined:"",rounded:"",severity:"danger"},null,8,["onClick"])]))),128))])])):G("",!0)])]),empty:f(()=>e[2]||(e[2]=[o("div",{class:"flex items-center justify-center flex-col"},[o("i",{class:"pi pi-cloud-upload !border-2 !rounded-full !p-8 !text-xl !text-muted-color"}),o("p",{class:"mt-6 mb-0"},"Arrastrar y soltar Imagenes AQUI.")],-1)])),_:1})])}}};export{re as default};
