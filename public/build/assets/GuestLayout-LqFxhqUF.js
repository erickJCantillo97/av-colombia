import{d as l,A as W,p as $,C as H,f as m,o as h,b as n,a as t,h as E,S as P,n as N,r as A,w as f,ab as v,g as y,F as B}from"./app-C5I5Ygl_.js";import"./searchStore-CuaogzV0.js";import{H as z}from"./GuestLayout.vue_vue_type_style_index_0_scoped_106c70c4_lang-D_dVdiNi.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import V from"./FooterSection-9gBijjfS.js";const q={class:""},M={key:0,class:"whatsapp-tooltip"},Y="k_W3HYBYhd5XSmAQhZ3OIhHav0tIw4eMNJyeuHmnI98",R={__name:"GuestLayout",props:{canLogin:{type:Boolean},isWelcomePage:{type:Boolean,default:!1}},setup(w){l(!1);const _=l(!1),e=l(["/images/cartagena.webp"]),c=l(0),i=l(!1);let u=null;const C=async()=>{if(!i.value){i.value=!0,console.log("Cargando imÃ¡genes de Cartagena desde Unsplash...");try{const o=["cartagena colombia","cartagena de indias","cartagena old city","cartagena colonial","cartagena walls","cartagena colorful houses"],a=[];for(const s of o)try{const r=await fetch(`https://api.unsplash.com/search/photos?query=${encodeURIComponent(s)}&per_page=5&orientation=landscape&client_id=${Y}`,{headers:{Accept:"application/json"}});if(r.ok){const U=(await r.json()).results.map(d=>({url:`${d.urls.regular}&w=1920&h=1080&fit=crop&crop=center&auto=format&q=80`,alt:d.alt_description||"Cartagena Colombia",id:d.id}));a.push(...U)}}catch(r){console.warn(`Error buscando "${s}":`,r)}if(a.length>0){const s=a.sort(()=>.5-Math.random());e.value=["/images/cartagena.webp",...s.slice(0,15).map(r=>r.url)],console.log(`âœ… Cargadas ${e.value.length-1} imÃ¡genes de Cartagena`)}else e.value=["/images/cartagena.webp","https://source.unsplash.com/1920x1080/?cartagena,colombia,1","https://source.unsplash.com/1920x1080/?cartagena,colonial,2","https://source.unsplash.com/1920x1080/?cartagena,colorful,3","https://source.unsplash.com/1920x1080/?cartagena,old,city,4","https://source.unsplash.com/1920x1080/?cartagena,walls,5","https://source.unsplash.com/1920x1080/?cartagena,architecture,6","https://source.unsplash.com/1920x1080/?cartagena,street,7","https://source.unsplash.com/1920x1080/?cartagena,balcony,8"],console.log("ðŸ’¡ Usando URLs directas de Unsplash Source como fallback")}catch(o){console.error("âŒ Error cargando imÃ¡genes:",o),e.value=["/images/cartagena.webp","https://source.unsplash.com/1920x1080/?cartagena,colombia","https://source.unsplash.com/1920x1080/?cartagena,colonial","https://source.unsplash.com/1920x1080/?cartagena,colorful","https://source.unsplash.com/1920x1080/?cartagena,architecture"],console.log("ðŸ”„ Usando fallback bÃ¡sico de Unsplash Source")}finally{i.value=!1}}};W(()=>{const o=e.value[c.value];return console.log("ðŸ–¼ï¸ Imagen actual:",o),{backgroundImage:`url('${o}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",minHeight:"10vh"}});const S=()=>{c.value=(c.value+1)%e.value.length,console.log(`ðŸ”„ Cambiando a imagen ${c.value+1}/${e.value.length}`)},b=()=>{const o=(c.value+1)%e.value.length,a=e.value[o];if(a){const s=new Image;s.onload=()=>console.log("âš¡ Precargada:",a),s.onerror=()=>console.warn("âš ï¸ Error precargando:",a),s.src=a}},x=l(!1),I=()=>{x.value=window.scrollY>500},k=()=>{window.scrollTo({top:0,behavior:"smooth"})},p=l(!0);let g=null;const T=()=>{p.value=!1},L=()=>{p.value=!0};return $(async()=>{console.log("ðŸš€ Iniciando GuestLayout..."),await C(),b(),u=setInterval(()=>{S(),b()},45e3),window.addEventListener("scroll",I),g=setTimeout(()=>{T()},5e3),console.log("âœ… GuestLayout listo con",e.value.length,"imÃ¡genes")}),H(()=>{u&&clearInterval(u),g&&clearTimeout(g),window.removeEventListener("scroll",I)}),(o,a)=>(h(),m(B,null,[n(E(P),{title:"Inicio"}),t("div",q,[n(z,{isScrolled:_.value,isWelcomePage:w.isWelcomePage},null,8,["isScrolled","isWelcomePage"]),t("div",{class:N(w.isWelcomePage?"":"pt-44")},[A(o.$slots,"default",{},void 0,!0)],2)]),n(V),n(v,{name:"fade-scale"},{default:f(()=>[t("a",{href:"https://wa.me/573046790115?text=Hola%2C%20necesito%20informaciÃ³n%20sobre%20sus%20servicios",target:"_blank",rel:"noopener noreferrer",class:"fixed bottom-28 right-8 z-50 group whatsapp-button","aria-label":"Contactar por WhatsApp",onMouseenter:L},[a[1]||(a[1]=t("div",{class:"whatsapp-float"},[t("i",{class:"fa-brands fa-whatsapp text-white text-3xl"})],-1)),n(v,{name:"slide-fade-right"},{default:f(()=>[p.value?(h(),m("div",M,[...a[0]||(a[0]=[t("span",{class:"tooltip-text"},"Â¿Necesitas ayuda?",-1),t("div",{class:"tooltip-subtext"},"Haz clic para chatear",-1)])])):y("",!0)]),_:1})],32)]),_:1}),n(v,{name:"fade-scale"},{default:f(()=>[x.value?(h(),m("button",{key:0,onClick:k,class:"fixed bottom-8 right-8 z-50 group scroll-top-button","aria-label":"Volver arriba"},[...a[2]||(a[2]=[t("div",{class:"scroll-top-float"},[t("i",{class:"fa-solid fa-arrow-up text-white text-lg"})],-1),t("div",{class:"scroll-top-tooltip"}," Volver arriba ",-1)])])):y("",!0)]),_:1})],64))}},X=G(R,[["__scopeId","data-v-106c70c4"]]);export{X as G};
