import{d as h,A as E,B as S,p as V,e as $,f as u,o as c,b as w,a as t,t as r,g as _,U as B,c as C,w as T,a9 as I,h as k,i as A,F as z}from"./app-Cr-F_cDA.js";import{s as m}from"./searchStore-DzdI9tOj.js";import{H}from"./Header-B_0LKZd2.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{s as U}from"./index-Dv8v3z_l.js";import P from"./IncludesView-BMgwBmBb.js";import R from"./Breadcrumb-BCq6EKoy.js";import G from"./Gallery-Cd7enYJg.js";import"./es-Qk26u4cd.js";import"./autoprefixer-BadqF5wm.js";import J from"./Equipament-CM0H6gap.js";import Y from"./CollectionPoints-CE27hdmI.js";/* empty css                                                                    */import"./useCommonUtilities-BgDhORlD.js";import"./index-B4IuqNfq.js";import"./index-DCokI89a.js";import"./index-Bs-P0Fz6.js";import"./index-C8PZH3uz.js";import"./index-Cz30p6Lx.js";import"./index-CI-88Dlx.js";import"./index-1k4IiPkO.js";import"./index-DWA78wxi.js";import"./index-BXwg8W4a.js";import"./index-pb_bI9Ol.js";import"./index-C8DRG_8g.js";import"./index-DUxTlucW.js";import"./index-Bx9UVo9g.js";import"./logo-CZZXz63Y.js";import"./index-CMWwk4EL.js";import"./index-C33iBDS0.js";import"./index-Dn_g2hcu.js";import"./index-BI7Wpm23.js";import"./index-CHpD3D2D.js";import"./postcss-CTYT77r_.js";const q={class:"px-4 py-8 md:py-16 md:px-16 max-w-7xl mx-auto"},K={class:"mb-6"},Q={class:"text-2xl md:text-3xl font-semibold text-gray-900 capitalize mb-2"},W={class:"flex flex-wrap items-center gap-4 text-sm"},X={class:"flex items-center gap-1"},Z={class:"font-medium"},ee={class:"text-gray-500"},te={key:0,class:"text-gray-700"},se={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},ae={class:"lg:col-span-2 space-y-6"},oe={class:"border-b pb-6"},re={class:"flex items-center justify-between mb-4"},ie={class:"text-xl font-semibold text-gray-900"},le={class:"text-gray-600"},ne={class:"w-12 h-12 bg-gray-300 rounded-full flex items-center justify-center"},ce={class:"text-gray-600 font-medium"},de={class:"border-b pb-6"},ue={class:"prose max-w-none text-gray-700"},me=["innerHTML"],ve=["innerHTML"],pe={class:"lg:col-span-1"},fe={class:"sticky top-24"},ge={class:"bg-white border rounded-2xl shadow-md p-6"},be={class:"flex items-baseline justify-between"},xe={class:"text-2xl md:text-3xl font-bold text-gray-900"},ye={class:"mt-3 flex items-center justify-between text-sm text-gray-600"},he={class:"flex items-center gap-2"},we={class:"font-medium"},_e={class:"text-gray-500"},ke={class:"text-right text-sm text-gray-500"},Ne={class:"font-medium text-gray-700"},De={class:"mt-4 space-y-3"},Se={class:"grid grid-cols-2 gap-2"},Ce={class:"text-sm text-gray-900 font-medium"},Ae={class:"text-sm text-gray-900 font-medium"},Me={class:"p-4"},Ee={class:"flex items-center border border-gray-300 rounded-lg"},Te={class:"flex-1 text-center py-3"},Fe={class:"text-sm font-medium text-gray-900"},Le={class:"pt-2"},je=["disabled"],Ve={key:0,class:"mt-4"},$e={key:0,class:"mb-3 text-sm"},Be={key:0,class:"text-green-600 flex items-center gap-1"},Ie={key:1,class:"text-red-600 flex items-center gap-1"},ze={class:"border-t pt-3"},He={class:"flex items-center justify-between text-sm text-gray-600"},Oe={class:"font-medium text-gray-900"},Ue={class:"flex items-center justify-between text-sm text-gray-600 mt-1"},Pe={class:"font-medium text-gray-900"},Re={class:"flex items-center justify-between text-base font-semibold text-gray-900 mt-3 pt-3 border-t"},Ge={key:1,class:"mt-4 border-t pt-3"},Je={__name:"Show_new",props:{service:Object,availabilities:Array},setup(i){const d=i,D=h(!1),l=h(null),n=h(1),N=h(null),F=E(()=>{if(!d.availabilities)return new Set;try{const s=new Set;return d.availabilities.forEach(e=>{e&&(typeof e=="string"?s.add(e.split("T")[0]):e.date?s.add(e.date.split("T")[0]):e.start_date?s.add(e.start_date.split("T")[0]):e.start&&s.add(e.start.split("T")[0]))}),s}catch{return new Set}});function f(s){if(!s)return null;const e=s.getFullYear(),o=String(s.getMonth()+1).padStart(2,"0"),a=String(s.getDate()).padStart(2,"0");return`${e}-${o}-${a}`}function L(s){console.log("Calendar change:",s);try{if(!s){l.value=null,m.checkin.value="",m.checkout.value="";return}if(Array.isArray(s)){const[e,o]=s;l.value=s,m.checkin.value=e?f(e):"",m.checkout.value=o?f(o):"",e&&o&&setTimeout(()=>{try{N.value?.hide()}catch{}},500)}}catch(e){console.error("Error handling calendar change:",e)}}const M=E(()=>{if(!l.value||l.value.length<2)return!1;const[s,e]=l.value;if(!s||!e)return!1;const o=new Date(s),a=new Date(e);if(o>a)return!1;const p=F.value;if(p.size===0)return!0;for(let g=new Date(o);g<=a;g.setDate(g.getDate()+1)){const j=f(g);if(!p.has(j))return!1}return!0}),b=h(null),x=h(null);S(l,s=>{if(!s){b.value=null,x.value=null;return}Array.isArray(s)&&(b.value=s[0]?f(s[0]):null,x.value=s[1]?f(s[1]):null)}),V(()=>{try{const s=m.checkin?.value,e=m.checkout?.value;if(s&&e){const a=new Date(s),p=new Date(e);!isNaN(a)&&!isNaN(p)&&(l.value=[a,p])}else if(s){const a=new Date(s);isNaN(a)||(l.value=[a,null])}const o=m.guests?.value;if(o){const a=Number(o.adults||0)+Number(o.children||0)+Number(o.infants||0)||1;n.value=a}}catch(s){console.error("Error mounting component:",s)}}),S([()=>m.checkin.value,()=>m.checkout.value],([s,e])=>{try{if(s&&e){const o=new Date(s),a=new Date(e);if(!isNaN(o)&&!isNaN(a)){const p=l.value?.[0],g=l.value?.[1];(!p||!g||f(p)!==s||f(g)!==e)&&(l.value=[o,a])}}else if(s&&!e){const o=new Date(s);isNaN(o)||(l.value=[o,null])}else l.value=null}catch(o){console.error("Error watching store changes:",o)}}),S(()=>m.guests.value,s=>{if(!s)return;const e=Number(s.adults||0)+Number(s.children||0)+Number(s.infants||0)||1;n.value=e},{deep:!0}),S(n,s=>{const e=m.guests.value||{adults:1,children:0,infants:0},o=Math.max(1,Number(s)-(Number(e.children||0)+Number(e.infants||0)));m.guests.value={...e,adults:o}});const y=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),v={name:d.service.title,price:y.format(d.service.price),rating:4,images:d.service.images.map(s=>s.filepath),features:d.service.features,description:d.service.description,details:[{name:"Incluidos",items:JSON.parse(d.service.includes)},{name:"No Incluidos",items:JSON.parse(d.service.notIncludes)}]};return(s,e)=>{const o=$("VueDatePicker");return c(),u(z,null,[w(H),t("div",q,[w(R,{service:i.service,class:"mb-4"},null,8,["service"]),t("div",K,[t("h1",Q,r(v.name),1),t("div",W,[t("div",X,[e[7]||(e[7]=t("span",{class:"text-yellow-500"},"⭐",-1)),t("span",Z,r(v.rating),1),t("span",ee,"("+r(i.service.reviews_count||0)+" reseñas)",1)]),i.service.location?(c(),u("span",te,r(i.service.location),1)):_("",!0),e[8]||(e[8]=B('<div class="flex items-center gap-3 ml-auto" data-v-98b2161c><button class="flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg border" data-v-98b2161c><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-98b2161c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z" data-v-98b2161c></path></svg> Compartir </button><button class="flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg border" data-v-98b2161c><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-98b2161c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" data-v-98b2161c></path></svg> Guardar </button></div>',1))])]),w(G,{images:v.images,class:"mb-8"},null,8,["images"]),t("div",se,[t("main",ae,[t("div",oe,[t("div",re,[t("div",null,[t("h2",ie,r(i.service.type||"Experiencia")+" ofrecida por "+r(i.service.host_name||"Anfitrión"),1),t("p",le,r(n.value)+" huésped"+r(n.value>1?"es":"")+" · Se traduce automáticamente",1)]),t("div",ne,[t("span",ce,r((i.service.host_name||"A")[0].toUpperCase()),1)])])]),t("section",de,[e[9]||(e[9]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-3"},"Acerca de esta experiencia",-1)),t("div",ue,[w(I,{name:"expand"},{default:T(()=>[D.value||v.description.length<=500?(c(),u("div",{key:"full",innerHTML:v.description},null,8,me)):(c(),u("div",{key:"short",innerHTML:v.description.slice(0,500)+"..."},null,8,ve))]),_:1}),v.description.length>500?(c(),u("button",{key:0,onClick:e[0]||(e[0]=a=>D.value=!D.value),class:"text-gray-900 hover:underline mt-2 font-medium"},r(D.value?"Mostrar menos":"Mostrar más")+" › ",1)):_("",!0)])]),i.service.type=="EMBARCACION"?(c(),C(J,{key:0,service:i.service,class:"border-b pb-6"},null,8,["service"])):_("",!0),i.service.includes!="[]"?(c(),C(P,{key:1,service:i.service,class:"border-b pb-6"},null,8,["service"])):_("",!0),i.service.recogidas!="[]"?(c(),C(Y,{key:2,service:i.service,class:"border-b pb-6"},null,8,["service"])):_("",!0)]),t("aside",pe,[t("div",fe,[t("div",ge,[t("div",be,[t("div",xe,r(k(y).format(d.service.price)),1),e[10]||(e[10]=t("div",{class:"text-sm text-gray-600"},"por persona",-1))]),t("div",ye,[t("div",he,[e[11]||(e[11]=t("span",{class:"text-yellow-500"},"⭐",-1)),t("span",we,r(v.rating),1),e[12]||(e[12]=t("span",{class:"text-gray-400"},"·",-1)),t("span",_e,r(i.service.reviews_count||"—")+" reviews",1)]),t("div",ke,[e[13]||(e[13]=A("Disponible · ",-1)),t("span",Ne,r(i.availabilities?i.availabilities.length:"—"),1)])]),t("form",De,[t("div",Se,[t("div",null,[e[14]||(e[14]=t("label",{class:"text-xs font-medium text-gray-700 block mb-1"},"LLEGADA",-1)),t("button",{type:"button",class:"w-full text-left border border-gray-300 rounded-lg px-3 py-3 bg-white hover:border-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-400",onClick:e[1]||(e[1]=a=>N.value?.toggle(a))},[t("div",Ce,r(b.value?new Date(b.value).toLocaleDateString("es-ES",{day:"numeric",month:"short"}):"Agregar fecha"),1)])]),t("div",null,[e[15]||(e[15]=t("label",{class:"text-xs font-medium text-gray-700 block mb-1"},"SALIDA",-1)),t("button",{type:"button",class:"w-full text-left border border-gray-300 rounded-lg px-3 py-3 bg-white hover:border-gray-400 focus:outline-none focus:ring-1 focus:ring-gray-400",onClick:e[2]||(e[2]=a=>N.value?.toggle(a))},[t("div",Ae,r(x.value?new Date(x.value).toLocaleDateString("es-ES",{day:"numeric",month:"short"}):"Agregar fecha"),1)])]),w(k(U),{ref_key:"op",ref:N,appendTo:"body",class:"!w-auto"},{default:T(()=>[t("div",Me,[w(o,{modelValue:l.value,"onUpdate:modelValue":[e[3]||(e[3]=a=>l.value=a),L],range:"","min-date":new Date,inline:"","auto-apply":"",teleport:!1,locale:"es",format:"dd/MM/yyyy","preview-format":"dd/MM/yyyy",placeholder:"Selecciona fechas"},null,8,["modelValue","min-date"])])]),_:1},512)]),t("div",null,[e[18]||(e[18]=t("label",{class:"text-xs font-medium text-gray-700 block mb-1"},"HUÉSPEDES",-1)),t("div",Ee,[t("button",{type:"button","aria-label":"Disminuir huéspedes",class:"px-3 py-3 hover:bg-gray-50 rounded-l-lg",onClick:e[4]||(e[4]=a=>n.value=Math.max(1,Number(n.value)-1))},[...e[16]||(e[16]=[t("span",{class:"text-lg font-medium text-gray-600"},"−",-1)])]),t("div",Te,[t("span",Fe,r(n.value)+" huésped"+r(n.value>1?"es":""),1)]),t("button",{type:"button","aria-label":"Aumentar huéspedes",class:"px-3 py-3 hover:bg-gray-50 rounded-r-lg",onClick:e[5]||(e[5]=a=>n.value=Number(n.value)+1)},[...e[17]||(e[17]=[t("span",{class:"text-lg font-medium text-gray-600"},"+",-1)])])])]),t("div",Le,[!b.value||!x.value?(c(),u("button",{key:0,type:"button",class:"w-full bg-[#FF385C] hover:bg-[#E31C5F] text-white rounded-lg py-3 font-semibold transition duration-200",onClick:e[6]||(e[6]=a=>N.value?.toggle(a))}," Revisa las fechas ")):(c(),u("button",{key:1,type:"button",disabled:!M.value,class:"w-full bg-[#FF385C] hover:bg-[#E31C5F] text-white rounded-lg py-3 font-semibold transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed"}," Reservar ",8,je))])]),b.value&&x.value?(c(),u("div",Ve,[l.value&&l.value.length===2?(c(),u("div",$e,[M.value?(c(),u("span",Be,[...e[19]||(e[19]=[t("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1),A(" Fechas disponibles ",-1)])])):(c(),u("span",Ie,[...e[20]||(e[20]=[t("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),A(" Fechas no disponibles ",-1)])]))])):_("",!0),t("div",ze,[t("div",He,[t("div",null,r(k(y).format(d.service.price))+" x "+r(n.value)+" huésped"+r(n.value>1?"es":""),1),t("div",Oe,r(k(y).format(d.service.price)),1)]),t("div",Ue,[e[21]||(e[21]=t("div",null,"Tarifa de servicio",-1)),t("div",Pe,r(k(y).format(d.service.price*n.value)),1)]),t("div",Re,[e[22]||(e[22]=t("div",null,"Total",-1)),t("div",null,r(k(y).format(d.service.price*n.value)),1)])])])):(c(),u("div",Ge,[...e[23]||(e[23]=[t("div",{class:"text-center text-gray-500 py-4"},[t("p",{class:"text-sm"},"Selecciona las fechas para ver el precio total")],-1)])])),e[24]||(e[24]=t("p",{class:"mt-3 text-xs text-gray-500"},"Política flexible · Cancelación gratuita hasta 24 horas antes",-1))])])])])])],64)}}},Ct=O(Je,[["__scopeId","data-v-98b2161c"]]);export{Ct as default};
